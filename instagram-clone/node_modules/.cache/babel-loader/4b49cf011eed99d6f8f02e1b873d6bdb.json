{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\filip\\\\instagram-clone\\\\instagram-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\filip\\\\instagram-clone\\\\instagram-clone\\\\src\\\\Post.js\";\nimport React from 'react';\nimport './Post.css';\nimport { Avatar } from '@mui/material';\n\nfunction Post(_ref) {\n  var postId = _ref.postId,\n      username = _ref.username,\n      caption = _ref.caption,\n      imageUrl = _ref.imageUrl;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      comments = _useState2[0],\n      setComments = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      comment = _useState4[0],\n      setComment = _useState4[1];\n\n  useEffect(function () {\n    var unsubscribe;\n\n    if (postId) {\n      unsubscribe = db.collection(\"posts\").doc(postId).collection(\"comments\").onSnapshot(function (snapshot) {\n        setComments(snapshot.docs.map(function (doc) {\n          return doc.data();\n        }));\n      });\n    }\n\n    return function () {\n      unsubscribe();\n    };\n  }, [postId]);\n\n  var postComment = function postComment(e) {\n    e.preventDefault();\n    db.collection(\"posts\").doc(postId).collection(\"comments\").add({\n      text: comment,\n      username: user.displayName\n    });\n    setComment(\"\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: \"post__avatar\",\n    alt: \"\",\n    src: \"/static/images/avatar/1.jpg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, username)), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"post__image\",\n    src: imageUrl,\n    alt: \"Post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"post__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 34\n    }\n  }, username, \" \"), \" \", caption));\n}\n\nexport default Post;","map":{"version":3,"names":["React","Avatar","Post","postId","username","caption","imageUrl","useState","comments","setComments","comment","setComment","useEffect","unsubscribe","db","collection","doc","onSnapshot","snapshot","docs","map","data","postComment","e","preventDefault","add","text","user","displayName"],"sources":["C:/Users/filip/instagram-clone/instagram-clone/src/Post.js"],"sourcesContent":["import React from 'react';\r\nimport './Post.css';\r\nimport { Avatar } from '@mui/material';\r\n\r\nfunction Post({postId, username, caption, imageUrl }) {\r\n  const [comments, setComments] = useState([]);\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let unsubscribe;\r\n    if (postId) {\r\n      unsubscribe = db\r\n        .collection(\"posts\")\r\n        .doc(postId)\r\n        .collection(\"comments\")\r\n        .onSnapshot((snapshot) => {\r\n          setComments(snapshot.docs.map((doc) => doc.data()));\r\n        });\r\n    }\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, [postId]);\r\n\r\n  const postComment = (e) => {\r\n    e.preventDefault();\r\n\r\n    db.collection(\"posts\").doc(postId).collection(\"comments\").add({\r\n      text: comment,\r\n      username: user.displayName,\r\n    });\r\n    setComment(\"\");\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"post\">\r\n      <div className='post__header'>\r\n        <Avatar\r\n          className='post__avatar'\r\n          alt=''\r\n          src=\"/static/images/avatar/1.jpg\"\r\n        />\r\n        <h3>{username}</h3>\r\n      </div>\r\n\r\n      <img className=\"post__image\" src={imageUrl} alt='Post'></img>\r\n\r\n      <h4 className='post__text'><strong>{username} </strong> {caption}</h4>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AACA,SAASC,MAAT,QAAuB,eAAvB;;AAEA,SAASC,IAAT,OAAsD;EAAA,IAAvCC,MAAuC,QAAvCA,MAAuC;EAAA,IAA/BC,QAA+B,QAA/BA,QAA+B;EAAA,IAArBC,OAAqB,QAArBA,OAAqB;EAAA,IAAZC,QAAY,QAAZA,QAAY;;EAAA,gBACpBC,QAAQ,CAAC,EAAD,CADY;EAAA;EAAA,IAC7CC,QAD6C;EAAA,IACnCC,WADmC;;EAAA,iBAEtBF,QAAQ,CAAC,EAAD,CAFc;EAAA;EAAA,IAE7CG,OAF6C;EAAA,IAEpCC,UAFoC;;EAIpDC,SAAS,CAAC,YAAM;IACd,IAAIC,WAAJ;;IACA,IAAIV,MAAJ,EAAY;MACVU,WAAW,GAAGC,EAAE,CACbC,UADW,CACA,OADA,EAEXC,GAFW,CAEPb,MAFO,EAGXY,UAHW,CAGA,UAHA,EAIXE,UAJW,CAIA,UAACC,QAAD,EAAc;QACxBT,WAAW,CAACS,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,UAACJ,GAAD;UAAA,OAASA,GAAG,CAACK,IAAJ,EAAT;QAAA,CAAlB,CAAD,CAAX;MACD,CANW,CAAd;IAOD;;IAED,OAAO,YAAM;MACXR,WAAW;IACZ,CAFD;EAGD,CAfQ,EAeN,CAACV,MAAD,CAfM,CAAT;;EAiBA,IAAMmB,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAO;IACzBA,CAAC,CAACC,cAAF;IAEAV,EAAE,CAACC,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2Bb,MAA3B,EAAmCY,UAAnC,CAA8C,UAA9C,EAA0DU,GAA1D,CAA8D;MAC5DC,IAAI,EAAEhB,OADsD;MAE5DN,QAAQ,EAAEuB,IAAI,CAACC;IAF6C,CAA9D;IAIAjB,UAAU,CAAC,EAAD,CAAV;EACD,CARD;;EAWA,oBACE;IAAK,SAAS,EAAC,MAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,SAAS,EAAC,cAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,MAAD;IACE,SAAS,EAAC,cADZ;IAEE,GAAG,EAAC,EAFN;IAGE,GAAG,EAAC,6BAHN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,eAME;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAKP,QAAL,CANF,CADF,eAUE;IAAK,SAAS,EAAC,aAAf;IAA6B,GAAG,EAAEE,QAAlC;IAA4C,GAAG,EAAC,MAAhD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAVF,eAYE;IAAI,SAAS,EAAC,YAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAA2B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAASF,QAAT,MAA3B,OAAyDC,OAAzD,CAZF,CADF;AAiBD;;AAED,eAAeH,IAAf"},"metadata":{},"sourceType":"module"}