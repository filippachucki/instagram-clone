(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return O}),n.d(t,"b",function(){return z}),n.d(t,"c",function(){return B}),n.d(t,"d",function(){return ae}),n.d(t,"e",function(){return F}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return v}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return k}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return b}),n.d(t,"l",function(){return be}),n.d(t,"m",function(){return Y}),n.d(t,"n",function(){return x}),n.d(t,"o",function(){return oe}),n.d(t,"p",function(){return w}),n.d(t,"q",function(){return ee}),n.d(t,"r",function(){return _}),n.d(t,"s",function(){return le}),n.d(t,"t",function(){return ie}),n.d(t,"u",function(){return U}),n.d(t,"v",function(){return ke}),n.d(t,"w",function(){return j}),n.d(t,"x",function(){return $}),n.d(t,"y",function(){return T}),n.d(t,"z",function(){return I}),n.d(t,"A",function(){return A}),n.d(t,"B",function(){return X}),n.d(t,"C",function(){return N}),n.d(t,"D",function(){return D}),n.d(t,"E",function(){return E}),n.d(t,"F",function(){return S}),n.d(t,"G",function(){return R}),n.d(t,"H",function(){return C}),n.d(t,"I",function(){return L}),n.d(t,"J",function(){return P}),n.d(t,"K",function(){return Q}),n.d(t,"L",function(){return H}),n.d(t,"M",function(){return G}),n.d(t,"N",function(){return Z}),n.d(t,"O",function(){return ne}),n.d(t,"P",function(){return re}),n.d(t,"Q",function(){return J}),n.d(t,"R",function(){return pe}),n.d(t,"S",function(){return de}),n.d(t,"T",function(){return W}),n.d(t,"U",function(){return ce}),n.d(t,"V",function(){return fe}),n.d(t,"W",function(){return he}),n.d(t,"X",function(){return M});var r=n(14),i=n(9),a=n(7),o=n(8),u=n(28),s=n(106),c=n(1),l=n(3);function f(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},p=function(e,t){if(!e)throw v(t)},v=function(e){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},y=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(y(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},g=function(e){var t=y(e);return m.encodeByteArray(t,!0)},b=function(e){return g(e).replace(/\./g,"")},k=function(e){try{return m.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function w(e){return _(void 0,e)}function _(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=_(e[n],t[n]));return e}var O=function(){function e(){var t=this;Object(c.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return Object(l.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}}}]),e}();function x(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[b(JSON.stringify({alg:"none",type:"JWT"})),b(JSON.stringify(a)),""].join(".")}function j(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j())}function S(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function T(){return"object"===typeof self&&self.self===self}function I(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function C(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function A(){return j().indexOf("Electron/")>=0}function N(){var e=j();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function P(){return j().indexOf("MSAppHost/")>=0}function R(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function L(){return!S()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D(){return"object"===typeof indexedDB}function M(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})}function F(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}function U(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")}var V="FirebaseError",B=function(e){function t(e,n,r){var o;return Object(c.a)(this,t),(o=Object(i.a)(this,Object(a.a)(t).call(this,n))).code=e,o.customData=r,o.name=V,Object.setPrototypeOf(Object(u.a)(Object(u.a)(o)),t.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(u.a)(Object(u.a)(o)),z.prototype.create),o}return Object(o.a)(t,e),t}(Object(s.a)(Error)),z=function(){function e(t,n,r){Object(c.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(l.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(q,function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new B(n,a,t)}}]),e}();var q=/\{\$([^}]+)}/g;function G(e){return JSON.parse(e)}function W(e){return JSON.stringify(e)}var K=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=G(k(a[0])||""),n=G(k(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},H=function(e){var t=K(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},Q=function(e){var t=K(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},$=function(e){var t=K(e).claims;return"object"===typeof t&&!0===t.admin};function Y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function J(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function X(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Z(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ee(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(te(u)&&te(s)){if(!ee(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function te(e){return null!==e&&"object"===typeof e}function ne(e){for(var t=[],n=function(){var e=Object(r.a)(a[i],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach(function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},i=0,a=Object.entries(e);i<a.length;i++)n();return t.length?"&"+t.join("&"):""}function re(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),i=Object(r.a)(n,2),a=i[0],o=i[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function ie(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var ae=function(){function e(){Object(c.a)(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Object(l.a)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=h^l&(f^h),s=1518500249):(u=l^f^h,s=1859775393):p<60?(u=l&f|h&(l|f),s=2400959708):(u=l^f^h,s=3395469782);var v=(c<<5|c>>>27)+u+d+s+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function oe(e,t){var n=new ue(e,t);return n.subscribe.bind(n)}var ue=function(){function e(t,n){var r=this;Object(c.a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(e){r.error(e)})}return Object(l.a)(e,[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=f(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=se),void 0===r.error&&(r.error=se),void 0===r.complete&&(r.complete=se);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}();function se(){}var ce=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function le(e,t){return"".concat(e," failed: ").concat(t," argument ")}function fe(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(le(e,t)+"must be a valid function.")}function he(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(le(e,t)+"must be a valid context object.")}var de=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;p(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},pe=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ve=1e3,ye=2,me=144e5,ge=.5;function be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ye,r=t*Math.pow(n,e),i=Math.round(ge*r*(Math.random()-.5)*2);return Math.min(me,r+i)}function ke(e){return e&&e._delegate?e._delegate:e}}).call(this,n(46))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)})}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";e.exports=n(81)},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(47);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var a=n(28);function o(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(a.a)(e):t}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.r(t),n.d(t,"SDK_VERSION",function(){return R}),n.d(t,"_DEFAULT_ENTRY_NAME",function(){return w}),n.d(t,"_addComponent",function(){return j}),n.d(t,"_addOrOverwriteComponent",function(){return E}),n.d(t,"_apps",function(){return O}),n.d(t,"_clearComponents",function(){return C}),n.d(t,"_components",function(){return x}),n.d(t,"_getProvider",function(){return T}),n.d(t,"_registerComponent",function(){return S}),n.d(t,"_removeServiceInstance",function(){return I}),n.d(t,"deleteApp",function(){return F}),n.d(t,"getApp",function(){return D}),n.d(t,"getApps",function(){return M}),n.d(t,"initializeApp",function(){return L}),n.d(t,"onLog",function(){return B}),n.d(t,"registerVersion",function(){return V}),n.d(t,"setLogLevel",function(){return z});var r=n(17),i=n(2),a=n(4),o=n(1),u=n(3),s=n(16),c=n(18),l=n(0);n.d(t,"FirebaseError",function(){return l.c});var f,h,d=n(34);function p(){p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var v={};u(v,i,function(){return this});var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=d.prototype=f.prototype=Object.create(v);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(g,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),u(g,o,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function v(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(){function e(t){Object(o.a)(this,e),this.container=t}return Object(u.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(function(e){return e}).join(" ")}}]),e}();var g="@firebase/app",b="0.7.26",k=new c.b("@firebase/app"),w="[DEFAULT]",_=(f={},Object(a.a)(f,g,"fire-core"),Object(a.a)(f,"@firebase/app-compat","fire-core-compat"),Object(a.a)(f,"@firebase/analytics","fire-analytics"),Object(a.a)(f,"@firebase/analytics-compat","fire-analytics-compat"),Object(a.a)(f,"@firebase/app-check","fire-app-check"),Object(a.a)(f,"@firebase/app-check-compat","fire-app-check-compat"),Object(a.a)(f,"@firebase/auth","fire-auth"),Object(a.a)(f,"@firebase/auth-compat","fire-auth-compat"),Object(a.a)(f,"@firebase/database","fire-rtdb"),Object(a.a)(f,"@firebase/database-compat","fire-rtdb-compat"),Object(a.a)(f,"@firebase/functions","fire-fn"),Object(a.a)(f,"@firebase/functions-compat","fire-fn-compat"),Object(a.a)(f,"@firebase/installations","fire-iid"),Object(a.a)(f,"@firebase/installations-compat","fire-iid-compat"),Object(a.a)(f,"@firebase/messaging","fire-fcm"),Object(a.a)(f,"@firebase/messaging-compat","fire-fcm-compat"),Object(a.a)(f,"@firebase/performance","fire-perf"),Object(a.a)(f,"@firebase/performance-compat","fire-perf-compat"),Object(a.a)(f,"@firebase/remote-config","fire-rc"),Object(a.a)(f,"@firebase/remote-config-compat","fire-rc-compat"),Object(a.a)(f,"@firebase/storage","fire-gcs"),Object(a.a)(f,"@firebase/storage-compat","fire-gcs-compat"),Object(a.a)(f,"@firebase/firestore","fire-fst"),Object(a.a)(f,"@firebase/firestore-compat","fire-fst-compat"),Object(a.a)(f,"fire-js","fire-js"),Object(a.a)(f,"firebase","fire-js-all"),f),O=new Map,x=new Map;function j(e,t){try{e.container.addComponent(t)}catch(n){k.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function E(e,t){e.container.addOrOverwriteComponent(t)}function S(e){var t=e.name;if(x.has(t))return k.debug("There were multiple attempts to register component ".concat(t,".")),!1;x.set(t,e);var n,r=v(O.values());try{for(r.s();!(n=r.n()).done;){j(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function T(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;T(e,t).clearInstance(n)}function C(){x.clear()}var A=(h={},Object(a.a)(h,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(a.a)(h,"bad-app-name","Illegal App name: '{$appName}"),Object(a.a)(h,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(a.a)(h,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(a.a)(h,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(a.a)(h,"invalid-log-argument","First argument to `onLog` must be null or a function."),Object(a.a)(h,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Object(a.a)(h,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Object(a.a)(h,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Object(a.a)(h,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),h),N=new l.b("app","Firebase",A),P=function(){function e(t,n,r){var i=this;Object(o.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new s.a("app",function(){return i},"PUBLIC"))}return Object(u.a)(e,[{key:"checkDestroyed",value:function(){if(this.isDeleted)throw N.create("app-deleted",{appName:this._name})}},{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}}]),e}(),R="9.8.3";function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!==typeof t&&(t={name:t});var n=Object.assign({name:w,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw N.create("bad-app-name",{appName:String(r)});var i=O.get(r);if(i){if(Object(l.q)(e,i.options)&&Object(l.q)(n,i.config))return i;throw N.create("duplicate-app",{appName:r})}var a,o=new s.b(r),u=v(x.values());try{for(u.s();!(a=u.n()).done;){var c=a.value;o.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var f=new P(e,n,o);return O.set(r,f),f}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=O.get(e);if(!t)throw N.create("no-app",{appName:e});return t}function M(){return Array.from(O.values())}function F(e){return U.apply(this,arguments)}function U(){return(U=Object(i.a)(p().mark(function e(t){var n;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!O.has(n)){e.next=6;break}return O.delete(n),e.next=5,Promise.all(t.container.getProviders().map(function(e){return e.delete()}));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(e,t,n){var r,i=null!==(r=_[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void k.warn(u.join(" "))}S(new s.a("".concat(i,"-version"),function(){return{library:i,version:t}},"VERSION"))}function B(e,t){if(null!==e&&"function"!==typeof e)throw N.create("invalid-log-argument");Object(c.d)(e,t)}function z(e){Object(c.c)(e)}var q="firebase-heartbeat-database",G=1,W="firebase-heartbeat-store",K=null;function H(){return K||(K=Object(d.b)(q,G,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(W)}}}).catch(function(e){throw N.create("storage-open",{originalErrorMessage:e.message})})),K}function Q(e){return $.apply(this,arguments)}function $(){return($=Object(i.a)(p().mark(function e(t){var n,r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H();case 3:return r=e.sent,e.abrupt("return",r.transaction(W).objectStore(W).get(X(t)));case 7:throw e.prev=7,e.t0=e.catch(0),N.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Y(e,t){return J.apply(this,arguments)}function J(){return(J=Object(i.a)(p().mark(function e(t,n){var r,i,a,o;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H();case 3:return i=e.sent,a=i.transaction(W,"readwrite"),o=a.objectStore(W),e.next=8,o.put(n,X(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),N.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function X(e){return"".concat(e.name,"!").concat(e.options.appId)}var Z=1024,ee=function(){function e(t){var n=this;Object(o.a)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ie(r),this._heartbeatsCachePromise=this._storage.read().then(function(e){return n._heartbeatsCache=e,e})}return Object(u.a)(e,[{key:"triggerHeartbeat",value:function(){var e=Object(i.a)(p().mark(function e(){var t,n,r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=te(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some(function(e){return e.date===r})){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Object(i.a)(p().mark(function e(){var t,n,r,i,a;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=te(),n=ne(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Object(l.k)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function te(){return(new Date).toISOString().substring(0,10)}function ne(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z,r=[],i=e.slice(),a=v(e);try{var o=function(){var e=t.value,a=r.find(function(t){return t.agent===e.agent});if(a){if(a.dates.push(e.date),ae(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ae(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var re,ie=function(){function e(t){Object(o.a)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Object(u.a)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Object(i.a)(p().mark(function e(){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(l.D)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Object(l.X)().then(function(){return!0}).catch(function(){return!1}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(i.a)(p().mark(function e(){var t;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Q(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Object(i.a)(p().mark(function e(t){var n,r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Y(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(i.a)(p().mark(function e(t){var n,i;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return i=e.sent,e.abrupt("return",Y(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:[].concat(Object(r.a)(i.heartbeats),Object(r.a)(t.heartbeats))}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();function ae(e){return Object(l.k)(JSON.stringify({version:2,heartbeats:e})).length}re="",S(new s.a("platform-logger",function(e){return new m(e)},"PRIVATE")),S(new s.a("heartbeat",function(e){return new ee(e)},"PRIVATE")),V(g,b,re),V(g,b,"esm2017"),V("fire-js","")},function(e,t,n){"use strict";var r=n(61),i=n(63),a=n(62);var o=n(1),u=n(3),s=n(9),c=n(29),l=n(7),f=n(8),h=n(2),d=n(28),p=n(14),v=n(17),y=n(4),m=n(0),g=n(10);function b(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var k,w=n(18),_=n(16);function O(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(){j=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var E={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},S={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function T(){return Object(y.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var I=function(){var e;return e={},Object(y.a)(e,"admin-restricted-operation","This operation is restricted to administrators only."),Object(y.a)(e,"argument-error",""),Object(y.a)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Object(y.a)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Object(y.a)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Object(y.a)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Object(y.a)(e,"cordova-not-ready","Cordova framework is not ready."),Object(y.a)(e,"cors-unsupported","This browser is not supported."),Object(y.a)(e,"credential-already-in-use","This credential is already associated with a different user account."),Object(y.a)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Object(y.a)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Object(y.a)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Object(y.a)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Object(y.a)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Object(y.a)(e,"email-already-in-use","The email address is already in use by another account."),Object(y.a)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Object(y.a)(e,"expired-action-code","The action code has expired."),Object(y.a)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Object(y.a)(e,"internal-error","An internal AuthError has occurred."),Object(y.a)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Object(y.a)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Object(y.a)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Object(y.a)(e,"invalid-auth-event","An internal AuthError has occurred."),Object(y.a)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Object(y.a)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Object(y.a)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Object(y.a)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Object(y.a)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Object(y.a)(e,"invalid-email","The email address is badly formatted."),Object(y.a)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Object(y.a)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Object(y.a)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Object(y.a)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Object(y.a)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Object(y.a)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Object(y.a)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Object(y.a)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Object(y.a)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Object(y.a)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Object(y.a)(e,"wrong-password","The password is invalid or the user does not have a password."),Object(y.a)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Object(y.a)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Object(y.a)(e,"invalid-provider-id","The specified provider ID is invalid."),Object(y.a)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Object(y.a)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Object(y.a)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Object(y.a)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Object(y.a)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Object(y.a)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Object(y.a)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Object(y.a)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Object(y.a)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Object(y.a)(e,"missing-continue-uri","A continue URL must be provided in the request."),Object(y.a)(e,"missing-iframe-start","An internal AuthError has occurred."),Object(y.a)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Object(y.a)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Object(y.a)(e,"missing-multi-factor-info","No second factor identifier is provided."),Object(y.a)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Object(y.a)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Object(y.a)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Object(y.a)(e,"app-deleted","This instance of FirebaseApp has been deleted."),Object(y.a)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Object(y.a)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Object(y.a)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Object(y.a)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Object(y.a)(e,"no-auth-event","An internal AuthError has occurred."),Object(y.a)(e,"no-such-provider","User was not linked to an account with the given provider."),Object(y.a)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Object(y.a)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Object(y.a)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Object(y.a)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Object(y.a)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Object(y.a)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Object(y.a)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Object(y.a)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Object(y.a)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Object(y.a)(e,"rejected-credential","The request contains malformed or mismatching credentials."),Object(y.a)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Object(y.a)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Object(y.a)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Object(y.a)(e,"timeout","The operation has timed out."),Object(y.a)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Object(y.a)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Object(y.a)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Object(y.a)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Object(y.a)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Object(y.a)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Object(y.a)(e,"unverified-email","The operation requires a verified email."),Object(y.a)(e,"user-cancelled","The user did not grant your application the permissions it requested."),Object(y.a)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Object(y.a)(e,"user-disabled","The user account has been disabled by an administrator."),Object(y.a)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Object(y.a)(e,"user-signed-out",""),Object(y.a)(e,"weak-password","The password must be 6 characters long or more."),Object(y.a)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Object(y.a)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},C=T,A=new m.b("auth","Firebase",T()),N=new w.b("@firebase/auth");function P(e){if(N.logLevel<=w.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];N.error.apply(N,["Auth (".concat(g.SDK_VERSION,"): ").concat(e)].concat(n))}}function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw F.apply(void 0,[e].concat(n))}function L(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return F.apply(void 0,[e].concat(n))}function D(e,t,n){var r=Object.assign(Object.assign({},C()),Object(y.a)({},t,n));return new m.b("auth","Firebase",r).create(t,{appName:e.name})}function M(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&R(e,"argument-error"),D(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Object(v.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Object(v.a)(o)))}return A.create.apply(A,[e].concat(n))}function U(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw F.apply(void 0,[t].concat(r))}}function V(e){var t="INTERNAL ASSERTION FAILED: "+e;throw P(t),new Error(t)}function B(e,t){e||V(t)}var z=new Map;function q(e){B(e instanceof Function,"Expected a class definition");var t=z.get(e);return t?(B(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,z.set(e,t),t)}function G(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function W(){return"http:"===K()||"https:"===K()}function K(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var H=function(){function e(t,n){Object(o.a)(this,e),this.shortDelay=t,this.longDelay=n,B(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(m.E)()||Object(m.H)()}return Object(u.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(W()||Object(m.z)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Q(e,t){B(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var $=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void V("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void V("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void V("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Y=(k={},Object(y.a)(k,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(y.a)(k,"MISSING_CUSTOM_TOKEN","internal-error"),Object(y.a)(k,"INVALID_IDENTIFIER","invalid-email"),Object(y.a)(k,"MISSING_CONTINUE_URI","internal-error"),Object(y.a)(k,"INVALID_PASSWORD","wrong-password"),Object(y.a)(k,"MISSING_PASSWORD","internal-error"),Object(y.a)(k,"EMAIL_EXISTS","email-already-in-use"),Object(y.a)(k,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(y.a)(k,"INVALID_IDP_RESPONSE","invalid-credential"),Object(y.a)(k,"INVALID_PENDING_TOKEN","invalid-credential"),Object(y.a)(k,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(y.a)(k,"MISSING_REQ_TYPE","internal-error"),Object(y.a)(k,"EMAIL_NOT_FOUND","user-not-found"),Object(y.a)(k,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(y.a)(k,"EXPIRED_OOB_CODE","expired-action-code"),Object(y.a)(k,"INVALID_OOB_CODE","invalid-action-code"),Object(y.a)(k,"MISSING_OOB_CODE","internal-error"),Object(y.a)(k,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(y.a)(k,"INVALID_ID_TOKEN","invalid-user-token"),Object(y.a)(k,"TOKEN_EXPIRED","user-token-expired"),Object(y.a)(k,"USER_NOT_FOUND","user-token-expired"),Object(y.a)(k,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(y.a)(k,"INVALID_CODE","invalid-verification-code"),Object(y.a)(k,"INVALID_SESSION_INFO","invalid-verification-id"),Object(y.a)(k,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(y.a)(k,"MISSING_SESSION_INFO","missing-verification-id"),Object(y.a)(k,"SESSION_EXPIRED","code-expired"),Object(y.a)(k,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(y.a)(k,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(y.a)(k,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(y.a)(k,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(y.a)(k,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(y.a)(k,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(y.a)(k,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(y.a)(k,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(y.a)(k,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(y.a)(k,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(y.a)(k,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),k),J=new H(3e4,6e4);function X(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Z(e,t,n,r){return ee.apply(this,arguments)}function ee(){return(ee=Object(h.a)(j().mark(function e(t,n,r,i){var a,o=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",te(t,a,Object(h.a)(j().mark(function e(){var a,o,u,s;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Object(m.O)(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",$.fetch()(ae(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(e,t,n){return ne.apply(this,arguments)}function ne(){return(ne=Object(h.a)(j().mark(function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Y),n),e.prev=2,a=new oe(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ue(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Object(p.a)(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw ue(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw ue(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw ue(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw D(t,d,h);case 34:R(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof m.c)){e.next=41;break}throw e.t0;case 41:R(t,"network-request-failed");case 42:case"end":return e.stop()}},e,null,[[2,37]])}))).apply(this,arguments)}function re(e,t,n,r){return ie.apply(this,arguments)}function ie(){return(ie=Object(h.a)(j().mark(function e(t,n,r,i){var a,o,u=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Z(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&R(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Q(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var oe=function(){function e(t){var n=this;Object(o.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise(function(e,t){n.timer=setTimeout(function(){return t(L(n.auth,"network-request-failed"))},J.get())})}return Object(u.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ue(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=L(e,t,r);return i.customData._tokenResponse=n,i}function se(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function he(e,t){return de.apply(this,arguments)}function de(){return(de=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pe(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ve(){return(ve=Object(h.a)(j().mark(function e(t){var n,r,i,a,o,u,s=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Object(m.v)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,U((a=me(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:pe(ye(a.auth_time)),issuedAtTime:pe(ye(a.iat)),expirationTime:pe(ye(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ye(e){return 1e3*Number(e)}function me(e){var t=e.split("."),n=Object(p.a)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return P("JWT malformed, contained fewer than 3 sections"),null;try{var o=Object(m.i)(i);return o?JSON.parse(o):(P("Failed to decode base64 JWT payload"),null)}catch(u){return P("Caught error parsing JWT payload as JSON",u),null}}function ge(e,t){return be.apply(this,arguments)}function be(){return(be=Object(h.a)(j().mark(function e(t,n){var r=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof m.c&&ke(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function ke(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var we=function(){function e(t){Object(o.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(u.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(h.a)(j().mark(function t(){return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}},t)})),n)}}},{key:"iteration",value:function(){var e=Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),_e=function(){function e(t,n){Object(o.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(u.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=pe(this.lastLoginAt),this.creationTime=pe(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Oe(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(h.a)(j().mark(function e(t){var n,r,i,a,o,u,s,c,l,f,h;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ge(t,he(r,{idToken:i}));case 6:U(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map(function(e){var t=e.providerId,n=b(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],s=Ee(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new _e(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function je(){return(je=Object(h.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(m.v)(t),e.next=3,Oe(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ee(e,t){var n=e.filter(function(e){return!t.some(function(t){return t.providerId===e.providerId})});return[].concat(Object(v.a)(n),Object(v.a)(t))}function Se(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(h.a)(j().mark(function e(t,n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t,{},Object(h.a)(j().mark(function e(){var r,i,a,o,u,s;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(m.O)({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=ae(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",$.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}},e)})));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ie=function(){function e(){Object(o.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(u.a)(e,[{key:"updateFromServerResponse",value:function(e){U(e.idToken,"internal-error"),U("undefined"!==typeof e.idToken,"internal-error"),U("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=me(e);return U(t,"internal-error"),U("undefined"!==typeof t.exp,"internal-error"),U("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(h.a)(j().mark(function e(t){var n,r=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],U(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(h.a)(j().mark(function e(t,n){var r,i,a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return V("not implemented")}},{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(U("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(U("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(U("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ce(e,t){U("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ae=function(){function e(t){Object(o.a)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=b(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new we(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Object(v.a)(a.providerData):[],this.metadata=new _e(a.createdAt||void 0,a.lastLoginAt||void 0)}return Object(u.a)(e,[{key:"getIdToken",value:function(){var e=Object(h.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(U(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ve.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return je.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(e){return Object.assign({},e)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(h.a)(j().mark(function e(t){var n,r,i=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Oe(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(h.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ge(this,se(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Object.assign({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,O=n.stsTokenManager;U(b&&O,t,"internal-error");var x=Ie.fromJSON(this.name,O);U("string"===typeof b,t,"internal-error"),Ce(f,t.name),Ce(h,t.name),U("boolean"===typeof k,t,"internal-error"),U("boolean"===typeof w,t,"internal-error"),Ce(d,t.name),Ce(p,t.name),Ce(v,t.name),Ce(y,t.name),Ce(m,t.name),Ce(g,t.name);var j=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:x,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(j.providerData=_.map(function(e){return Object.assign({},e)})),y&&(j._redirectEventId=y),j}},{key:"_fromIdTokenResponse",value:function(){var t=Object(h.a)(j().mark(function t(n,r){var i,a,o,u=arguments;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ie).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Oe(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ne=function(){function e(){Object(o.a)(this,e),this.type="NONE",this.storage={}}return Object(u.a)(e,[{key:"_isAvailable",value:function(){var e=Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(h.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(h.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ne.type="NONE";var Pe=Ne;function Re(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Le=function(){function e(t,n,r){Object(o.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,u=i.name;this.fullUserKey=Re(this.userKey,a.apiKey,u),this.fullPersistenceKey=Re("persistence",a.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(u.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(h.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ae._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(h.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(h.a)(j().mark(function t(n,r){var i,a,o,u,s,c,l,f,d,p,v,y=arguments;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(q(Pe),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(h.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter(function(e){return e}),o=a[0]||q(Pe),u=Re(i,n.config.apiKey,n.name),s=null,c=O(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return p=Ae._fromJSON(n,d),f!==o&&(s=p),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(v=a.filter(function(e){return e._shouldAllowMigration}),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=v[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(h.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}},t,null,[[10,31,34,37],[14,25]])}));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function De(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ve(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Me(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ze(t))return"Blackberry";if(qe(t))return"Webos";if(Fe(t))return"Safari";if((t.includes("chrome/")||Ue(t))&&!t.includes("edge/"))return"Chrome";if(Be(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/firefox\//i.test(e)}function Fe(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/crios\//i.test(e)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/iemobile/i.test(e)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/android/i.test(e)}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/blackberry/i.test(e)}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/webos/i.test(e)}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/iphone|ipad|ipod/i.test(e)}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return Ge(e)||Be(e)||qe(e)||ze(e)||/windows phone/i.test(e)||Ve(e)}function Ke(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=De(Object(m.w)());break;case"Worker":t="".concat(De(Object(m.w)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(g.SDK_VERSION,"/").concat(r)}var He=function(){function e(t){Object(o.a)(this,e),this.auth=t,this.queue=[]}return Object(u.a)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise(function(n,r){try{n(e(t))}catch(i){r(i)}})};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Object(h.a)(j().mark(function e(t){var n,r,i,a,o,u,s,c;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=O(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=O(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}},e,this,[[3,24],[5,16,19,22]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Qe=function(){function e(t,n,r){Object(o.a)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ye(this),this.idTokenSubscription=new Ye(this),this.beforeStateQueue=new He(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Object(u.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=q(t)),this._initializationPromise=this.queue(Object(h.a)(j().mark(function r(){var i,a;return j().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Le.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}},r,null,[[8,13]])}))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(h.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(h.a)(j().mark(function e(t){var n,r,i,a,o,u,s;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||null===s||void 0===s||!s.user||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(e.t0)});case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return U(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}},e,this,[[18,23]])}));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(h.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(h.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(h.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(m.v)(t):null)&&U(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(h.a)(j().mark(function e(t){var n,r=this,i=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&U(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}},e)}))));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(h.a)(j().mark(function n(){return j().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(q(e));case 2:case"end":return n.stop()}},n)})))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new m.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(h.a)(j().mark(function e(t,n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(h.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return U(n=t&&q(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Le.create(this,[q(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(h.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(h.a)(j().mark(function e(t){var n=this;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return U(o,this,"internal-error"),o.then(function(){return a(i.currentUser)}),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(h.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ke(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Object(h.a)(j().mark(function e(){var t,n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(y.a)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_currentUser",get:function(){return this.currentUser}},{key:"assertedPersistence",get:function(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}}]),e}();function $e(e){return Object(m.v)(e)}var Ye=function(){function e(t){var n=this;Object(o.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(m.o)(function(e){return n.observer=e})}return Object(u.a)(e,[{key:"next",get:function(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Je(e,t,n){var r=$e(e);U(r._canInitEmulator,r,"emulator-config-failed"),U(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Xe(t),o=function(e){var t=Xe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ze(r.substr(a.length+1))}}var o=r.split(":"),u=Object(p.a)(o,2),s=u[0],c=u[1];return{host:s,port:Ze(c)}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xe(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ze(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var et=function(){function e(t,n){Object(o.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(u.a)(e,[{key:"toJSON",value:function(){return V("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return V("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return V("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return V("not implemented")}}]),e}();function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:resetPassword",X(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rt(e,t){return it.apply(this,arguments)}function it(){return(it=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function at(e,t){return ot.apply(this,arguments)}function ot(){return(ot=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:update",X(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ut(e,t){return st.apply(this,arguments)}function st(){return(st=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signInWithPassword",X(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ct(e,t){return lt.apply(this,arguments)}function lt(){return(lt=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:sendOobCode",X(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ft(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ct(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dt(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ct(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ct(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ct(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bt(e,t){return kt.apply(this,arguments)}function kt(){return(kt=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signInWithEmailLink",X(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function wt(e,t){return _t.apply(this,arguments)}function _t(){return(_t=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signInWithEmailLink",X(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ot=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(o.a)(this,t),(i=Object(s.a)(this,Object(l.a)(t).call(this,"password",r)))._email=e,i._password=n,i._tenantId=a,i}return Object(f.a)(t,e),Object(u.a)(t,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(h.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ut(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",bt(t,{email:this._email,oobCode:this._password}));case 5:R(t,"internal-error");case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",rt(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",wt(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:R(t,"internal-error");case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,n){return new t(e,n,"password")}},{key:"_fromEmailAndCode",value:function(e,n){return new t(e,n,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),t}(et);function xt(e,t){return jt.apply(this,arguments)}function jt(){return(jt=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signInWithIdp",X(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Et=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).apply(this,arguments))).pendingToken=null,e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return xt(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xt(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(m.O)(t)}return e}}],[{key:"_fromParams",value:function(e){var n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):R("argument-error"),n}},{key:"fromJSON",value:function(e){var n="string"===typeof e?JSON.parse(e):e,r=n.providerId,i=n.signInMethod,a=b(n,["providerId","signInMethod"]);if(!r||!i)return null;var o=new t(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),t}(et);function St(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:sendVerificationCode",X(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function It(){return(It=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signInWithPhoneNumber",X(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ct(){return(Ct=Object(h.a)(j().mark(function e(t,n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t,"POST","/v1/accounts:signInWithPhoneNumber",X(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ue(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var At=Object(y.a)({},"USER_NOT_FOUND","user-not-found");function Nt(){return(Nt=Object(h.a)(j().mark(function e(t,n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",re(t,"POST","/v1/accounts:signInWithPhoneNumber",X(t,r),At));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Pt=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,"phone","phone"))).params=e,n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return It.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ct.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Nt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,n){return new t({verificationId:e,verificationCode:n})}},{key:"_fromTokenResponse",value:function(e,n){return new t({phoneNumber:e,temporaryProof:n})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var n=e,r=n.verificationId,i=n.verificationCode,a=n.phoneNumber,o=n.temporaryProof;return i||r||a||o?new t({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),t}(et);var Rt=function(){function e(t){var n,r,i,a,u,s;Object(o.a)(this,e);var c=Object(m.P)(Object(m.t)(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(r=c.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);U(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=c.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(u=c.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return Object(u.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(m.P)(Object(m.t)(e)).link,n=t?Object(m.P)(Object(m.t)(t)).deep_link_id:null,r=Object(m.P)(Object(m.t)(e)).deep_link_id;return(r?Object(m.P)(Object(m.t)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Lt=function(){function e(){Object(o.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(u.a)(e,null,[{key:"credential",value:function(e,t){return Ot._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Rt.parseLink(t);return U(n,"argument-error"),Ot._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Lt.PROVIDER_ID="password",Lt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Lt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Dt=function(){function e(t){Object(o.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(u.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Mt=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).apply(this,arguments))).scopes=[],e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(v.a)(this.scopes)}}]),t}(Dt),Ft=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return U(e.idToken||e.accessToken,"argument-error"),Et._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return U("providerId"in t&&"signInMethod"in t,"argument-error"),Et._fromParams(t)}},{key:"credentialFromResult",value:function(e){return t.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthIdToken,i=n.oauthAccessToken,a=n.oauthTokenSecret,o=n.pendingToken,u=n.nonce,s=n.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new t(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),t}(Mt),Ut=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,"facebook.com"))}return Object(f.a)(t,e),Object(u.a)(t,null,[{key:"credential",value:function(e){return Et._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}]),t}(Mt);Ut.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ut.PROVIDER_ID="facebook.com";var Vt=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).call(this,"google.com"))).addScope("profile"),e}return Object(f.a)(t,e),Object(u.a)(t,null,[{key:"credential",value:function(e,n){return Et._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthIdToken,i=n.oauthAccessToken;if(!r&&!i)return null;try{return t.credential(r,i)}catch(a){return null}}}]),t}(Mt);Vt.GOOGLE_SIGN_IN_METHOD="google.com",Vt.PROVIDER_ID="google.com";var Bt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,"github.com"))}return Object(f.a)(t,e),Object(u.a)(t,null,[{key:"credential",value:function(e){return Et._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n||!("oauthAccessToken"in n))return null;if(!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch(r){return null}}}]),t}(Mt);Bt.GITHUB_SIGN_IN_METHOD="github.com",Bt.PROVIDER_ID="github.com";var zt=function(e){function t(e,n){var r;return Object(o.a)(this,t),(r=Object(s.a)(this,Object(l.a)(t).call(this,e,e))).pendingToken=n,r}return Object(f.a)(t,e),Object(u.a)(t,[{key:"_getIdTokenResponse",value:function(e){return xt(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xt(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var n="string"===typeof e?JSON.parse(e):e,r=n.providerId,i=n.signInMethod,a=n.pendingToken;return r&&i&&a&&r===i?new t(r,a):null}},{key:"_create",value:function(e,n){return new t(e,n)}}]),t}(et),qt="saml.",Gt=function(e){function t(e){return Object(o.a)(this,t),U(e.startsWith(qt),"argument-error"),Object(s.a)(this,Object(l.a)(t).call(this,e))}return Object(f.a)(t,e),Object(u.a)(t,null,[{key:"credentialFromResult",value:function(e){return t.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=zt.fromJSON(e);return U(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return zt._create(r,n)}catch(i){return null}}}]),t}(Dt),Wt=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,"twitter.com"))}return Object(f.a)(t,e),Object(u.a)(t,null,[{key:"credential",value:function(e,n){return Et._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}},{key:"credentialFromResult",value:function(e){return t.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var n=e._tokenResponse;if(!n)return null;var r=n.oauthAccessToken,i=n.oauthTokenSecret;if(!r||!i)return null;try{return t.credential(r,i)}catch(a){return null}}}]),t}(Mt);function Kt(e,t){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signUp",X(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}Wt.TWITTER_SIGN_IN_METHOD="twitter.com",Wt.PROVIDER_ID="twitter.com";var Qt=function(){function e(t){Object(o.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(u.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(h.a)(j().mark(function t(n,r,i){var a,o,u,s,c=arguments;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ae._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=$t(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(h.a)(j().mark(function t(n,r,i){var a;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=$t(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function $t(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Yt(e){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(h.a)(j().mark(function e(t){var n,r,i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=$e(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Qt({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Kt(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Qt._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Xt=function(e){function t(e,n,r,i){var a,u;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,n.code,n.message))).operationType=r,a.user=i,Object.setPrototypeOf(Object(d.a)(Object(d.a)(a)),t.prototype),a.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r},a}return Object(f.a)(t,e),Object(u.a)(t,null,[{key:"_fromErrorAndOperation",value:function(e,n,r,i){return new t(e,n,r,i)}}]),t}(m.c);function Zt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Xt._fromErrorAndOperation(e,n,t,r);throw n})}function en(e){return new Set(e.map(function(e){return e.providerId}).filter(function(e){return!!e}))}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=Object(h.a)(j().mark(function e(t,n){var r,i,a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(m.v)(t),e.next=3,on(!0,r,n);case 3:return e.t0=le,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=en(a||[]),r.providerData=r.providerData.filter(function(e){return o.has(e.providerId)}),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rn(e,t){return an.apply(this,arguments)}function an(){return(an=Object(h.a)(j().mark(function e(t,n){var r,i,a=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ge,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Qt._forOperation(t,"link",i));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function on(e,t,n){return un.apply(this,arguments)}function un(){return(un=Object(h.a)(j().mark(function e(t,n,r){var i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(n);case 2:i=en(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",U(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function sn(e,t){return cn.apply(this,arguments)}function cn(){return(cn=Object(h.a)(j().mark(function e(t,n){var r,i,a,o,u,s,c=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ge(t,Zt(i,a,n,t),r);case 6:return U((o=e.sent).idToken,i,"internal-error"),U(u=me(o.idToken),i,"internal-error"),s=u.sub,U(t.uid===s,i,"user-mismatch"),e.abrupt("return",Qt._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&R(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}},e,null,[[3,15]])}))).apply(this,arguments)}function ln(e,t){return fn.apply(this,arguments)}function fn(){return(fn=Object(h.a)(j().mark(function e(t,n){var r,i,a,o,u=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Zt(t,i,n);case 4:return a=e.sent,e.next=7,Qt._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hn(e,t){return dn.apply(this,arguments)}function dn(){return(dn=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln($e(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(h.a)(j().mark(function e(t,n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(m.v)(t),e.next=3,on(!1,r,n.providerId);case 3:return e.abrupt("return",rn(r,n));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sn(Object(m.v)(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gn(e,t){return bn.apply(this,arguments)}function bn(){return(bn=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re(t,"POST","/v1/accounts:signInWithCustomToken",X(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kn(e,t){return wn.apply(this,arguments)}function wn(){return(wn=Object(h.a)(j().mark(function e(t,n){var r,i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=$e(t),e.next=3,gn(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Qt._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _n=function(){function e(t,n){Object(o.a)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Object(u.a)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?On._fromServerResponse(e,t):R(e,"internal-error")}}]),e}(),On=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,"phone",e))).phoneNumber=e.phoneInfo,n}return Object(f.a)(t,e),Object(u.a)(t,null,[{key:"_fromServerResponse",value:function(e,n){return new t(n)}}]),t}(_n);function xn(e,t,n){var r;U((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),U("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(U(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(U(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function jn(e,t,n){return En.apply(this,arguments)}function En(){return(En=Object(h.a)(j().mark(function e(t,n,r){var i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(m.v)(t),a={requestType:"PASSWORD_RESET",email:n},r&&xn(i,a,r),e.next=5,dt(i,a);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Sn(e,t,n){return Tn.apply(this,arguments)}function Tn(){return(Tn=Object(h.a)(j().mark(function e(t,n,r){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(Object(m.v)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function In(e,t){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(Object(m.v)(t),{oobCode:n});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function An(e,t){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(h.a)(j().mark(function e(t,n){var r,i,a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(m.v)(t),e.next=3,tt(r,{oobCode:n});case 3:i=e.sent,U(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return U(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:U(i.mfaInfo,r,"internal-error");case 13:U(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=_n._fromServerResponse($e(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pn(e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(h.a)(j().mark(function e(t,n){var r,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(Object(m.v)(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ln(e,t,n){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(h.a)(j().mark(function e(t,n,r){var i,a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=$e(t),e.next=3,Kt(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Qt._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Mn(e,t,n){return hn(Object(m.v)(e),Lt.credential(t,n))}function Fn(e,t,n){return Un.apply(this,arguments)}function Un(){return(Un=Object(h.a)(j().mark(function e(t,n,r){var i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(m.v)(t),a={requestType:"EMAIL_SIGNIN",email:n},U(r.handleCodeInApp,i,"argument-error"),r&&xn(i,a,r),e.next=6,vt(i,a);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vn(e,t){var n=Rt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function Bn(e,t,n){return zn.apply(this,arguments)}function zn(){return(zn=Object(h.a)(j().mark(function e(t,n,r){var i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(m.v)(t),U((a=Lt.credentialWithLink(n,r||G()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",hn(i,a));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qn(e,t){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:createAuthUri",X(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wn(e,t){return Kn.apply(this,arguments)}function Kn(){return(Kn=Object(h.a)(j().mark(function e(t,n){var r,i,a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=W()?G():"http://localhost",i={identifier:n,continueUri:r},e.next=4,qn(Object(m.v)(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Hn(e,t){return Qn.apply(this,arguments)}function Qn(){return(Qn=Object(h.a)(j().mark(function e(t,n){var r,i,a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(m.v)(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&xn(r.auth,a,n),e.next=8,ft(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $n(e,t,n){return Yn.apply(this,arguments)}function Yn(){return(Yn=Object(h.a)(j().mark(function e(t,n,r){var i,a,o,u;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(m.v)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&xn(i.auth,o,r),e.next=8,mt(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Jn(e,t){return Xn.apply(this,arguments)}function Xn(){return(Xn=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zn(e,t){return er.apply(this,arguments)}function er(){return(er=Object(h.a)(j().mark(function e(t,n){var r,i,a,o,u,s,c;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Object(m.v)(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ge(a,Jn(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find(function(e){return"password"===e.providerId}))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tr(e,t){return rr(Object(m.v)(e),t,null)}function nr(e,t){return rr(Object(m.v)(e),null,t)}function rr(e,t,n){return ir.apply(this,arguments)}function ir(){return(ir=Object(h.a)(j().mark(function e(t,n,r){var i,a,o,u;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ge(t,rt(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ar=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(o.a)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r},or=function(e){function t(e,n,r,i){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e,n,r))).username=i,a}return Object(f.a)(t,e),t}(ar),ur=function(e){function t(e,n){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,e,"facebook.com",n))}return Object(f.a)(t,e),t}(ar),sr=function(e){function t(e,n){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,e,"github.com",n,"string"===typeof(null===n||void 0===n?void 0:n.login)?null===n||void 0===n?void 0:n.login:null))}return Object(f.a)(t,e),t}(or),cr=function(e){function t(e,n){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,e,"google.com",n))}return Object(f.a)(t,e),t}(ar),lr=function(e){function t(e,n,r){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,e,"twitter.com",n,r))}return Object(f.a)(t,e),t}(or);function fr(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=me(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ar(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new ur(a,i);case"github.com":return new sr(a,i);case"google.com":return new cr(a,i);case"twitter.com":return new lr(a,i,e.screenName||null);case"custom":case"anonymous":return new ar(a,null);default:return new ar(a,r,i)}}(n)}var hr=function(){function e(t,n){Object(o.a)(this,e),this.type=t,this.credential=n}return Object(u.a)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:Object(y.a)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),dr=function(){function e(t,n,r){Object(o.a)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Object(u.a)(e,[{key:"resolveSignIn",value:function(){var e=Object(h.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=$e(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(function(e){return _n._fromServerResponse(r,e)});U(i.mfaPendingCredential,r,"internal-error");var o=hr._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Object(h.a)(j().mark(function e(t){var a,u,s;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Qt._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return U(n.user,r,"internal-error"),e.abrupt("return",Qt._forOperation(n.user,n.operationType,u));case 17:R(r,"internal-error");case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}]),e}();function pr(e,t){var n,r=Object(m.v)(e),i=t;return U(t.customData.operationType,r,"argument-error"),U(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),dr._fromError(r,i)}function vr(e,t){return Z(e,"POST","/v2/accounts/mfaEnrollment:start",X(e,t))}var yr=function(){function e(t){var n=this;Object(o.a)(this,e),this.user=t,this.enrolledFactors=[],t._onReload(function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map(function(e){return _n._fromServerResponse(t.auth,e)}))})}return Object(u.a)(e,[{key:"getSession",value:function(){var e=Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=hr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Object(h.a)(j().mark(function e(t,n){var r,i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ge(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Object(h.a)(j().mark(function e(t){var n,r,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ge(this.user,Z(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",X(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter(function(e){return e.uid!==n}),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a},e,this,[[10,15]])}));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),mr=new WeakMap;function gr(e){var t=Object(m.v)(e);return mr.has(t)||mr.set(t,yr._fromUser(t)),mr.get(t)}var br=function(){function e(t,n){Object(o.a)(this,e),this.storageRetriever=t,this.type=n}return Object(u.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var kr=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).call(this,function(){return window.localStorage},"LOCAL"))).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(m.w)();return Fe(e)||Ge(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=We(),e._shouldAllowMigration=!0,e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Object(m.C)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys(function(e,n,r){t.notifyListeners(e,r)})}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(function(){e.forAllChangedKeys(function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(h.a)(j().mark(function e(n,r){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)(Object(l.a)(t.prototype),"_set",this).call(this,n,r);case 2:this.localCache[n]=JSON.stringify(r);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(h.a)(j().mark(function e(n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)(Object(l.a)(t.prototype),"_get",this).call(this,n);case 2:return r=e.sent,this.localCache[n]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(h.a)(j().mark(function e(n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)(Object(l.a)(t.prototype),"_remove",this).call(this,n);case 2:delete this.localCache[n];case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(br);kr.type="LOCAL";var wr=kr,_r=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,function(){return window.sessionStorage},"SESSION"))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),t}(br);_r.type="SESSION";var Or=_r;function xr(e){return Promise.all(e.map(function(){var e=Object(h.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()))}var jr=function(){function e(t){Object(o.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(u.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(h.a)(j().mark(function e(t){var n,r,i,a,o,u,s,c;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Object(h.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=9,xr(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find(function(e){return e.isListeningto(t)});if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Er(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}jr.receivers=[];var Sr=function(){function e(t){Object(o.a)(this,e),this.target=t,this.handlers=new Set}return Object(u.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(h.a)(j().mark(function e(t,n){var r,i,a,o,u=this,s=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise(function(e,s){var c=Er("",20);i.port1.start();var l=setTimeout(function(){s(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout(function(){s(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(function(){o&&u.removeMessageHandler(o)}));case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Tr(){return window}function Ir(){return"undefined"!==typeof Tr().WorkerGlobalScope&&"function"===typeof Tr().importScripts}function Cr(){return Ar.apply(this,arguments)}function Ar(){return(Ar=Object(h.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}function Nr(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Pr="firebaseLocalStorageDb",Rr=1,Lr="firebaseLocalStorage",Dr="fbase_key",Mr=function(){function e(t){Object(o.a)(this,e),this.request=t}return Object(u.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.request.addEventListener("success",function(){t(e.request.result)}),e.request.addEventListener("error",function(){n(e.request.error)})})}}]),e}();function Fr(e,t){return e.transaction([Lr],t?"readwrite":"readonly").objectStore(Lr)}function Ur(){var e=indexedDB.deleteDatabase(Pr);return new Mr(e).toPromise()}function Vr(){var e=indexedDB.open(Pr,Rr);return new Promise(function(t,n){e.addEventListener("error",function(){n(e.error)}),e.addEventListener("upgradeneeded",function(){var t=e.result;try{t.createObjectStore(Lr,{keyPath:Dr})}catch(r){n(r)}}),e.addEventListener("success",Object(h.a)(j().mark(function n(){var r;return j().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Lr)){n.next=12;break}return r.close(),n.next=5,Ur();case 5:return n.t0=t,n.next=8,Vr();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}},n)})))})}function Br(e,t,n){return zr.apply(this,arguments)}function zr(){return(zr=Object(h.a)(j().mark(function e(t,n,r){var i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fr(t,!0).put((i={},Object(y.a)(i,Dr,n),Object(y.a)(i,"value",r),i)),e.abrupt("return",new Mr(a).toPromise());case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qr(e,t){return Gr.apply(this,arguments)}function Gr(){return(Gr=Object(h.a)(j().mark(function e(t,n){var r,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fr(t,!1).get(n),e.next=3,new Mr(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wr(e,t){var n=Fr(e,!0).delete(t);return new Mr(n).toPromise()}var Kr=function(){function e(){Object(o.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}return Object(u.a)(e,[{key:"_openDb",value:function(){var e=Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Vr();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(h.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ir()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(h.a)(j().mark(function e(){var t=this;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=jr._getInstance(Ir()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(h.a)(j().mark(function e(n,r){var i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(h.a)(j().mark(function e(){var t,n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cr();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Sr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(h.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Nr()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(h.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Vr();case 5:return t=e.sent,e.next=8,Br(t,"__sak","1");case 8:return e.next=10,Wr(t,"__sak");case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(h.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}},e,this,[[1,,4,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(h.a)(j().mark(function e(t,n){var r=this;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries(function(e){return Br(e,t,n)});case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(h.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){return qr(e,t)});case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(h.a)(j().mark(function e(t){var n=this;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries(function(e){return Wr(e,t)});case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(h.a)(j().mark(function e(){var t,n,r,i,a,o,u,s,c,l,f;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries(function(e){var t=Fr(e,!1).getAll();return new Mr(t).toPromise()});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=O(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(h.a)(j().mark(function t(){return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}},t)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Kr.type="LOCAL";var Hr=Kr;function Qr(e,t){return Z(e,"POST","/v2/accounts/mfaSignIn:start",X(e,t))}function $r(e){return Yr.apply(this,arguments)}function Yr(){return(Yr=Object(h.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Jr(e){return new Promise(function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=L("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function Xr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Zr=1e12,ei=function(){function e(t){Object(o.a)(this,e),this.auth=t,this.counter=Zr,this._widgets=new Map}return Object(u.a)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ti(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Zr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Zr;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Object(h.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Zr,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ti=function(){function e(t,n,r){var i=this;Object(o.a)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;U(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Object(u.a)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout(function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()},6e4)},500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ni=Xr("rcb"),ri=new H(3e4,6e4),ii=function(){function e(){Object(o.a)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Tr().grecaptcha}return Object(u.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return U(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Tr().grecaptcha):new Promise(function(r,i){var a=Tr().setTimeout(function(){i(L(e,"network-request-failed"))},ri.get());Tr()[ni]=function(){Tr().clearTimeout(a),delete Tr()[ni];var o=Tr().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(L(e,"internal-error"))},Jr("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Object(m.O)({onload:ni,render:"explicit",hl:n}))).catch(function(){clearTimeout(a),i(L(e,"internal-error"))})})}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Tr().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var ai=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"load",value:function(){var e=Object(h.a)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ei(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),oi="recaptcha",ui={theme:"light",type:"image"},si=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ui),r=arguments.length>2?arguments[2]:void 0;Object(o.a)(this,e),this.parameters=n,this.type=oi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$e(r),this.isInvisible="invisible"===this.parameters.size,U("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;U(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ai:new ii,this.validateStartingState()}return Object(u.a)(e,[{key:"verify",value:function(){var e=Object(h.a)(j().mark(function e(){var t,n,r,i=this;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise(function(e){i.tokenChangeListeners.add(function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))}),i.isInvisible&&n.execute(t)}));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(function(t){throw e.renderPromise=null,t}),this.renderPromise)}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(function(t){e.container.removeChild(t)})}},{key:"validateStartingState",value:function(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach(function(e){return e(n)}),"function"===typeof e)e(n);else if("string"===typeof e){var r=Tr()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){U(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Object(h.a)(j().mark(function e(){var t,n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(h.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U(W()&&!Ir(),this.auth,"internal-error"),e.next=3,ci();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,$r(this.auth);case 8:U(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ci(){var e=null;return new Promise(function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()}).catch(function(t){throw e&&window.removeEventListener("load",e),t})}var li=function(){function e(t,n){Object(o.a)(this,e),this.verificationId=t,this.onConfirmation=n}return Object(u.a)(e,[{key:"confirm",value:function(e){var t=Pt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function fi(e,t,n){return hi.apply(this,arguments)}function hi(){return(hi=Object(h.a)(j().mark(function e(t,n,r){var i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=$e(t),e.next=3,mi(i,n,Object(m.v)(r));case 3:return a=e.sent,e.abrupt("return",new li(a,function(e){return hn(i,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function di(e,t,n){return pi.apply(this,arguments)}function pi(){return(pi=Object(h.a)(j().mark(function e(t,n,r){var i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(m.v)(t),e.next=3,on(!1,i,"phone");case 3:return e.next=5,mi(i.auth,n,Object(m.v)(r));case 5:return a=e.sent,e.abrupt("return",new li(a,function(e){return pn(i,e)}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vi(e,t,n){return yi.apply(this,arguments)}function yi(){return(yi=Object(h.a)(j().mark(function e(t,n,r){var i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(m.v)(t),e.next=3,mi(i.auth,n,Object(m.v)(r));case 3:return a=e.sent,e.abrupt("return",new li(a,function(e){return yn(i,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mi(e,t,n){return gi.apply(this,arguments)}function gi(){return(gi=Object(h.a)(j().mark(function e(t,n,r){var i,a,o,u,s,c,l,f,h;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,U("string"===typeof a,t,"argument-error"),U(r.type===oi,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return U("enroll"===u.type,t,"internal-error"),e.next=13,vr(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return U("signin"===u.type,t,"internal-error"),U(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Qr(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,St(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}},e,null,[[3,,31,34]])}))).apply(this,arguments)}function bi(e,t){return ki.apply(this,arguments)}function ki(){return(ki=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(Object(m.v)(t),n);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var wi=function(){function e(t){Object(o.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=$e(t)}return Object(u.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return mi(this.auth,e,Object(m.v)(t))}}],[{key:"credential",value:function(e,t){return Pt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Pt._fromTokenResponse(n,r):null}}]),e}();function _i(e,t){return t?q(t):(U(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wi.PROVIDER_ID="phone",wi.PHONE_SIGN_IN_METHOD="phone";var Oi=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,"custom","custom"))).params=e,n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"_getIdTokenResponse",value:function(e){return xt(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return xt(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return xt(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),t}(et);function xi(e){return ln(e.auth,new Oi(e),e.bypassAuthState)}function ji(e){var t=e.auth,n=e.user;return U(n,t,"internal-error"),sn(n,new Oi(e),e.bypassAuthState)}function Ei(e){return Si.apply(this,arguments)}function Si(){return(Si=Object(h.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,U(r=t.user,n,"internal-error"),e.abrupt("return",rn(r,new Oi(t),t.bypassAuthState));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ti=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(o.a)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(u.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(h.a)(j().mark(function t(n,r){return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(h.a)(j().mark(function e(t){var n,r,i,a,o,u,s;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}},e,this,[[5,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xi;case"linkViaPopup":case"linkViaRedirect":return Ei;case"reauthViaPopup":case"reauthViaRedirect":return ji;default:R(this.auth,"internal-error")}}},{key:"resolve",value:function(e){B(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){B(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ii=new H(2e3,1e4);function Ci(e,t,n){return Ai.apply(this,arguments)}function Ai(){return(Ai=Object(h.a)(j().mark(function e(t,n,r){var i,a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=$e(t),M(t,n,Dt),a=_i(i,r),o=new Di(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ni(e,t,n){return Pi.apply(this,arguments)}function Pi(){return(Pi=Object(h.a)(j().mark(function e(t,n,r){var i,a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M((i=Object(m.v)(t)).auth,n,Dt),a=_i(i.auth,r),o=new Di(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ri(e,t,n){return Li.apply(this,arguments)}function Li(){return(Li=Object(h.a)(j().mark(function e(t,n,r){var i,a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M((i=Object(m.v)(t)).auth,n,Dt),a=_i(i.auth,r),o=new Di(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Di=function(e){function t(e,n,r,i,a){var u;return Object(o.a)(this,t),(u=Object(s.a)(this,Object(l.a)(t).call(this,e,n,i,a))).provider=r,u.authWindow=null,u.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=Object(d.a)(Object(d.a)(u)),u}return Object(f.a)(t,e),Object(u.a)(t,[{key:"executeNotNull",value:function(){var e=Object(h.a)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return U(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(h.a)(j().mark(function e(){var t,n=this;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return B(1===this.filter.length,"Popup operations only handle one event"),t=Er(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(function(e){n.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,function(e){e||n.reject(L(n.auth,"web-storage-unsupported"))}),this.pollUserCancellation();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){this.reject(L(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;null!==(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)&&void 0!==r&&r.closed?e.pollId=window.setTimeout(function(){e.pollId=null,e.reject(L(e.auth,"popup-closed-by-user"))},2e3):e.pollId=window.setTimeout(t,Ii.get())}()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}}]),t}(Ti);Di.currentPopupAction=null;var Mi="pendingRedirect",Fi=new Map,Ui=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(o.a)(this,t),(r=Object(s.a)(this,Object(l.a)(t).call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i))).eventId=null,r}return Object(f.a)(t,e),Object(u.a)(t,[{key:"execute",value:function(){var e=Object(h.a)(j().mark(function e(){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Fi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Vi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(c.a)(Object(l.a)(t.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,n=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),n=function(){return Promise.reject(e.t1)};case 20:Fi.set(this.auth._key(),n);case 21:return this.bypassAuthState||Fi.set(this.auth._key(),function(){return Promise.resolve(null)}),e.abrupt("return",n());case 23:case"end":return e.stop()}},e,this,[[2,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(h.a)(j().mark(function e(n){var r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==n.type){e.next=4;break}return e.abrupt("return",Object(c.a)(Object(l.a)(t.prototype),"onAuthEvent",this).call(this,n));case 4:if("unknown"!==n.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!n.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(n.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(c.a)(Object(l.a)(t.prototype),"onAuthEvent",this).call(this,n));case 16:this.resolve(null);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(h.a)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),t}(Ti);function Vi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=Object(h.a)(j().mark(function e(t,n){var r,i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ki(n),i=Wi(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zi(e,t){return qi.apply(this,arguments)}function qi(){return(qi=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi(t)._set(Ki(n),"true"));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gi(e,t){Fi.set(e._key(),t)}function Wi(e){return q(e._redirectPersistence)}function Ki(e){return Re(Mi,e.config.apiKey,e.name)}function Hi(e,t,n){return function(e,t,n){return Qi.apply(this,arguments)}(e,t,n)}function Qi(){return(Qi=Object(h.a)(j().mark(function e(t,n,r){var i,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=$e(t),M(t,n,Dt),a=_i(i,r),e.next=5,zi(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $i(e,t,n){return function(e,t,n){return Yi.apply(this,arguments)}(e,t,n)}function Yi(){return(Yi=Object(h.a)(j().mark(function e(t,n,r){var i,a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M((i=Object(m.v)(t)).auth,n,Dt),a=_i(i.auth,r),e.next=5,zi(a,i.auth);case 5:return e.next=7,ra(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ji(e,t,n){return function(e,t,n){return Xi.apply(this,arguments)}(e,t,n)}function Xi(){return(Xi=Object(h.a)(j().mark(function e(t,n,r){var i,a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M((i=Object(m.v)(t)).auth,n,Dt),a=_i(i.auth,r),e.next=5,on(!1,i,n.providerId);case 5:return e.next=7,zi(a,i.auth);case 7:return e.next=9,ra(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zi(e,t){return ea.apply(this,arguments)}function ea(){return(ea=Object(h.a)(j().mark(function e(t,n){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e(t)._initializationPromise;case 2:return e.abrupt("return",ta(t,n,!1));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return(na=Object(h.a)(j().mark(function e(t,n){var r,i,a,o,u,s=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=$e(t),a=_i(i,n),o=new Ui(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ra(e){return ia.apply(this,arguments)}function ia(){return(ia=Object(h.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Er("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var aa=function(){function e(t){Object(o.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(u.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach(function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ua(e);default:return!1}}(e)?n:(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0),n)}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ua(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(L(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oa(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(oa(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function oa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(function(e){return e}).join("-")}function ua(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function sa(e){return ca.apply(this,arguments)}function ca(){return(ca=Object(h.a)(j().mark(function e(t){var n,r=arguments;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Z(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var la=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fa=/^https?/;function ha(){return(ha=Object(h.a)(j().mark(function e(t){var n,r,i,a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,sa(t);case 4:n=e.sent,r=n.authorizedDomains,i=O(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!da(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:R(t,"unauthorized-domain");case 29:case"end":return e.stop()}},e,null,[[7,22,25,28],[11,16]])}))).apply(this,arguments)}function da(e){var t=G(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!fa.test(r))return!1;if(la.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var pa=new H(3e4,6e4);function va(){var e=Tr().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(v.a)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ya=null;function ma(e){return ya=ya||function(e){return new Promise(function(t,n){var r,i,a;function o(){va(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){va(),n(L(e,"network-request-failed"))},timeout:pa.get()})}if(null===(i=null===(r=Tr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(null===(a=Tr().gapi)||void 0===a||!a.load){var u=Xr("iframefcb");return Tr()[u]=function(){gapi.load?o():n(L(e,"network-request-failed"))},Jr("https://apis.google.com/js/api.js?onload=".concat(u)).catch(function(e){return n(e)})}o()}}).catch(function(e){throw ya=null,e})}(e)}var ga=new H(5e3,15e3),ba="__/auth/iframe",ka="emulator/auth/iframe",wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_a=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oa(e){var t=e.config;U(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Q(t,ka):"https://".concat(e.config.authDomain,"/").concat(ba),r={apiKey:t.apiKey,appName:e.name,v:g.SDK_VERSION},i=_a.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Object(m.O)(r).slice(1))}function xa(e){return ja.apply(this,arguments)}function ja(){return(ja=Object(h.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(t);case 2:return n=e.sent,U(r=Tr().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Oa(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wa,dontclear:!0},function(e){return new Promise(function(){var n=Object(h.a)(j().mark(function n(r,i){var a,o,u;return j().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Tr().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=L(t,"network-request-failed"),o=Tr().setTimeout(function(){i(a)},ga.get()),e.ping(u).then(u,function(){i(a)});case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ea={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sa=500,Ta=600,Ia="_blank",Ca="http://localhost",Aa=function(){function e(t){Object(o.a)(this,e),this.window=t,this.associatedEvent=null}return Object(u.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Na(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sa,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ta,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Ea),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Object(m.w)().toLowerCase();n&&(u=Ue(c)?Ia:n),Me(c)&&(t=t||Ca,s.scrollbars="yes");var l=Object.entries(s).reduce(function(e,t){var n=Object(p.a)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")},"");if(function(){var e;return Ge(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Aa(null);var f=window.open(t||"",u,l);U(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Aa(f)}var Pa="__/auth/handler",Ra="emulator/auth/handler";function La(e,t,n,r,i,a){U(e.config.authDomain,e,"auth-domain-config-required"),U(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:g.SDK_VERSION,eventId:i};if(t instanceof Dt){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(m.B)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Object(p.a)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Mt){var h=t.getScopes().filter(function(e){return""!==e});h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,v=0,y=Object.keys(d);v<y.length;v++){var b=y[v];void 0===d[b]&&delete d[b]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Pa);return Q(t,Ra)}(e),"?").concat(Object(m.O)(d).slice(1))}var Da=function(){function e(){Object(o.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Or,this._completeRedirectFn=ta,this._overrideRedirectResult=Gi}return Object(u.a)(e,[{key:"_openPopup",value:function(){var e=Object(h.a)(j().mark(function e(t,n,r,i){var a,o;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return B(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=La(t,n,r,G(),i),e.abrupt("return",Na(t,o,Er()));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(h.a)(j().mark(function e(t,n,r,i){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=La(t,n,r,G(),i),Tr().location.href=a,e.abrupt("return",new Promise(function(){}));case 4:case"end":return e.stop()}var a},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(B(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch(function(){delete t.eventManagers[n]}),o}},{key:"initAndGetManager",value:function(){var e=Object(h.a)(j().mark(function e(t){var n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(t);case 2:return n=e.sent,r=new aa(t),n.register("authEvent",function(e){return U(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),R(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ha.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return We()||Fe()||Ge()}}]),e}(),Ma=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,"phone"))).credential=e,n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Z(e,"POST","/v2/accounts/mfaEnrollment:finalize",X(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Z(e,"POST","/v2/accounts/mfaSignIn:finalize",X(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new t(e)}}]),t}(function(){function e(t){Object(o.a)(this,e),this.factorId=t}return Object(u.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return V("unexpected MultiFactorSessionType")}}}]),e}()),Fa=function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,null,[{key:"assertion",value:function(e){return Ma._fromCredential(e)}}]),e}();Fa.FACTOR_ID="phone";var Ua,Va="@firebase/auth",Ba="0.20.3",za=function(){function e(t){Object(o.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(u.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(h.a)(j().mark(function e(t){var n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged(function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function qa(){qa=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ga(){return window}Ua="Browser",Object(g._registerComponent)(new _.a("auth",function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){U(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),U(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Ua,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ke(Ua)},i=new Qe(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(q);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("auth-internal").initialize()})),Object(g._registerComponent)(new _.a("auth-internal",function(e){return function(e){return new za(e)}($e(e.getProvider("auth").getImmediate()))},"PRIVATE").setInstantiationMode("EXPLICIT")),Object(g.registerVersion)(Va,Ba,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ua)),Object(g.registerVersion)(Va,Ba,"esm2017"),n.d(t,"x",function(){return yo}),n.d(t,"F",function(){return po}),n.d(t,"a",function(){return S}),n.d(t,"b",function(){return et}),n.d(t,"c",function(){return Lt}),n.d(t,"d",function(){return Ut}),n.d(t,"e",function(){return Bt}),n.d(t,"f",function(){return Vt}),n.d(t,"g",function(){return Et}),n.d(t,"h",function(){return Ft}),n.d(t,"i",function(){return wi}),n.d(t,"j",function(){return Fa}),n.d(t,"k",function(){return E}),n.d(t,"l",function(){return si}),n.d(t,"m",function(){return zt}),n.d(t,"n",function(){return Gt}),n.d(t,"o",function(){return Wt}),n.d(t,"p",function(){return U}),n.d(t,"q",function(){return $e}),n.d(t,"r",function(){return R}),n.d(t,"s",function(){return Er}),n.d(t,"t",function(){return q}),n.d(t,"u",function(){return ta}),n.d(t,"v",function(){return Gi}),n.d(t,"w",function(){return Re}),n.d(t,"y",function(){return In}),n.d(t,"z",function(){return wr}),n.d(t,"A",function(){return Da}),n.d(t,"B",function(){return Or}),n.d(t,"C",function(){return An}),n.d(t,"D",function(){return Sn}),n.d(t,"E",function(){return Je}),n.d(t,"G",function(){return Ln}),n.d(t,"H",function(){return I}),n.d(t,"I",function(){return Wn}),n.d(t,"J",function(){return fr}),n.d(t,"K",function(){return pr}),n.d(t,"L",function(){return Zi}),n.d(t,"M",function(){return Pe}),n.d(t,"N",function(){return Hr}),n.d(t,"O",function(){return Vn}),n.d(t,"P",function(){return pn}),n.d(t,"Q",function(){return di}),n.d(t,"R",function(){return Ri}),n.d(t,"S",function(){return Ji}),n.d(t,"T",function(){return gr}),n.d(t,"U",function(){return yn}),n.d(t,"V",function(){return vi}),n.d(t,"W",function(){return Ni}),n.d(t,"X",function(){return $i}),n.d(t,"Y",function(){return Hn}),n.d(t,"Z",function(){return jn}),n.d(t,"ab",function(){return Fn}),n.d(t,"bb",function(){return Yt}),n.d(t,"cb",function(){return hn}),n.d(t,"db",function(){return kn}),n.d(t,"eb",function(){return Mn}),n.d(t,"fb",function(){return Bn}),n.d(t,"gb",function(){return fi}),n.d(t,"hb",function(){return Ci}),n.d(t,"ib",function(){return Hi}),n.d(t,"jb",function(){return tn}),n.d(t,"kb",function(){return tr}),n.d(t,"lb",function(){return nr}),n.d(t,"mb",function(){return bi}),n.d(t,"nb",function(){return Zn}),n.d(t,"ob",function(){return $n}),n.d(t,"pb",function(){return Pn});var Wa=2e3;function Ka(e,t,n){return Ha.apply(this,arguments)}function Ha(){return(Ha=Object(h.a)(qa().mark(function e(t,n,r){var i,a,o,u,s;return qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ga(),o=a.BuildInfo,B(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Za(n.sessionId);case 4:return u=e.sent,s={},Ge()?s.ibi=o.packageName:Be()?s.apn=o.packageName:R(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",La(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qa(){return(Qa=Object(h.a)(qa().mark(function e(t){var n,r,i;return qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ga(),r=n.BuildInfo,i={},Ge()?i.iosBundleId=r.packageName:Be()?i.androidPackageName=r.packageName:R(t,"operation-not-supported-in-this-environment"),e.next=5,sa(t,i);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $a(e){var t=Ga().cordova;return new Promise(function(n){t.plugins.browsertab.isAvailable(function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.w)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}function Ya(e,t,n){return Ja.apply(this,arguments)}function Ja(){return(Ja=Object(h.a)(qa().mark(function e(t,n,r){var i,a,o;return qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ga(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise(function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout(function(){i(L(t,"redirect-cancelled-by-user"))},Wa))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Be()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}});case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[2,,5,8]])}))).apply(this,arguments)}function Xa(e){var t,n,r,i,a,o,u,s,c,l,f=Ga();U("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Za(e){return eo.apply(this,arguments)}function eo(){return(eo=Object(h.a)(qa().mark(function e(t){var n,r,i;return qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=to(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map(function(e){return e.toString(16).padStart(2,"0")}).join(""));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function to(e){if(B(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var no=20,ro=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).apply(this,arguments))).passiveListeners=new Set,e.initPromise=new Promise(function(t){e.resolveInialized=t}),e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach(function(t){return t(e)}),Object(c.a)(Object(l.a)(t.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Object(h.a)(qa().mark(function e(){return qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(aa);function io(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:co(),postBody:null,tenantId:e.tenantId,error:L(e,"no-auth-event")}}function ao(e,t){return lo()._set(fo(e),t)}function oo(e){return uo.apply(this,arguments)}function uo(){return(uo=Object(h.a)(qa().mark(function e(t){var n;return qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo()._get(fo(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,lo()._remove(fo(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function so(e,t){var n,r,i=function(e){var t=ho(e),n=t.link?decodeURIComponent(t.link):void 0,r=ho(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ho(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ho(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?L(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function co(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<no;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function lo(){return q(wr)}function fo(e){return Re("authEvent",e.config.apiKey,e.name)}function ho(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),o=(t=n,Object(r.a)(t)||Object(i.a)(t)||Object(a.a)()),u=(o[0],o.slice(1));return Object(m.P)(u.join("?"))}var po=function(){function e(){Object(o.a)(this,e),this._redirectPersistence=Or,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ta,this._overrideRedirectResult=Gi}return Object(u.a)(e,[{key:"_initialize",value:function(){var e=Object(h.a)(qa().mark(function e(t){var n,r;return qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new ro(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){R(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Object(h.a)(qa().mark(function e(t,n,r,i){var a,o,u,s;return qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Xa(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Fi.clear(),e.next=10,this._originValidation(t);case 10:return o=io(t,r,i),e.next=13,ao(t,o);case 13:return e.next=15,Ka(t,o,n);case 15:return u=e.sent,e.next=18,$a(u);case 18:return s=e.sent,e.abrupt("return",Ya(t,a,s));case 20:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Qa.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ga(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Object(h.a)(qa().mark(function n(){return qa().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,oo(e);case 2:t.onEvent(vo());case 3:case"end":return n.stop()}},n)})),500),u=function(){var n=Object(h.a)(qa().mark(function n(r){var i,a;return qa().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,oo(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=so(i,r.url)),t.onEvent(a||vo());case 7:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Ga().handleOpenURL=function(){var e=Object(h.a)(qa().mark(function e(t){return qa().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}]),e}();function vo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:L("no-auth-event")}}function yo(e,t){$e(e)._logFramework(t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return hf}),n.d(t,"b",function(){return ol}),n.d(t,"c",function(){return Wc}),n.d(t,"d",function(){return Rc}),n.d(t,"e",function(){return Ul}),n.d(t,"f",function(){return al}),n.d(t,"g",function(){return D}),n.d(t,"h",function(){return sl}),n.d(t,"i",function(){return Vl}),n.d(t,"j",function(){return Bl}),n.d(t,"k",function(){return J}),n.d(t,"l",function(){return vf}),n.d(t,"m",function(){return $e}),n.d(t,"n",function(){return re}),n.d(t,"o",function(){return ne}),n.d(t,"p",function(){return Ic}),n.d(t,"q",function(){return P}),n.d(t,"r",function(){return Ve}),n.d(t,"s",function(){return I}),n.d(t,"t",function(){return jc}),n.d(t,"u",function(){return Sf}),n.d(t,"v",function(){return Mf}),n.d(t,"w",function(){return Df}),n.d(t,"x",function(){return Xc}),n.d(t,"y",function(){return Mc}),n.d(t,"z",function(){return Fc}),n.d(t,"A",function(){return Pc}),n.d(t,"B",function(){return Ef}),n.d(t,"C",function(){return Rf}),n.d(t,"D",function(){return tl}),n.d(t,"E",function(){return Uc}),n.d(t,"F",function(){return $c}),n.d(t,"G",function(){return Yc}),n.d(t,"H",function(){return el}),n.d(t,"I",function(){return of}),n.d(t,"J",function(){return af}),n.d(t,"K",function(){return Hc}),n.d(t,"L",function(){return Cf}),n.d(t,"M",function(){return mf}),n.d(t,"N",function(){return bf}),n.d(t,"O",function(){return kf}),n.d(t,"P",function(){return wf}),n.d(t,"Q",function(){return _f}),n.d(t,"R",function(){return Of}),n.d(t,"S",function(){return Ff}),n.d(t,"T",function(){return Xl}),n.d(t,"U",function(){return Zl}),n.d(t,"V",function(){return nl}),n.d(t,"W",function(){return rl}),n.d(t,"X",function(){return Tf}),n.d(t,"Y",function(){return If}),n.d(t,"Z",function(){return Yl}),n.d(t,"ab",function(){return Kl}),n.d(t,"bb",function(){return Bc}),n.d(t,"cb",function(){return Vc}),n.d(t,"db",function(){return Pf}),n.d(t,"eb",function(){return Lf}),n.d(t,"fb",function(){return xf}),n.d(t,"gb",function(){return E}),n.d(t,"hb",function(){return ql}),n.d(t,"ib",function(){return nf}),n.d(t,"jb",function(){return tf}),n.d(t,"kb",function(){return jf}),n.d(t,"lb",function(){return Zc}),n.d(t,"mb",function(){return Ql});var r=n(48),i=n(29),a=n(14),o=n(2),u=n(9),s=n(7),c=n(8),l=n(17),f=n(1),h=n(3),d=n(10),p=n(16),v=n(18),y=n(0),m=n(36);function g(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){k=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(j([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var w="@firebase/firestore",_=function(){function e(t){Object(f.a)(this,e),this.uid=t}return Object(h.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_.UNAUTHENTICATED=new _(null),_.GOOGLE_CREDENTIALS=new _("google-credentials-uid"),_.FIRST_PARTY=new _("first-party-uid"),_.MOCK_USER=new _("mock-user");var O="9.8.3",x=new v.b("@firebase/firestore");function j(){return x.logLevel}function E(e){x.setLogLevel(e)}function S(e){if(x.logLevel<=v.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);x.debug.apply(x,["Firestore (".concat(O,"): ").concat(e)].concat(Object(l.a)(i)))}}function T(e){if(x.logLevel<=v.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);x.error.apply(x,["Firestore (".concat(O,"): ").concat(e)].concat(Object(l.a)(i)))}}function I(e){if(x.logLevel<=v.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(C);x.warn.apply(x,["Firestore (".concat(O,"): ").concat(e)].concat(Object(l.a)(i)))}}function C(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(O,") INTERNAL ASSERTION FAILED: ")+e;throw T(t),new Error(t)}function N(e,t){e||A()}function P(e,t){e||A()}function R(e,t){return e}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e,n))).code=e,r.message=n,r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return Object(c.a)(t,e),t}(y.c),M=function e(){var t=this;Object(f.a)(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},F=function e(t,n){Object(f.a)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))},U=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(_.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}]),e}(),V=function(){function e(t){Object(f.a)(this,e),this.token=t,this.changeListener=null}return Object(h.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),B=function(){function e(t){Object(f.a)(this,e),this.t=t,this.currentUser=_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(h.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new M;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new M,e.enqueueRetryable(function(){return i(n.currentUser)})};var u=function(){var t=a;e.enqueueRetryable(Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}},e)})))},s=function(e){S("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit(function(e){return s(e)}),setTimeout(function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new M)}},0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.i!==t?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(N("string"==typeof n.accessToken),new F(n.accessToken,e.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return N(null===e||"string"==typeof e),new _(e)}}]),e}(),z=function e(t,n,r){Object(f.a)(this,e),this.type="FirstParty",this.user=_.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)},q=function(){function e(t,n,r){Object(f.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(h.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new z(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(_.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),G=function e(t){Object(f.a)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)},W=function(){function e(t){Object(f.a)(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Object(h.a)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&S("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,S("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable(function(){return r(t)})};var i=function(e){S("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit(function(e){return i(e)}),setTimeout(function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(function(t){return t?(N("string"==typeof t.token),e.p=t.token,new G(t.token)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function K(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var H=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=K(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Q(e,t){return e<t?-1:e>t?1:0}function $(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function Y(e){return e+"\0"}var J=function(){function e(t,n){if(Object(f.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new D(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new D(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new D(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(h.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),X=function(){function e(t){Object(f.a)(this,e),this.timestamp=t}return Object(h.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new J(0,0))}},{key:"max",value:function(){return new e(new J(253402300799,999999999))}}]),e}(),Z=function(){function e(t,n,r){Object(f.a)(this,e),void 0===n?n=0:n>t.length&&A(),void 0===r?r=t.length-n:r>t.length-n&&A(),this.segments=t,this.offset=n,this.len=r}return Object(h.a)(e,[{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}},{key:"length",get:function(){return this.len}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ee=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new D(L.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Object(l.a)(u.split("/").filter(function(e){return e.length>0})))}return new t(e)}},{key:"emptyPath",value:function(){return new t([])}}]),t}(Z),te=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ne=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return te.test(e)}},{key:"keyField",value:function(){return new t(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var n=[],r="",i=0,a=function(){if(0===r.length)throw new D(L.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new D(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new D(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new D(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}},{key:"emptyPath",value:function(){return new t([])}}]),t}(Z),re=function(){function e(t){Object(f.a)(this,e),this.path=t}return Object(h.a)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ee.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}},{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}}],[{key:"fromPath",value:function(t){return new e(ee.fromString(t))}},{key:"fromName",value:function(t){return new e(ee.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ee.emptyPath())}},{key:"comparator",value:function(e,t){return ee.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ee(t.slice()))}}]),e}(),ie=function e(t,n,r,i){Object(f.a)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i};function ae(e){return e.fields.find(function(e){return 2===e.kind})}function oe(e){return e.fields.filter(function(e){return 2!==e.kind})}ie.UNKNOWN_ID=-1;var ue=function e(t,n){Object(f.a)(this,e),this.fieldPath=t,this.kind=n},se=function(){function e(t,n){Object(f.a)(this,e),this.sequenceNumber=t,this.offset=n}return Object(h.a)(e,null,[{key:"empty",value:function(){return new e(0,fe.min())}}]),e}();function ce(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=X.fromTimestamp(1e9===r?new J(n+1,0):new J(n,r));return new fe(i,re.empty(),t)}function le(e){return new fe(e.readTime,e.key,-1)}var fe=function(){function e(t,n,r){Object(f.a)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Object(h.a)(e,null,[{key:"min",value:function(){return new e(X.min(),re.empty(),-1)}},{key:"max",value:function(){return new e(X.max(),re.empty(),-1)}}]),e}();function he(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=re.comparator(e.documentKey,t.documentKey))?n:Q(e.largestBatchId,t.largestBatchId)}var de="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pe=function(){function e(){Object(f.a)(this,e),this.onCommittedListeners=[]}return Object(h.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(e){return e()})}}]),e}();function ve(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===L.FAILED_PRECONDITION&&t.message===de){e.next=2;break}throw t;case 2:S("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var me=function(){function e(t){var n=this;Object(f.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)},function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)})}return Object(h.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&A(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})}},{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.next(t,n)})}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)}}],[{key:"resolve",value:function(t){return new e(function(e,n){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"waitFor",value:function(t){return new e(function(e,n){var r=0,i=0,a=!1;t.forEach(function(t){++r,t.next(function(){++i,a&&i===r&&e()},function(e){return n(e)})}),a=!0,i===r&&e()})}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=g(t);try{var a=function(){var t=n.value;r=r.next(function(n){return n?e.resolve(n):t()})};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e(function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next(function(t){a[s]=t,++o===i&&e(a)},function(e){return r(e)})},s=0;s<i;s++)u(s)})}},{key:"doWhile",value:function(t,n){return new e(function(e,r){!function i(){!0===t()?n().next(function(){i()},r):e()}()})}}]),e}(),ge=function(){function e(t,n){var r=this;Object(f.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new M,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new we(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Ee(e.target.error);r.T.reject(new we(t,n))}}return Object(h.a)(e,[{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(S("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Oe(t)}},{key:"A",get:function(){return this.T.promise}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new we(n,t)}}}]),e}(),be=function(){function t(e,n,r){Object(f.a)(this,t),this.name=e,this.version=n,this.P=r,12.2===t.v(Object(y.w)())&&T("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Object(h.a)(t,[{key:"k",value:function(){var e=Object(o.a)(k().mark(function e(t){var n=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return S("SimpleDb","Opening database:",this.name),e.next=5,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new we(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new D(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new D(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new we(t,n))},i.onupgradeneeded=function(e){S("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next(function(){S("SimpleDb","Database upgrade to version "+n.version+" complete")})}});case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Object(o.a)(k().mark(function e(t,n,r,i){var a,o,u,s,c=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(k().mark(function e(){var n,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.k(t);case 2:return c.db=e.sent,n=ge.open(c.db,t,a?"readonly":"readwrite",r),(o=i(n).next(function(e){return n.R(),e}).catch(function(e){return n.abort(e),me.reject(e)}).toPromise()).catch(function(){}),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}},e)})(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,S("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return S("SimpleDb","Removing database:",e),xe(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Object(y.D)())return!1;if(t.S())return!0;var e=Object(y.w)(),n=t.v(e),r=0<n&&n<10,i=t.D(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:""}))||void 0===t?void 0:t.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),ke=function(){function e(t){Object(f.a)(this,e),this.$=t,this.B=!1,this.L=null}return Object(h.a)(e,[{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return xe(this.$.delete())}},{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}}]),e}(),we=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,L.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(n)))).name="IndexedDbTransactionError",r}return Object(c.a)(t,e),t}(D);function _e(e){return"IndexedDbTransactionError"===e.name}var Oe=function(){function e(t){Object(f.a)(this,e),this.store=t}return Object(h.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(S("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(S("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xe(n)}},{key:"add",value:function(e){return S("SimpleDb","ADD",this.store.name,e,e),xe(this.store.add(e))}},{key:"get",value:function(e){var t=this;return xe(this.store.get(e)).next(function(n){return void 0===n&&(n=null),S("SimpleDb","GET",t.store.name,e,n),n})}},{key:"delete",value:function(e){return S("SimpleDb","DELETE",this.store.name,e),xe(this.store.delete(e))}},{key:"count",value:function(){return S("SimpleDb","COUNT",this.store.name),xe(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,function(e,t){i.push(t)}).next(function(){return i})}var a=this.store.getAll(n.range);return new me(function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}})}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new me(function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}})}},{key:"W",value:function(e,t){S("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,function(e,t,n){return n.delete()})}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new me(function(n,r){t.onerror=function(e){var t=Ee(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})}},{key:"G",value:function(e,t){var n=[];return new me(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ke(i),o=t(i.primaryKey,i.value,a);if(o instanceof me){var u=o.catch(function(e){return a.done(),me.reject(e)});n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}}).next(function(){return me.waitFor(n)})}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function xe(e){return new me(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ee(e.target.error);n(t)}})}var je=!1;function Ee(e){var t=be.v(Object(y.w)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new D("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return je||(je=!0,setTimeout(function(){throw r},0)),r}}return e}var Se=function(){function e(t,n){Object(f.a)(this,e),this.asyncQueue=t,this.X=n,this.task=null}return Object(h.a)(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"Z",value:function(e){var t=this;S("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=S,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!_e(e.t4)){e.next=17;break}S("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ve(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}},e,null,[[1,11]])})))}},{key:"started",get:function(){return null!==this.task}}]),e}(),Te=function(){function e(t,n){Object(f.a)(this,e),this.localStore=t,this.persistence=n}return Object(h.a)(e,[{key:"tt",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n=this,r=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",function(e){return n.et(e,t)}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return me.doWhile(function(){return!0===a&&i>0},function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(function(t){if(null!==t&&!r.has(t))return S("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next(function(e){i-=e,r.add(t)});a=!1})}).next(function(){return t-i})}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next(function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next(function(){return r.st(i,n)}).next(function(n){return S("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)}).next(function(){return a.size})})})}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach(function(e,t){var r=le(t);he(r,n)>0&&(n=r)}),new fe(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Ie=function(){function e(t,n){var r=this;Object(f.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return Object(h.a)(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Ce(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ae(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ne(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Ie.ot=-1;var Pe=function(){function e(t,n){Object(f.a)(this,e),this.comparator=t,this.root=n||Le.EMPTY}return Object(h.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Le.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Le.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})}},{key:"toString",value:function(){var e=[];return this.inorderTraversal(function(t,n){return e.push("".concat(t,":").concat(n)),!1}),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Re(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Re(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Re(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Re(this.root,e,this.comparator,!0)}},{key:"size",get:function(){return this.root.size}}]),e}(),Re=function(){function e(t,n,r,i){Object(f.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(h.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Le=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(h.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw A();if(this.right.isRed())throw A();var e=this.left.check();if(e!==this.right.check())throw A();return e+(this.isRed()?0:1)}}]),e}();Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1,Le.EMPTY=new(function(){function e(){Object(f.a)(this,e),this.size=0}return Object(h.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Le(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}},{key:"key",get:function(){throw A()}},{key:"value",get:function(){throw A()}},{key:"color",get:function(){throw A()}},{key:"left",get:function(){throw A()}},{key:"right",get:function(){throw A()}}]),e}());var De=function(){function e(t){Object(f.a)(this,e),this.comparator=t,this.data=new Pe(this.comparator)}return Object(h.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Me(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Me(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}},{key:"size",get:function(){return this.data.size}}]),e}(),Me=function(){function e(t){Object(f.a)(this,e),this.iter=t}return Object(h.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Fe(e){return e.hasNext()?e.getNext():void 0}var Ue=function(){function e(t){Object(f.a)(this,e),this.fields=t,t.sort(ne.comparator)}return Object(h.a)(e,[{key:"unionWith",value:function(t){var n,r=new De(ne.comparator),i=g(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=g(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=g(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $(this.fields,e.fields,function(e,t){return e.isEqual(t)})}}],[{key:"empty",value:function(){return new e([])}}]),e}();function Ve(){return"undefined"!=typeof atob}var Be=function(){function e(t){Object(f.a)(this,e),this.binaryString=t}return Object(h.a)(e,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Q(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();Be.EMPTY_BYTE_STRING=new Be("");var ze=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qe(e){if(N(!!e),"string"==typeof e){var t=0,n=ze.exec(e);if(N(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ge(e.seconds),nanos:Ge(e.nanos)}}function Ge(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function We(e){return"string"==typeof e?Be.fromBase64String(e):Be.fromUint8Array(e)}function Ke(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function He(e){var t=qe(e.mapValue.fields.__local_write_time__.timestampValue);return new J(t.seconds,t.nanos)}var Qe=function e(t,n,r,i,a,o,u,s){Object(f.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s},$e=function(){function e(t,n){Object(f.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(h.a)(e,[{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ye(e){return null==e}function Je(e){return 0===e&&1/e==-1/0}function Xe(e){return"number"==typeof e&&Number.isInteger(e)&&!Je(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ze={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},et={nullValue:"NULL_VALUE"};function tt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ke(e)?4:pt(e)?9007199254740991:10:A()}function nt(e,t){if(e===t)return!0;var n=tt(e);if(n!==tt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return He(e).isEqual(He(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=qe(e.timestampValue),r=qe(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return We(e.bytesValue).isEqual(We(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ge(e.geoPointValue.latitude)===Ge(t.geoPointValue.latitude)&&Ge(e.geoPointValue.longitude)===Ge(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ge(e.integerValue)===Ge(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ge(e.doubleValue),r=Ge(t.doubleValue);return n===r?Je(n)===Je(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $(e.arrayValue.values||[],t.arrayValue.values||[],nt);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ce(n)!==Ce(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nt(n[i],r[i])))return!1;return!0}(e,t);default:return A()}}function rt(e,t){return void 0!==(e.values||[]).find(function(e){return nt(e,t)})}function it(e,t){if(e===t)return 0;var n=tt(e),r=tt(t);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ge(e.integerValue||e.doubleValue),r=Ge(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return at(e.timestampValue,t.timestampValue);case 4:return at(He(e),He(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(e,t){var n=We(e),r=We(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Q(n[i],r[i]);if(0!==a)return a}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Q(Ge(e.latitude),Ge(t.latitude));return 0!==n?n:Q(Ge(e.longitude),Ge(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=it(n[i],r[i]);if(a)return a}return Q(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ze.mapValue&&t===Ze.mapValue)return 0;if(e===Ze.mapValue)return 1;if(t===Ze.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Q(r[o],a[o]);if(0!==u)return u;var s=it(n[r[o]],i[a[o]]);if(0!==s)return s}return Q(r.length,a.length)}(e.mapValue,t.mapValue);default:throw A()}}function at(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);var n=qe(e),r=qe(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function ot(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=qe(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?We(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,re.fromName(r).toString()):"geoPointValue"in t?"geo(".concat((n=t.geoPointValue).latitude,",").concat(n.longitude,")"):"arrayValue"in t?function(t){var n,r="[",i=!0,a=g(t.values||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;i?i=!1:r+=",",r+=e(o)}}catch(u){a.e(u)}finally{a.f()}return r+"]"}(t.arrayValue):"mapValue"in t?function(t){var n,r=Object.keys(t.fields||{}).sort(),i="{",a=!0,o=g(r);try{for(o.s();!(n=o.n()).done;){var u=n.value;a?a=!1:i+=",",i+="".concat(u,":").concat(e(t.fields[u]))}}catch(s){o.e(s)}finally{o.f()}return i+"}"}(t.mapValue):A();var n,r}(e)}function ut(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function st(e){return!!e&&"integerValue"in e}function ct(e){return!!e&&"arrayValue"in e}function lt(e){return!!e&&"nullValue"in e}function ft(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ht(e){return!!e&&"mapValue"in e}function dt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ae(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=dt(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=dt(e.arrayValue.values[r]);return n}return Object.assign({},e)}function pt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function vt(e){return"nullValue"in e?et:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ut($e.empty(),re.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:A()}function yt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ut($e.empty(),re.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ze:A()}function mt(e,t){var n=it(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function gt(e,t){var n=it(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var bt=function(){function e(t){Object(f.a)(this,e),this.value=t}return Object(h.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ht(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dt(t)}},{key:"setAll",value:function(e){var t=this,n=ne.emptyPath(),r={},i=[];e.forEach(function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=dt(e):i.push(a.lastSegment())});var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ht(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return nt(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ht(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ae(t,function(t,n){return e[t]=n});var r,i=g(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(dt(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function kt(e){var t=[];return Ae(e.fields,function(e,n){var r=new ne([e]);if(ht(n)){var i=kt(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=g(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)}),new Ue(t)}var wt=function(){function e(t,n,r,i,a,o){Object(f.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Object(h.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=X.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,X.min(),X.min(),bt.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,X.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,X.min(),bt.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,X.min(),bt.empty(),2)}}]),e}(),_t=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(f.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null};function Ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new _t(e,t,n,r,i,a,o)}function xt(e){var t=R(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return(t=e).field.canonicalString()+t.op.toString()+ot(t.value);var t}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),Ye(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(function(e){return ot(e)}).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(function(e){return ot(e)}).join(",")),t.ut=n}return t.ut}function jt(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Bt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!nt(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qt(e.startAt,t.startAt)&&qt(e.endAt,t.endAt)}function Et(e){return re.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function St(e,t){return e.filters.filter(function(e){return e instanceof Ct&&e.field.isEqual(t)})}function Tt(e,t,n){var r,i=et,a=!0,o=g(St(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=et,c=!0;switch(u.op){case"<":case"<=":s=vt(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=et}mt({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];mt({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function It(e,t,n){var r,i=Ze,a=!0,o=g(St(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ze,c=!0;switch(u.op){case">=":case">":s=yt(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ze}gt({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];gt({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Ct=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).field=e,i.op=n,i.value=r,i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(it(t,this.value)):null!==t&&tt(this.value)===tt(t)&&this.at(it(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return A()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.ct(e,n,r):new At(e,n,r):"array-contains"===n?new Lt(e,r):"in"===n?new Dt(e,r):"not-in"===n?new Mt(e,r):"array-contains-any"===n?new Ft(e,r):new t(e,n,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Nt(e,n):new Pt(e,n)}}]),t}(function(){return function e(){Object(f.a)(this,e)}}()),At=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this,e,n,r))).key=re.fromName(r.referenceValue),i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){var t=re.comparator(e.key,this.key);return this.at(t)}}]),t}(Ct),Nt=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e,"in",n))).keys=Rt("in",n),r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){return this.keys.some(function(t){return t.isEqual(e.key)})}}]),t}(Ct),Pt=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e,"not-in",n))).keys=Rt("not-in",n),r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})}}]),t}(Ct);function Rt(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return re.fromName(e.referenceValue)})}var Lt=function(e){function t(e,n){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).call(this,e,"array-contains",n))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ct(t)&&rt(t.arrayValue,this.value)}}]),t}(Ct),Dt=function(e){function t(e,n){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).call(this,e,"in",n))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&rt(this.value.arrayValue,t)}}]),t}(Ct),Mt=function(e){function t(e,n){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).call(this,e,"not-in",n))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){if(rt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!rt(this.value.arrayValue,t)}}]),t}(Ct),Ft=function(e){function t(e,n){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).call(this,e,"array-contains-any",n))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ct(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return rt(t.value.arrayValue,e)})}}]),t}(Ct),Ut=function e(t,n){Object(f.a)(this,e),this.position=t,this.inclusive=n},Vt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(f.a)(this,e),this.field=t,this.dir=n};function Bt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function zt(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?re.comparator(re.fromName(o.referenceValue),n.key):it(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!nt(e.position[n],t.position[n]))return!1;return!0}var Gt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(f.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt};function Wt(e,t,n,r,i,a,o,u){return new Gt(e,t,n,r,i,a,o,u)}function Kt(e){return new Gt(e)}function Ht(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qt(e){var t,n=g(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function $t(e){return null!==e.collectionGroup}function Yt(e){var t=R(e);if(null===t.lt){t.lt=[];var n=Qt(t),r=Ht(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Vt(n)),t.lt.push(new Vt(ne.keyField(),"asc"));else{var i,a=!1,o=g(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Vt(ne.keyField(),s))}}}return t.lt}function Jt(e){var t=R(e);if(!t.ft)if("F"===t.limitType)t.ft=Ot(t.path,t.collectionGroup,Yt(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=g(Yt(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Vt(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Ut(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Ut(t.startAt.position,t.startAt.inclusive):null;t.ft=Ot(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function Xt(e,t,n){return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zt(e,t){return jt(Jt(e),Jt(t))&&e.limitType===t.limitType}function en(e){return"".concat(xt(Jt(e)),"|lt:").concat(e.limitType)}function tn(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ot(t.value));var t}).join(", "),"]")),Ye(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)}).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(function(e){return ot(e)}).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(function(e){return ot(e)}).join(",")),"Target(".concat(t,")")}(Jt(e)),"; limitType=").concat(e.limitType,")")}function nn(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):re.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=g(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=g(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=zt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Yt(e),t))&&!(e.endAt&&!function(e,t,n){var r=zt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Yt(e),t))}(e,t)}function rn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function an(e){return function(t,n){var r,i=!1,a=g(Yt(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=on(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function on(e,t,n){var r=e.field.isKeyField()?re.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?it(r,i):A()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return A()}}function un(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Je(t)?"-0":t}}function sn(e){return{integerValue:""+e}}function cn(e,t){return Xe(t)?sn(t):un(e,t)}var ln=function e(){Object(f.a)(this,e),this._=void 0};function fn(e,t,n){return e instanceof pn?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof vn?yn(e,t):e instanceof mn?gn(e,t):function(e,t){var n=dn(e,t),r=kn(n)+kn(e._t);return st(n)&&st(e._t)?sn(r):un(e.wt,r)}(e,t)}function hn(e,t,n){return e instanceof vn?yn(e,t):e instanceof mn?gn(e,t):n}function dn(e,t){return e instanceof bn?st(n=t)||n&&"doubleValue"in n?t:{integerValue:0}:null;var n}var pn=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),t}(ln),vn=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this))).elements=e,n}return Object(c.a)(t,e),t}(ln);function yn(e,t){var n,r=wn(t),i=g(e.elements);try{var a=function(){var e=n.value;r.some(function(t){return nt(t,e)})||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var mn=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this))).elements=e,n}return Object(c.a)(t,e),t}(ln);function gn(e,t){var n,r=wn(t),i=g(e.elements);try{var a=function(){var e=n.value;r=r.filter(function(t){return!nt(t,e)})};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var bn=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this))).wt=e,r._t=n,r}return Object(c.a)(t,e),t}(ln);function kn(e){return Ge(e.integerValue||e.doubleValue)}function wn(e){return ct(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var _n=function e(t,n){Object(f.a)(this,e),this.field=t,this.transform=n};var On=function e(t,n){Object(f.a)(this,e),this.version=t,this.transformResults=n},xn=function(){function e(t,n){Object(f.a)(this,e),this.updateTime=t,this.exists=n}return Object(h.a)(e,[{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}},{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function jn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var En=function e(){Object(f.a)(this,e)};function Sn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Un(e.key,xn.none()):new Nn(e.key,e.data,xn.none());var n,r=e.data,i=bt.empty(),a=new De(ne.comparator),o=g(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Pn(e.key,i,new Ue(a.toArray()),xn.none())}function Tn(e,t,n){e instanceof Nn?function(e,t,n){var r=e.value.clone(),i=Ln(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pn?function(e,t,n){if(jn(e.precondition,t)){var r=Ln(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Rn(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function In(e,t,n,r){return e instanceof Nn?function(e,t,n,r){if(!jn(e.precondition,t))return n;var i=e.value.clone(),a=Dn(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Pn?function(e,t,n,r){if(!jn(e.precondition,t))return n;var i=Dn(e.fieldTransforms,r,t),a=t.data;return a.setAll(Rn(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(function(e){return e.field}))}(e,t,n,r):function(e,t,n){return jn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Cn(e,t){var n,r=null,i=g(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=dn(a.transform,o||null);null!=u&&(null===r&&(r=bt.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function An(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vn&&t instanceof vn||e instanceof mn&&t instanceof mn?$(e.elements,t.elements,nt):e instanceof bn&&t instanceof bn?nt(e._t,t._t):e instanceof pn&&t instanceof pn}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Nn=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).key=e,i.value=n,i.precondition=r,i.fieldTransforms=a,i.type=0,i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(En),Pn=function(e){function t(e,n,r,i){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(f.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this))).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(c.a)(t,e),Object(h.a)(t,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),t}(En);function Rn(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Ln(e,t,n){var r=new Map;N(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,hn(o,u,n[i]))}return r}function Dn(e,t,n){var r,i=new Map,a=g(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,fn(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Mn,Fn,Un=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this))).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(En),Vn=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this))).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"getFieldMask",value:function(){return null}}]),t}(En),Bn=function e(t){Object(f.a)(this,e),this.count=t};function zn(e){switch(e){default:return A();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function qn(e){if(void 0===e)return T("GRPC error has no .code"),L.UNKNOWN;switch(e){case Mn.OK:return L.OK;case Mn.CANCELLED:return L.CANCELLED;case Mn.UNKNOWN:return L.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return L.INTERNAL;case Mn.UNAVAILABLE:return L.UNAVAILABLE;case Mn.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Mn.NOT_FOUND:return L.NOT_FOUND;case Mn.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Mn.ABORTED:return L.ABORTED;case Mn.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Mn.DATA_LOSS:return L.DATA_LOSS;default:return A()}}(Fn=Mn||(Mn={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";var Gn=function(){function e(t,n){Object(f.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Object(h.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=g(n);try{for(i.s();!(r=i.n()).done;){var o=Object(a.a)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ae(this.inner,function(t,n){var r,i=g(n);try{for(i.s();!(r=i.n()).done;){var o=Object(a.a)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}})}},{key:"isEmpty",value:function(){return Ne(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Wn=new Pe(re.comparator);function Kn(){return Wn}var Hn=new Pe(re.comparator);function Qn(){for(var e=Hn,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function $n(e){var t=Hn;return e.forEach(function(e,n){return t=t.insert(e,n.overlayedDocument)}),t}function Yn(){return Xn()}function Jn(){return Xn()}function Xn(){return new Gn(function(e){return e.toString()},function(e,t){return e.isEqual(t)})}var Zn=new Pe(re.comparator),er=new De(re.comparator);function tr(){for(var e=er,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var nr=new De(Q);function rr(){return nr}var ir=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Object(h.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ar.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(X.min(),r,rr(),Kn(),tr())}}]),e}(),ar=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Object(h.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Be.EMPTY_BYTE_STRING,n,tr(),tr(),tr())}}]),e}(),or=function e(t,n,r,i){Object(f.a)(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i},ur=function e(t,n){Object(f.a)(this,e),this.targetId=t,this.It=n},sr=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Be.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(f.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},cr=function(){function e(){Object(f.a)(this,e),this.Tt=0,this.Et=hr(),this.At=Be.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Object(h.a)(e,[{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=tr(),t=tr(),n=tr();return this.Et.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:A()}}),new ar(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=hr()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}},{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}}]),e}(),lr=function(){function e(t){Object(f.a)(this,e),this.Mt=t,this.Ft=new Map,this.$t=Kn(),this.Bt=fr(),this.Lt=new De(Q)}return Object(h.a)(e,[{key:"Ut",value:function(e){var t,n=g(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=g(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:A()}})}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach(function(e,r){n.jt(r)&&t(r)})}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Et(i))if(0===n){var a=new re(i.path);this.Kt(t,a,wt.newNoDocument(a,X.min()))}else N(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach(function(r,i){var a=t.Ht(i);if(a){if(r.current&&Et(a.target)){var o=new re(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,wt.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}});var r=tr();this.Bt.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))}),this.$t.forEach(function(t,n){return n.setReadTime(e)});var i=new ir(e,n,this.Lt,this.$t,r);return this.$t=Kn(),this.Bt=fr(),this.Lt=new De(Q),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new cr,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new De(Q),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new cr),this.Mt.getRemoteKeysForTarget(e).forEach(function(n){t.Kt(e,n,null)})}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function fr(){return new Pe(re.comparator)}function hr(){return new Pe(re.comparator)}var dr={asc:"ASCENDING",desc:"DESCENDING"},pr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vr=function e(t,n){Object(f.a)(this,e),this.databaseId=t,this.dt=n};function yr(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function mr(e,t){return e.dt?t.toBase64():t.toUint8Array()}function gr(e,t){return yr(e,t.toTimestamp())}function br(e){return N(!!e),X.fromTimestamp(function(e){var t=qe(e);return new J(t.seconds,t.nanos)}(e))}function kr(e,t){return function(e){return new ee(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function wr(e){var t=ee.fromString(e);return N(qr(t)),t}function _r(e,t){return kr(e.databaseId,t.path)}function Or(e,t){var n=wr(t);if(n.get(1)!==e.databaseId.projectId)throw new D(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new D(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new re(Sr(n))}function xr(e,t){return kr(e.databaseId,t)}function jr(e){var t=wr(e);return 4===t.length?ee.emptyPath():Sr(t)}function Er(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sr(e){return N(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Tr(e,t,n){return{name:_r(e,t),fields:n.value.mapValue.fields}}function Ir(e,t,n){var r=Or(e,t.name),i=br(t.updateTime),a=new bt({mapValue:{fields:t.fields}}),o=wt.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Cr(e,t){return"found"in t?function(e,t){N(!!t.found),t.found.name,t.found.updateTime;var n=Or(e,t.found.name),r=br(t.found.updateTime),i=new bt({mapValue:{fields:t.found.fields}});return wt.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){N(!!t.missing),N(!!t.readTime);var n=Or(e,t.missing),r=br(t.readTime);return wt.newNoDocument(n,r)}(e,t):A()}function Ar(e,t){var n;if(t instanceof Nn)n={update:Tr(e,t.key,t.value)};else if(t instanceof Un)n={delete:_r(e,t.key)};else if(t instanceof Pn)n={update:Tr(e,t.key,t.data),updateMask:zr(t.fieldMask)};else{if(!(t instanceof Vn))return A();n={verify:_r(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof pn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bn)return{fieldPath:t.field.canonicalString(),increment:n._t};throw A()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:A()}(e,t.precondition)),n}function Nr(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?xn.updateTime(br(e.updateTime)):void 0!==e.exists?xn.exists(e.exists):xn.none()}(t.currentDocument):xn.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;if("setToServerValue"in t)N("REQUEST_TIME"===t.setToServerValue),n=new pn;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new vn(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new mn(i)}else"increment"in t?n=new bn(e,t.increment):A();var a=ne.fromServerFormat(t.fieldPath);return new _n(a,n)}(e,t)}):[];if(t.update){t.update.name;var i=Or(e,t.update.name),a=new bt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ue(t.map(function(e){return ne.fromServerFormat(e)}))}(t.updateMask);return new Pn(i,a,o,n,r)}return new Nn(i,a,n,r)}if(t.delete){var u=Or(e,t.delete);return new Un(u,n)}if(t.verify){var s=Or(e,t.verify);return new Vn(s,n)}return A()}function Pr(e,t){return{documents:[xr(e,t.path)]}}function Rr(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=xr(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=xr(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(ft(e.value))return{unaryFilter:{field:Fr(e.field),op:"IS_NAN"}};if(lt(e.value))return{unaryFilter:{field:Fr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ft(e.value))return{unaryFilter:{field:Fr(e.field),op:"IS_NOT_NAN"}};if(lt(e.value))return{unaryFilter:{field:Fr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fr(e.field),op:Mr(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:Fr(e.field),direction:Dr(e.dir)}}(e)})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||Ye(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Lr(e){var t=jr(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){N(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function e(t){return t?void 0!==t.unaryFilter?[Br(t)]:void 0!==t.fieldFilter?[Vr(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(e,t){return e.concat(t)}):A():[]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(e){return function(e){return new Vt(Ur(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var s=null;n.limit&&(s=function(e){var t;return Ye(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ut(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ut(n,t)}(n.endAt)),Wt(t,i,u,o,s,"F",c,l)}function Dr(e){return dr[e]}function Mr(e){return pr[e]}function Fr(e){return{fieldPath:e.canonicalString()}}function Ur(e){return ne.fromServerFormat(e.fieldPath)}function Vr(e){return Ct.create(Ur(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return A()}}(e.fieldFilter.op),e.fieldFilter.value)}function Br(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ur(e.unaryFilter.field);return Ct.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ur(e.unaryFilter.field);return Ct.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ur(e.unaryFilter.field);return Ct.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ur(e.unaryFilter.field);return Ct.create(i,"!=",{nullValue:"NULL_VALUE"});default:return A()}}function zr(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function qr(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Gr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Kr(t)),t=Wr(e.get(n),t);return Kr(t)}function Wr(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Kr(e){return e+"\x01\x01"}function Hr(e){var t=e.length;if(N(t>=2),2===t)return N("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ee.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&A(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:A()}a=o+2}return new ee(r)}var Qr=["userId","batchId"];function $r(e,t){return[e,Gr(t)]}function Yr(e,t,n){return[e,Gr(t),n]}var Jr={},Xr=["prefixPath","collectionGroup","readTime","documentId"],Zr=["prefixPath","collectionGroup","documentId"],ei=["collectionGroup","readTime","prefixPath","documentId"],ti=["canonicalId","targetId"],ni=["targetId","path"],ri=["path","targetId"],ii=["collectionId","parent"],ai=["indexId","uid"],oi=["uid","sequenceNumber"],ui=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],si=["indexId","uid","orderedDocumentKey"],ci=["userId","collectionPath","documentId"],li=["userId","collectionPath","largestBatchId"],fi=["userId","collectionGroup","largestBatchId"],hi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),di=[].concat(Object(l.a)(hi),["documentOverlays"]),pi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vi=pi,yi=[].concat(vi,["indexConfiguration","indexState","indexEntries"]),mi=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this))).ee=e,r.currentSequenceNumber=n,r}return Object(c.a)(t,e),t}(pe);function gi(e,t){var n=R(e);return be.N(n.ee,t)}var bi=function(){function e(t,n,r,i){Object(f.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(h.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Tn(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=g(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=In(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=g(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=In(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Jn();return this.mutations.forEach(function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Sn(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}},{key:"keys",value:function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},tr())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations,function(e,t){return An(e,t)})&&$(this.baseMutations,e.baseMutations,function(e,t){return An(e,t)})}}]),e}(),ki=function(){function e(t,n,r,i){Object(f.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Object(h.a)(e,null,[{key:"from",value:function(t,n,r){N(t.mutations.length===r.length);for(var i=Zn,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),wi=function(){function e(t,n){Object(f.a)(this,e),this.largestBatchId=t,this.mutation=n}return Object(h.a)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),_i=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:X.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Be.EMPTY_BYTE_STRING;Object(f.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Object(h.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Oi=function e(t){Object(f.a)(this,e),this.ne=t};function xi(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ji(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:_r(e,t.key),fields:t.data.value.mapValue.fields,updateTime:yr(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ei(t.version)};else{if(!t.isUnknownDocument())return A();r.unknownDocument={path:n.path.toArray(),version:Ei(t.version)}}return r}function ji(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ei(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Si(e){var t=new J(e.seconds,e.nanoseconds);return X.fromTimestamp(t)}function Ti(e,t){for(var n=(t.baseMutations||[]).map(function(t){return Nr(e.ne,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map(function(t){return Nr(e.ne,t)}),u=J.fromMillis(t.localWriteTimeMs);return new bi(t.batchId,u,n,o)}function Ii(e){var t,n,r=Si(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Si(e.lastLimboFreeSnapshotVersion):X.min();return void 0!==e.query.documents?(N(1===(n=e.query).documents.length),t=Jt(Kt(jr(n.documents[0])))):t=function(e){return Jt(Lr(e))}(e.query),new _i(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Be.fromBase64String(e.resumeToken))}function Ci(e,t){var n,r=Ei(t.snapshotVersion),i=Ei(t.lastLimboFreeSnapshotVersion);n=Et(t.target)?Pr(e.ne,t.target):Rr(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xt(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ai(e){var t=Lr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Xt(t,t.limit,"L"):t}function Ni(e,t){return new wi(t.largestBatchId,Nr(e.ne,t.overlayMutation))}function Pi(e,t){var n=t.path.lastSegment();return[e,Gr(t.path.popLast()),n]}function Ri(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Ei(r.readTime),documentKey:Gr(r.documentKey.path),largestBatchId:r.largestBatchId}}var Li=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Di(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:Si(t.createTime),version:t.version};var t})}},{key:"saveBundleMetadata",value:function(e,t){return Di(e).put({bundleId:(n=t).id,createTime:Ei(br(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Mi(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:Ai(t.bundledQuery),readTime:Si(t.readTime)};var t})}},{key:"saveNamedQuery",value:function(e,t){return Mi(e).put(function(e){return{name:e.name,readTime:Ei(br(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Di(e){return gi(e,"bundles")}function Mi(e){return gi(e,"namedQueries")}var Fi=function(){function e(t,n){Object(f.a)(this,e),this.wt=t,this.userId=n}return Object(h.a)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Ui(e).get(Pi(this.userId,t)).next(function(e){return e?Ni(n.wt,e):null})}},{key:"getOverlays",value:function(e,t){var n=this,r=Yn();return me.forEach(t,function(t){return n.getOverlay(e,t).next(function(e){null!==e&&r.set(t,e)})}).next(function(){return r})}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach(function(n,a){var o=new wi(t,a);i.push(r.ie(e,o))}),me.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach(function(e){return i.add(Gr(e.getCollectionPath()))});var a=[];return i.forEach(function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Ui(e).W("collectionPathOverlayIndex",i))}),me.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Yn(),a=Gr(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ui(e).K("collectionPathOverlayIndex",o).next(function(e){var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ni(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i})}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Yn(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ui(e).J({index:"collectionGroupOverlayIndex",range:u},function(e,t,n){var u=Ni(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()}).next(function(){return o})}},{key:"ie",value:function(e,t){return Ui(e).put(function(e,t,n){var r=Pi(t,n.mutation.key),i=Object(a.a)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ar(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Ui(e){return gi(e,"documentOverlays")}var Vi=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Ge(e.integerValue));else if("doubleValue"in e){var n=Ge(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Je(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(We(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?pt(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):A()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=g(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),re.fromName(e).path.forEach(function(e){n.ce(t,60),n.ge(e,t)})}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Bi(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function zi(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Bi(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Vi.ye=new Vi;var qi=function(){function e(){Object(f.a)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Object(h.a)(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=g(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=zi(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=zi(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Gi=function(){function e(t){Object(f.a)(this,e),this.Me=t}return Object(h.a)(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),Wi=function(){function e(t){Object(f.a)(this,e),this.Me=t}return Object(h.a)(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),Ki=function(){function e(){Object(f.a)(this,e),this.Me=new qi,this.Fe=new Gi(this.Me),this.$e=new Wi(this.Me)}return Object(h.a)(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),Hi=function(){function e(t,n,r,i){Object(f.a)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Object(h.a)(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Qi(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=$i(e.arrayValue,t.arrayValue))?n:0!==(n=$i(e.directionalValue,t.directionalValue))?n:re.comparator(e.documentKey,t.documentKey)}function $i(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Yi=function(){function e(t){Object(f.a)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=g(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Object(h.a)(e,[{key:"Ge",value:function(e){var t=ae(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=oe(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=g(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Ji=function(){function e(){Object(f.a)(this,e),this.ze=new Xi}return Object(h.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),me.resolve()}},{key:"getCollectionParents",value:function(e,t){return me.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return me.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return me.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return me.resolve(null)}},{key:"getIndexType",value:function(e,t){return me.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return me.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return me.resolve(null)}},{key:"getMinOffset",value:function(e,t){return me.resolve(fe.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return me.resolve(fe.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return me.resolve()}},{key:"updateIndexEntries",value:function(e,t){return me.resolve()}}]),e}(),Xi=function(){function e(){Object(f.a)(this,e),this.index={}}return Object(h.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new De(ee.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new De(ee.comparator)).toArray()}}]),e}(),Zi=new Uint8Array(0),ea=function(){function e(t,n){Object(f.a)(this,e),this.user=t,this.databaseId=n,this.He=new Xi,this.Je=new Gn(function(e){return xt(e)},function(e,t){return jt(e,t)}),this.uid=t.uid||""}return Object(h.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.He.add(t)});var a={collectionId:r,parent:Gr(i)};return ta(e).put(a)}return me.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Y(t),""],!1,!0);return ta(e).K(r).next(function(e){var r,i=g(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Hr(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n})}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ra(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(function(e){return[e.fieldPath.canonicalString(),e.kind]})}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ia(e);return a.next(function(e){o.put(Ri(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ra(e),r=ia(e),i=na(e);return n.delete(t.indexId).next(function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}).next(function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=na(e),i=!0,a=new Map;return me.forEach(this.Ye(t),function(t){return n.Xe(e,t).next(function(e){i&&(i=!!e),a.set(t,e)})}).next(function(){if(i){var e=tr(),o=[];return me.forEach(a,function(i,a){var u;S("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map(function(e){return"".concat(e.fieldPath,":").concat(e.kind)}).join(",")))," to execute ").concat(xt(t)));var s=function(e,t){var n=ae(i);if(void 0===n)return null;var r,a=g(St(e,n.fieldPath));try{for(a.s();!(r=a.n()).done;){var o=r.value;switch(o.op){case"array-contains-any":return o.value.arrayValue.values||[];case"array-contains":return[o.value]}}}catch(u){a.e(u)}finally{a.f()}return null}(a),c=function(e,t){var n,r=new Map,i=g(oe(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=g(St(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],a=!0,o=g(oe(i));try{for(o.s();!(n=o.n()).done;){var u=n.value,s=0===u.kind?Tt(e,u.fieldPath,e.startAt):It(e,u.fieldPath,e.startAt);r.push(s.value),a&&(a=s.inclusive)}}catch(c){o.e(c)}finally{o.f()}return new Ut(r,a)}(a),f=function(e,t){var n,r=[],a=!0,o=g(oe(i));try{for(o.s();!(n=o.n()).done;){var u=n.value,s=0===u.kind?It(e,u.fieldPath,e.endAt):Tt(e,u.fieldPath,e.endAt);r.push(s.value),a&&(a=s.inclusive)}}catch(c){o.e(c)}finally{o.f()}return new Ut(r,a)}(a),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return me.forEach(v,function(n){return r.j(n,t.limit).next(function(t){t.forEach(function(t){var n=re.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))})})})}).next(function(){return o})}return me.resolve(null)})}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),f=[],h=function(s){var h=t?u.nn(t[s/c]):Zi,d=u.sn(e,h,n[s%c],r),p=u.rn(e,h,i[s%c],a),v=o.map(function(t){return u.sn(e,h,t,!0)});f.push.apply(f,Object(l.a)(u.createRange(d,p,v)))},d=0;d<s;++d)h(d);return f}},{key:"sn",value:function(e,t,n,r){var i=new Hi(e,re.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new Hi(e,re.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new Yi(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(function(e){var t,r=null,i=g(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r})}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return me.forEach(this.Ye(t),function(t){return n.Xe(e,t).next(function(e){e?0!==r&&e.fields.length<function(e){var t,n=new De(ne.comparator),r=!1,i=g(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=g(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0})}).next(function(){return r})}},{key:"on",value:function(e,t){var n,r=new Ki,i=g(oe(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);Vi.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new Ki;return Vi.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new Ki;return Vi.ye.re(ut(this.databaseId,t),n.Be(function(e){var t=oe(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ki);var i,a=0,o=g(oe(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=g(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&ct(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);Vi.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=Object(l.a)(e),a=[],o=g(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=g(i);try{for(c.s();!(u=c.n()).done;){var f=u.value,h=new Ki;h.seed(f.Oe()),Vi.ye.re(s,h.Be(t.kind)),a.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find(function(e){return e instanceof Ct&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)})}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ra(e),i=ia(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(function(e){var t=[];return me.forEach(e,function(e){return i.get([e.indexId,n.uid]).next(function(n){t.push(function(e,t){var n=t?new se(t.sequenceNumber,new fe(Si(t.readTime),new re(Hr(t.documentKey)),t.largestBatchId)):se.empty(),r=e.fields.map(function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return new ue(ne.fromServerFormat(n),r)});return new ie(e.indexId,e.collectionGroup,r,n)}(e,n))})}).next(function(){return t})})}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next(function(e){return 0===e.length?null:(e.sort(function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Q(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup)})}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ra(e),a=ia(e);return this.ln(e).next(function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(function(t){return me.forEach(t,function(t){return a.put(Ri(t.indexId,r.user,e,n))})})})}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return me.forEach(t,function(t,i){var a=r.get(t.collectionGroup);return(a?me.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next(function(a){return r.set(t.collectionGroup,a),me.forEach(a,function(r){return n.fn(e,t,r).next(function(t){var a=n.dn(i,r);return t.isEqual(a)?me.resolve():n._n(e,i,r,t,a)})})})})}},{key:"wn",value:function(e,t,n,r){return na(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return na(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=na(e),i=new De(Qi);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},function(e,r){i=i.add(new Hi(n.indexId,t,r.arrayValue,r.directionalValue))}).next(function(){return i})}},{key:"dn",value:function(e,t){var n=new De(Qi),r=this.on(t,e);if(null==r)return n;var i=ae(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ct(a)){var o,u=g(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Hi(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Hi(t.indexId,e.key,Zi,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;S("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Fe(a),s=Fe(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Fe(o)):l?(i(u),u=Fe(a)):(u=Fe(a),s=Fe(o))}}(r,i,Qi,function(r){o.push(a.wn(e,t,n,r))},function(r){o.push(a.mn(e,t,n,r))}),me.waitFor(o)}},{key:"ln",value:function(e){var t=1;return ia(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},function(e,n,r){r.done(),t=n.sequenceNumber+1}).next(function(){return t})}},{key:"createRange",value:function(e,t,n){n=n.sort(function(e,t){return Qi(e,t)}).filter(function(e,t,n){return!t||0!==Qi(e,n[t-1])});var r=[];r.push(e);var i,a=g(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Qi(o,e),s=Qi(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Zi,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Zi,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(aa)}},{key:"getMinOffset",value:function(e,t){var n=this;return me.mapArray(this.Ye(t),function(t){return n.Xe(e,t).next(function(e){return e||A()})}).next(aa)}}]),e}();function ta(e){return gi(e,"collectionParents")}function na(e){return gi(e,"indexEntries")}function ra(e){return gi(e,"indexConfiguration")}function ia(e){return gi(e,"indexState")}function aa(e){N(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;he(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new fe(t.readTime,t.documentKey,n)}var oa={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ua=function(){function e(t,n,r){Object(f.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(h.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function sa(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},function(e,t,n){return u++,n.delete()});a.push(s.next(function(){N(1===u)}));var c,l=[],f=g(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Yr(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return me.waitFor(a).next(function(){return l})}function ca(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw A();t=e.noDocument}return JSON.stringify(t).length}ua.DEFAULT_COLLECTION_PERCENTILE=10,ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ua.DEFAULT=new ua(41943040,ua.DEFAULT_COLLECTION_PERCENTILE,ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ua.DISABLED=new ua(-1,0,0);var la=function(){function e(t,n,r,i){Object(f.a)(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return Object(h.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ha(e).J({index:"userMutationsIndex",range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=da(e),o=ha(e);return o.add({}).next(function(u){N("number"==typeof u);var s,c=new bi(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map(function(t){return Ar(e.ne,t)}),i=n.mutations.map(function(t){return Ar(e.ne,t)});return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new De(function(e,t){return Q(e.canonicalString(),t.canonicalString())}),d=g(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Yr(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Jr))}}catch(y){d.e(y)}finally{d.f()}return h.forEach(function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.gn[u]=c.keys()}),me.waitFor(f).next(function(){return c})})}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ha(e).get(t).next(function(e){return e?(N(e.userId===n.userId),Ti(n.wt,e)):null})}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?me.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null})}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ha(e).J({index:"userMutationsIndex",range:i},function(e,t,i){t.userId===n.userId&&(N(t.batchId>=r),a=Ti(n.wt,t)),i.done()}).next(function(){return a})}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ha(e).J({index:"userMutationsIndex",range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ha(e).K("userMutationsIndex",n).next(function(e){return e.map(function(e){return Ti(t.wt,e)})})}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=$r(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return da(e).J({range:i},function(r,i,u){var s=Object(a.a)(r,3),c=s[0],l=s[1],f=s[2],h=Hr(l);if(c===n.userId&&t.path.isEqual(h))return ha(e).get(f).next(function(e){if(!e)throw A();N(e.userId===n.userId),o.push(Ti(n.wt,e))});u.done()}).next(function(){return o})}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new De(Q),i=[];return t.forEach(function(t){var o=$r(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=da(e).J({range:u},function(e,i,o){var u=Object(a.a)(e,3),s=u[0],c=u[1],l=u[2],f=Hr(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()});i.push(s)}),me.waitFor(i).next(function(){return n.pn(e,r)})}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=$r(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new De(Q);return da(e).J({range:u},function(e,t,o){var u=Object(a.a)(e,3),c=u[0],l=u[1],f=u[2],h=Hr(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()}).next(function(){return n.pn(e,s)})}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(ha(e).get(t).next(function(e){if(null===e)throw A();N(e.userId===n.userId),r.push(Ti(n.wt,e))}))}),me.waitFor(i).next(function(){return r})}},{key:"removeMutationBatch",value:function(e,t){var n=this;return sa(e.ee,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.In(t.batchId)}),me.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return me.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return da(e).J({range:r},function(e,n,r){if(e[0]===t.userId){var a=Hr(e[1]);i.push(a)}else r.done()}).next(function(){N(0===i.length)})})}},{key:"containsKey",value:function(e,t){return fa(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return pa(e).get(this.userId).next(function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}})}}],[{key:"se",value:function(t,n,r,i){return N(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function fa(e,t,n){var r=$r(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return da(e).J({range:o,H:!0},function(e,n,r){var o=Object(a.a)(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()}).next(function(){return u})}function ha(e){return gi(e,"mutations")}function da(e){return gi(e,"documentMutations")}function pa(e){return gi(e,"mutationQueues")}var va=function(){function e(t){Object(f.a)(this,e),this.En=t}return Object(h.a)(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),ya=function(){function e(t,n){Object(f.a)(this,e),this.referenceDelegate=t,this.wt=n}return Object(h.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next(function(n){var r=new va(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next(function(){return n.highestTargetId})})}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next(function(e){return X.fromTimestamp(new J(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next(function(e){return e.highestListenSequenceNumber})}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)})}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next(function(){return n.bn(e).next(function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)})})}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return ma(e).delete(t.targetId)}).next(function(){return n.bn(e)}).next(function(t){return N(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)})}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ma(e).J(function(o,u){var s=Ii(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))}).next(function(){return me.waitFor(a)}).next(function(){return i})}},{key:"forEachTarget",value:function(e,t){return ma(e).J(function(e,n){var r=Ii(n);t(r)})}},{key:"bn",value:function(e){return ga(e).get("targetGlobalKey").next(function(e){return N(null!==e),e})}},{key:"Pn",value:function(e,t){return ga(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return ma(e).put(Ci(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next(function(e){return e.targetCount})}},{key:"getTargetData",value:function(e,t){var n=xt(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ma(e).J({range:r,index:"queryTargetsIndex"},function(e,n,r){var a=Ii(n);jt(t,a.target)&&(i=a,r.done())}).next(function(){return i})}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ba(e);return t.forEach(function(t){var o=Gr(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))}),me.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ba(e);return me.forEach(t,function(t){var a=Gr(t.path);return me.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])})}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ba(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ba(e),i=tr();return r.J({range:n,H:!0},function(e,t,n){var r=Hr(e[1]),a=new re(r);i=i.add(a)}).next(function(){return i})}},{key:"containsKey",value:function(e,t){var n=Gr(t.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return ba(e).J({index:"documentTargetsIndex",H:!0,range:r},function(e,t,n){var r=Object(a.a)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())}).next(function(){return i>0})}},{key:"te",value:function(e,t){return ma(e).get(t).next(function(e){return e?Ii(e):null})}}]),e}();function ma(e){return gi(e,"targets")}function ga(e){return gi(e,"targetGlobal")}function ba(e){return gi(e,"targetDocuments")}function ka(e,t){var n=Object(a.a)(e,2),r=n[0],i=n[1],o=Object(a.a)(t,2),u=o[0],s=o[1],c=Q(r,u);return 0===c?Q(i,s):c}var wa=function(){function e(t){Object(f.a)(this,e),this.Sn=t,this.buffer=new De(ka),this.Dn=0}return Object(h.a)(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ka(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),_a=function(){function e(t,n,r){Object(f.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return Object(h.a)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"kn",value:function(e){var t=this;S("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!_e(e.t0)){e.next=12;break}S("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ve(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}},e,null,[[1,6]])})))}},{key:"started",get:function(){return null!==this.Nn}}]),e}(),Oa=function(){function e(t,n){Object(f.a)(this,e),this.On=t,this.params=n}return Object(h.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next(function(e){return Math.floor(t/100*e)})}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return me.resolve(Ie.ot);var r=new wa(t);return this.On.forEachTarget(e,function(e){return r.xn(e.sequenceNumber)}).next(function(){return n.On.Fn(e,function(e){return r.xn(e)})}).next(function(){return r.maxValue})}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(oa)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),oa):n.$n(e,t)})}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(S("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return s=Date.now(),j()<=v.a.DEBUG&&S("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),me.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})}}]),e}(),xa=function(){function e(t,n){Object(f.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new Oa(e,t)}(this,n)}return Object(h.a)(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,function(e){t++}).next(function(){return t})}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,function(e,n){return t(n)})}},{key:"addReference",value:function(e,t,n){return ja(e,n)}},{key:"removeReference",value:function(e,t,n){return ja(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ja(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return pa(e).Y(function(r){return fa(e,r,t).next(function(e){return e&&(n=!0),me.resolve(!e)})}).next(function(){return n})}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,function(o,u){if(u<=t){var s=n.Un(e,o).next(function(t){if(!t)return a++,r.getEntry(e,o).next(function(){return r.removeEntry(o,X.min()),ba(e).delete([0,Gr(o.path)])})});i.push(s)}}).next(function(){return me.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return a})}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ja(e,t)}},{key:"Ln",value:function(e,t){var n,r=ba(e),i=Ie.ot;return r.J({index:"documentTargetsIndex"},function(e,r){var o=Object(a.a)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==Ie.ot&&t(new re(Hr(n)),i),i=c,n=s):i=Ie.ot}).next(function(){i!==Ie.ot&&t(new re(Hr(n)),i)})}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ja(e,t){return ba(e).put(function(e,t){return{targetId:0,path:Gr(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ea=function(){function e(){Object(f.a)(this,e),this.changes=new Gn(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return Object(h.a)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?me.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Sa=function(){function e(t){Object(f.a)(this,e),this.wt=t}return Object(h.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Aa(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Aa(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ji(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.qn(e,r)})}},{key:"getEntry",value:function(e,t){var n=this,r=wt.newInvalidDocument(t);return Aa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Na(t))},function(e,i){r=n.Kn(t,i)}).next(function(){return r})}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:wt.newInvalidDocument(t)};return Aa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Na(t))},function(e,i){r={document:n.Kn(t,i),size:ca(i)}}).next(function(){return r})}},{key:"getEntries",value:function(e,t){var n=this,r=Kn();return this.Qn(e,t,function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)}).next(function(){return r})}},{key:"jn",value:function(e,t){var n=this,r=Kn(),i=new Pe(re.comparator);return this.Qn(e,t,function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,ca(t))}).next(function(){return{documents:r,Wn:i}})}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return me.resolve();var r=new De(Ra);t.forEach(function(e){return r=r.add(e)});var i=IDBKeyRange.bound(Na(r.first()),Na(r.last())),a=r.getIterator(),o=a.getNext();return Aa(e).J({index:"documentKeyIndex",range:i},function(e,t,r){for(var i=re.fromSegments([].concat(Object(l.a)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Ra(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(Na(o)):r.done()}).next(function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),ji(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Aa(e).K(IDBKeyRange.bound(i,a,!0)).next(function(e){var t,n=Kn(),i=g(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(re.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n})}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Kn(),o=Pa(t,n),u=Pa(t,fe.max());return Aa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},function(e,t,n){var o=i.Kn(re.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()}).next(function(){return a})}},{key:"newChangeBuffer",value:function(e){return new Ia(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next(function(e){return e.byteSize})}},{key:"getMetadata",value:function(e){return Ca(e).get("remoteDocumentGlobalKey").next(function(e){return N(!!e),e})}},{key:"qn",value:function(e,t){return Ca(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Ir(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=re.fromSegments(t.noDocument.path),i=Si(t.noDocument.readTime);n=wt.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return A();var a=re.fromSegments(t.unknownDocument.path),o=Si(t.unknownDocument.version);n=wt.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new J(e[0],e[1]);return X.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(X.min()))return n}return wt.newInvalidDocument(e)}}]),e}();function Ta(e){return new Sa(e)}var Ia=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this))).zn=e,r.trackRemovals=n,r.Hn=new Gn(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new De(function(e,t){return Q(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=xi(t.zn.wt,o);i=i.add(a.path.popLast());var c=ca(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=xi(t.zn.wt,o.convertToNoDocument(X.min()));n.push(t.zn.addEntry(e,a,l))}}),i.forEach(function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))}),n.push(this.zn.updateMetadata(e,r)),me.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next(function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document})}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next(function(e){var t=e.documents;return e.Wn.forEach(function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})}),t})}}]),t}(Ea);function Ca(e){return gi(e,"remoteDocumentGlobal")}function Aa(e){return gi(e,"remoteDocumentsV14")}function Na(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Pa(e,t){var n=t.documentKey.path.toArray();return[e,ji(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ra(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Q(n[a],r[a]))return i;return(i=Q(n.length,r.length))||((i=Q(n[n.length-2],r[r.length-2]))||Q(n[n.length-1],r[r.length-1]))}var La=function e(t,n){Object(f.a)(this,e),this.overlayedDocument=t,this.mutatedFields=n},Da=function(){function e(t,n,r,i){Object(f.a)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Object(h.a)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next(function(i){return r=i,n.getBaseDocument(e,t,r)}).next(function(e){return null!==r&&In(r.mutation,e,Ue.empty(),J.now()),e})}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t,tr()).next(function(){return t})})}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr(),i=Yn();return this.populateOverlays(e,i,t).next(function(){return n.computeViews(e,t,i,r).next(function(e){var t=Qn();return e.forEach(function(e,n){t=t.insert(e,n.overlayedDocument)}),t})})}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Yn();return this.populateOverlays(e,r,t).next(function(){return n.computeViews(e,t,r,tr())})}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach(function(e){t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(function(e){e.forEach(function(e,n){t.set(e,n)})})}},{key:"computeViews",value:function(e,t,n,r){var i=Kn(),a=Xn(),o=Xn();return t.forEach(function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Pn)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),In(o.mutation,t,o.mutation.getFieldMask(),J.now()))}),this.recalculateAndSaveOverlays(e,i).next(function(e){return e.forEach(function(e,t){return a.set(e,t)}),t.forEach(function(e,t){var n;return o.set(e,new La(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o})}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Xn(),i=new Pe(function(e,t){return e-t}),a=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){var n,a=g(e);try{var o=function(){var e=n.value;e.keys().forEach(function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ue.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||tr()).add(n);i=i.insert(e.batchId,u)}})};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}}).next(function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Jn();c.forEach(function(e){if(!a.has(e)){var n=Sn(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}}),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return me.waitFor(o)}).next(function(){return r})}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.recalculateAndSaveOverlays(e,t)})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return re.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$t(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):me.resolve(Yn()),u=-1,s=a;return o.next(function(t){return me.forEach(t,function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?me.resolve():i.getBaseDocument(e,t,n).next(function(e){s=s.insert(t,e)})}).next(function(){return i.populateOverlays(e,t,a)}).next(function(){return i.computeViews(e,s,t,tr())}).next(function(e){return{batchId:u,changes:$n(e)}})})})}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new re(t)).next(function(e){var t=Qn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Qn();return this.indexManager.getCollectionParents(e,i).next(function(o){return me.forEach(o,function(o){var u=function(e,t){return new Gt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next(function(e){e.forEach(function(e,t){a=a.insert(e,t)})})}).next(function(){return a})})}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next(function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)}).next(function(e){e.forEach(function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,wt.newInvalidDocument(n)))});var n=Qn();return r.forEach(function(r,i){var a=e.get(r);void 0!==a&&In(a.mutation,i,Ue.empty(),J.now()),nn(t,i)&&(n=n.insert(r,i))}),n})}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):me.resolve(wt.newInvalidDocument(t))}}]),e}(),Ma=function(){function e(t){Object(f.a)(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return Object(h.a)(e,[{key:"getBundleMetadata",value:function(e,t){return me.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:br(n.createTime)}),me.resolve()}},{key:"getNamedQuery",value:function(e,t){return me.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Ai(e.bundledQuery),readTime:br(e.readTime)}}(t)),me.resolve()}}]),e}(),Fa=function(){function e(){Object(f.a)(this,e),this.overlays=new Pe(re.comparator),this.Xn=new Map}return Object(h.a)(e,[{key:"getOverlay",value:function(e,t){return me.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Yn();return me.forEach(t,function(t){return n.getOverlay(e,t).next(function(e){null!==e&&r.set(t,e)})}).next(function(){return r})}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach(function(n,i){r.ie(e,t,i)}),me.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach(function(e){return r.overlays=r.overlays.remove(e)}),this.Xn.delete(n)),me.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Yn(),i=t.length+1,a=new re(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return me.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Pe(function(e,t){return e-t}),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Yn(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Yn(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach(function(e,t){return s.set(e,t)}),!(s.size()>=r)););return me.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new wi(t,n));var a=this.Xn.get(t);void 0===a&&(a=tr(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),Ua=function(){function e(){Object(f.a)(this,e),this.Zn=new De(Va.ts),this.es=new De(Va.ns)}return Object(h.a)(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Va(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})}},{key:"removeReference",value:function(e,t){this.rs(new Va(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})}},{key:"us",value:function(e){var t=this,n=new re(new ee([])),r=new Va(n,e),i=new Va(n,e+1),a=[];return this.es.forEachInRange([r,i],function(e){t.rs(e),a.push(e.key)}),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach(function(t){return e.rs(t)})}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new re(new ee([])),n=new Va(t,e),r=new Va(t,e+1),i=tr();return this.es.forEachInRange([n,r],function(e){i=i.add(e.key)}),i}},{key:"containsKey",value:function(e){var t=new Va(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Va=function(){function e(t,n){Object(f.a)(this,e),this.key=t,this.ls=n}return Object(h.a)(e,null,[{key:"ts",value:function(e,t){return re.comparator(e.key,t.key)||Q(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Q(e.ls,t.ls)||re.comparator(e.key,t.key)}}]),e}(),Ba=function(){function e(t,n){Object(f.a)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new De(Va.ts)}return Object(h.a)(e,[{key:"checkEmpty",value:function(e){return me.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new bi(i,t,n,r);this.mutationQueue.push(a);var o,u=g(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new Va(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return me.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return me.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return me.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return me.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return me.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Va(t,0),i=new Va(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],function(e){var t=n._s(e.ls);a.push(t)}),me.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new De(Q);return t.forEach(function(e){var t=new Va(e,0),i=new Va(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],function(e){r=r.add(e.ls)})}),me.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;re.isDocumentKey(i)||(i=i.child(""));var a=new Va(new re(i),0),o=new De(Q);return this.ds.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},a),me.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t._s(e);null!==r&&n.push(r)}),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;N(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return me.forEach(t.mutations,function(i){var a=new Va(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.ds=r})}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Va(t,0),r=this.ds.firstAfterOrEqual(n);return me.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,me.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),za=function(){function e(t){Object(f.a)(this,e),this.ps=t,this.docs=new Pe(re.comparator),this.size=0}return Object(h.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return me.resolve(n?n.document.mutableCopy():wt.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Kn();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():wt.newInvalidDocument(e))}),me.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Kn(),i=new re(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||he(le(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return me.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){A()}},{key:"Is",value:function(e,t){return me.forEach(this.docs,function(e){return t(e)})}},{key:"newChangeBuffer",value:function(e){return new qa(this)}},{key:"getSize",value:function(e){return me.resolve(this.size)}}]),e}(),qa=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this))).zn=e,n}return Object(c.a)(t,e),Object(h.a)(t,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)}),me.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),t}(Ea),Ga=function(){function e(t){Object(f.a)(this,e),this.persistence=t,this.Ts=new Gn(function(e){return xt(e)},jt),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Es=0,this.As=new Ua,this.targetCount=0,this.Rs=va.An()}return Object(h.a)(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach(function(e,n){return t(n)}),me.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return me.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return me.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),me.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),me.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new va(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,me.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),me.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,me.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach(function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),me.waitFor(a).next(function(){return i})}},{key:"getTargetCount",value:function(e){return me.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return me.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),me.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),me.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),me.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return me.resolve(n)}},{key:"containsKey",value:function(e,t){return me.resolve(this.As.containsKey(t))}}]),e}(),Wa=function(){function e(t,n){var r=this;Object(f.a)(this,e),this.bs={},this.overlays={},this.Ps=new Ie(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Ga(this),this.indexManager=new Ji,this.remoteDocumentCache=new za(function(e){return r.referenceDelegate.Ss(e)}),this.wt=new Oi(n),this.Ds=new Ma(this.wt)}return Object(h.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Fa,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Ba(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;S("MemoryPersistence","Starting transaction:",e);var i=new Ka(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next(function(e){return r.referenceDelegate.xs(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})}},{key:"Ns",value:function(e,t){return me.or(Object.values(this.bs).map(function(n){return function(){return n.containsKey(e,t)}}))}},{key:"started",get:function(){return this.vs}}]),e}(),Ka=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this))).currentSequenceNumber=e,n}return Object(c.a)(t,e),t}(pe),Ha=function(){function e(t){Object(f.a)(this,e),this.persistence=t,this.ks=new Ua,this.Os=null}return Object(h.a)(e,[{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),me.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),me.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),me.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach(function(e){return n.Fs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.Fs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Fs,function(r){var i=re.fromPath(r);return t.$s(e,i).next(function(e){e||n.removeEntry(i,X.min())})}).next(function(){return t.Os=null,n.apply(e)})}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next(function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())})}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return me.or([function(){return me.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}},{key:"Fs",get:function(){if(this.Os)return this.Os;throw A()}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),Qa=function(){function e(t){Object(f.a)(this,e),this.wt=t}return Object(h.a)(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new ge("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qr,{unique:!0}),e.createObjectStore("documentMutations")}(e),$a(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=me.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),$a(e)),o=o.next(function(){return function(e){var t=a.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:X.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}()})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(e,t){return t.store("mutations").K().next(function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qr,{unique:!0});var r=t.store("mutations"),i=n.map(function(e){return r.put(e)});return me.waitFor(i)})}(e,a)})),o=o.next(function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(o=o.next(function(){return i.Bs(a)})),n<6&&r>=6&&(o=o.next(function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)})),n<7&&r>=7&&(o=o.next(function(){return i.Us(a)})),n<8&&r>=8&&(o=o.next(function(){return i.qs(e,a)})),n<9&&r>=9&&(o=o.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ks(a)})),n<11&&r>=11&&(o=o.next(function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ci});t.createIndex("collectionPathOverlayIndex",li,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",fi,{unique:!1})}(e)})),n<13&&r>=13&&(o=o.next(function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Xr});t.createIndex("documentKeyIndex",Zr),t.createIndex("collectionGroupIndex",ei)}(e)}).next(function(){return i.Gs(e,a)}).next(function(){return e.deleteObjectStore("remoteDocuments")})),n<14&&r>=14&&(o=o.next(function(){return i.Qs(e,a)})),n<15&&r>=15&&(o=o.next(function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ai}).createIndex("sequenceNumberIndex",oi,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ui}).createIndex("documentKeyIndex",si,{unique:!1})}(e)})),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J(function(e,n){t+=ca(n)}).next(function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next(function(n){return me.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next(function(r){return me.forEach(r,function(r){N(r.userId===n.userId);var i=Ti(t.wt,r);return sa(e,n.userId,i).next(function(){})})})})})}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(function(e){var r=[];return n.J(function(n,i){var a=new ee(n),o=[0,Gr(a)];r.push(t.get(o).next(function(n){return n?me.resolve():function(n){return t.put({targetId:0,path:Gr(n),sequenceNumber:e.highestListenSequenceNumber})}(a)}))}).next(function(){return me.waitFor(r)})})}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ii});var n=t.store("collectionParents"),r=new Xi,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Gr(i)})}};return t.store("remoteDocuments").J({H:!0},function(e,t){var n=new ee(e);return i(n.popLast())}).next(function(){return t.store("documentMutations").J({H:!0},function(e,t){var n=Object(a.a)(e,3),r=(n[0],n[1]),o=(n[2],Hr(r));return i(o.popLast())})})}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J(function(e,r){var i=Ii(r),a=Ci(t.wt,i);return n.put(a)})}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J(function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new re(ee.fromString(i.document.name).popFirst(5)):i.noDocument?re.fromSegments(i.noDocument.path):i.unknownDocument?re.fromSegments(i.unknownDocument.path):A()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))}).next(function(){return me.waitFor(r)})}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=Ta(this.wt),a=new Wa(Ha.Ms,this.wt.ne);return r.K().next(function(e){var r=new Map;return e.forEach(function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:tr();Ti(n.wt,e).keys().forEach(function(e){return i=i.add(e)}),r.set(e.userId,i)}),me.forEach(r,function(e,r){var o=new _(r),u=Fi.se(n.wt,o),s=a.getIndexManager(o),c=la.se(o,n.wt,s,a.referenceDelegate);return new Da(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new mi(t,Ie.ot),e).next()})})}}]),e}();function $a(e){e.createObjectStore("targetDocuments",{keyPath:ni}).createIndex("documentTargetsIndex",ri,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ti,{unique:!0}),e.createObjectStore("targetGlobal")}var Ya="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ja=function(){function e(t,n,r,i,a,o,u,s,c,l){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(Object(f.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=h,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new D(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xa(this,i),this.ei=n+"main",this.wt=new Oi(s),this.ni=new be(this.ei,this.Hs,new Qa(this.wt)),this.Vs=new ya(this.referenceDelegate,this.wt),this.remoteDocumentCache=Ta(this.wt),this.Ds=new Li,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&T("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Object(h.a)(e,[{key:"start",value:function(){var e=this;return this.ii().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new D(L.FAILED_PRECONDITION,Ya);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.Vs.getHighestSequenceNumber(t)})}).then(function(t){e.Ps=new Ie(t,e.Ws)}).then(function(){e.vs=!0}).catch(function(t){return e.ni&&e.ni.close(),Promise.reject(t)})}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Object(o.a)(k().mark(function n(r){return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Object(o.a)(k().mark(function t(n){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}},e)}))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return Za(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next(function(){if(e.isPrimary)return e.ai(t).next(function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable(function(){return e.ti(!1)}))})}).next(function(){return e.hi(t)}).next(function(n){return e.isPrimary&&!n?e.li(t).next(function(){return!1}):!!n&&e.fi(t).next(function(){return!0})})}).catch(function(t){if(_e(t))return S("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return S("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.js.enqueueRetryable(function(){return e.ti(t)}),e.isPrimary=t})}},{key:"ai",value:function(e){var t=this;return Xa(e).get("owner").next(function(e){return me.resolve(t.di(e))})}},{key:"_i",value:function(e){return Za(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n,r,i,a=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=gi(e,"clientMetadata");return t.K().next(function(e){var n=a.gi(e,18e5),r=e.filter(function(e){return-1===n.indexOf(e)});return me.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]});case 4:if(t=e.sent,this.si){n=g(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.ii().then(function(){return e.wi()}).then(function(){return e.ui()})})}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?me.resolve(!0):Xa(e).get("owner").next(function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new D(L.FAILED_PRECONDITION,Ya);return!1}}return!(!t.networkEnabled||!t.inForeground)||Za(e).K().next(function(e){return void 0===t.gi(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&S("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e})}},{key:"shutdown",value:function(){var e=Object(o.a)(k().mark(function e(){var t=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],function(e){var n=new mi(e,Ie.ot);return t.li(n).next(function(){return t._i(n)})});case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter(function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)})}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return Za(t).K().next(function(t){return e.gi(t,18e5).map(function(e){return e.clientId})})})}},{key:"getMutationQueue",value:function(e,t){return la.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ea(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Fi.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;S("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?yi:14===i?vi:13===i?pi:12===i?di:11===i?hi:void A();return this.ni.runTransaction(e,o,u,function(i){return a=new mi(i,r.Ps?r.Ps.next():Ie.ot),"readwrite-primary"===t?r.ai(a).next(function(e){return!!e||r.hi(a)}).next(function(t){if(!t)throw T("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable(function(){return r.ti(!1)}),new D(L.FAILED_PRECONDITION,de);return n(a)}).next(function(e){return r.fi(a).next(function(){return e})}):r.bi(a).next(function(){return n(a)})}).then(function(e){return a.raiseOnCommittedEvent(),e})}},{key:"bi",value:function(e){var t=this;return Xa(e).get("owner").next(function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new D(L.FAILED_PRECONDITION,Ya)})}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xa(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=Xa(e);return n.get("owner").next(function(e){return t.di(e)?(S("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):me.resolve()})}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(T("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()})},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),Object(y.I)()&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return S("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return T("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){T("Failed to set zombie client id.",e)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}},{key:"started",get:function(){return this.vs}}],[{key:"V",value:function(){return be.V()}}]),e}();function Xa(e){return gi(e,"owner")}function Za(e){return gi(e,"clientMetadata")}function eo(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var to=function(){function e(t,n,r,i){Object(f.a)(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return Object(h.a)(e,null,[{key:"Vi",value:function(t,n){var r,i=tr(),a=tr(),o=g(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),no=function(){function e(){Object(f.a)(this,e),this.Si=!1}return Object(h.a)(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next(function(a){return a||i.xi(e,t,r,n)}).next(function(n){return n||i.Ni(e,t)})}},{key:"Ci",value:function(e,t){return me.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(X.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next(function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(j()<=v.a.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tn(t)),i.Mi(e,o,t,ce(r,-1)))})}},{key:"ki",value:function(e,t){var n=new De(an(e));return t.forEach(function(t,r){nn(e,r)&&(n=n.add(r))}),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return j()<=v.a.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",tn(t)),this.Di.getDocumentsMatchingQuery(e,t,fe.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next(function(e){return t.forEach(function(t){e=e.insert(t.key,t)}),e})}}]),e}(),ro=function(){function e(t,n,r,i){Object(f.a)(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Pe(Q),this.Bi=new Gn(function(e){return xt(e)},jt),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return Object(h.a)(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Da(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.$i)})}}]),e}();function io(e,t,n,r){return new ro(e,t,n,r)}function ao(e,t){return oo.apply(this,arguments)}function oo(){return(oo=Object(o.a)(k().mark(function e(t,n){var r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next(function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)}).next(function(n){var i,a=[],o=[],u=tr(),s=g(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=g(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=g(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=g(v.mutations);try{for(m.s();!(y=m.n()).done;){var b=y.value;u=u.add(b.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next(function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}})})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function uo(e,t){var n=R(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=me.resolve();return a.forEach(function(e){o=o.next(function(){return r.getEntry(t,e)}).next(function(t){var a=n.docVersions.get(e);N(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(function(){return e.mutationQueue.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n.mutationQueue.performConsistencyCheck(e)}).next(function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)}).next(function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=tr(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))}).next(function(){return n.localDocuments.getDocuments(e,r)})})}function so(e){var t=R(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.Vs.getLastRemoteSnapshotVersion(e)})}function co(e,t){var n=R(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach(function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next(function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)}));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Be.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}});var u=Kn(),s=tr();if(t.documentUpdates.forEach(function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(lo(e,a,t.documentUpdates).next(function(e){u=e.Gi,s=e.Qi})),!r.isEqual(X.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next(function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)});o.push(c)}return me.waitFor(o).next(function(){return a.apply(e)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)}).next(function(){return u})}).then(function(e){return n.$i=i,e})}function lo(e,t,n){var r=tr(),i=tr();return n.forEach(function(e){return r=r.add(e)}),t.getEntries(e,r).next(function(e){var r=Kn();return n.forEach(function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(X.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):S("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{Gi:r,Qi:i}})}function fo(e,t){var n=R(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)})}function ho(e,t){var n=R(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.Vs.getTargetData(e,t).next(function(i){return i?(r=i,me.resolve(r)):n.Vs.allocateTargetId(e).next(function(i){return r=new _i(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e})}function po(e,t,n){return vo.apply(this,arguments)}function vo(){return(vo=Object(o.a)(k().mark(function e(t,n,r){var i,a,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=R(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,function(e){return i.persistence.referenceDelegate.removeTarget(e,a)});case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),_e(e.t1)){e.next=12;break}throw e.t1;case 12:S("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function yo(e,t,n){var r=R(e),i=X.min(),a=tr();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=R(e),i=r.Bi.get(n);return void 0!==i?me.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Jt(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next(function(e){a=e})}).next(function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:X.min(),n?a:tr())}).next(function(e){return bo(r,rn(t),e),{documents:e,ji:a}})})}function mo(e,t){var n=R(e),r=R(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.te(e,t).next(function(e){return e?e.target:null})})}function go(e,t){var n=R(e),r=n.Li.get(t)||X.min();return n.persistence.runTransaction("Get new document changes","readonly",function(e){return n.Ui.getAllFromCollectionGroup(e,t,ce(r,-1),Number.MAX_SAFE_INTEGER)}).then(function(e){return bo(n,t,e),e})}function bo(e,t,n){var r=X.min();n.forEach(function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Li.set(t,r)}function ko(e,t,n,r){return wo.apply(this,arguments)}function wo(){return(wo=Object(o.a)(k().mark(function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=R(t),o=tr(),u=Kn(),s=g(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,ho(a,function(e){return Jt(Kt(ee.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return lo(e,d,u).next(function(t){return d.apply(e),t}).next(function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next(function(){return a.Vs.addMatchingKeys(e,o,p.targetId)}).next(function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)}).next(function(){return t.Gi})})}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _o(e,t){return Oo.apply(this,arguments)}function Oo(){return(Oo=Object(o.a)(k().mark(function e(t,n){var r,i,a,o=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:tr(),e.next=3,ho(t,Jt(Ai(n.bundledQuery)));case 3:return i=e.sent,a=R(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",function(e){var t=br(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(Be.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next(function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)}).next(function(){return a.Vs.addMatchingKeys(e,r,i.targetId)}).next(function(){return a.Ds.saveNamedQuery(e,n)})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xo(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function jo(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Eo(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var So=function(){function e(t,n,r,i){Object(f.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Object(h.a)(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new D(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(T("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),To=function(){function e(t,n,r){Object(f.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(h.a)(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new D(i.error.code,i.error.message))),a?new e(t,i.state,r):(T("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Io=function(){function e(t,n){Object(f.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(h.a)(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=rr(),o=0;i&&o<r.activeTargetIds.length;++o)i=Xe(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(T("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Co=function(){function e(t,n){Object(f.a)(this,e),this.clientId=t,this.onlineState=n}return Object(h.a)(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(T("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ao=function(){function e(){Object(f.a)(this,e),this.activeTargetIds=rr()}return Object(h.a)(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),No=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Pe(Q),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=xo(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Ao),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Object(h.a)(e,[{key:"start",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=g(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(xo(this.persistenceKey,i)))&&(o=Io.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=g(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0;case 28:case"end":return e.stop()}},e,this,[[4,16,19,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Eo(this.persistenceKey,e));if(n){var r=To.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Eo(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach(function(e){r.pr(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return S("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){S("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){S("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(S("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void T("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Object(o.a)(k().mark(function e(){var r,i,a,o,u,s,c;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}(s=function(e){var t=Ie.ot;if(null!=e)try{var n=JSON.parse(e);N("number"==typeof n),t=n}catch(e){T("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Ie.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map(function(e){return t.syncEngine.Nr(e)}));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}},e)})))}}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new So(this.currentUser,e,t,n),i=jo(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=jo(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Eo(this.persistenceKey,e),i=new To(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Io.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return So.Ji(new _(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return To.Ji(r,t)}},{key:"wr",value:function(e){return Co.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:S("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach(function(e){i.has(e)||o.push(e)}),i.forEach(function(e){a.has(e)||u.push(e)}),this.syncEngine.Mr(o,u).then(function(){n.sr=r})}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=rr();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t}},{key:"Ir",get:function(){return this.sr.get(this.tr)}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Po=function(){function e(){Object(f.a)(this,e),this.Fr=new Ao,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(h.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Ao,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Ro=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Lo=function(){function e(){var t=this;Object(f.a)(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return Object(h.a)(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=g(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=g(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Do={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mo=function(){function e(t){Object(f.a)(this,e),this.jr=t.jr,this.Wr=t.Wr}return Object(h.a)(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Fo=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(c.a)(t,e),Object(h.a)(t,[{key:"co",value:function(e,t,n,r){return new Promise(function(i,a){var o=new m.g;o.listenOnce(m.c.COMPLETE,function(){try{switch(o.getLastErrorCode()){case m.a.NO_ERROR:var t=o.getResponseJson();S("Connection","XHR received:",JSON.stringify(t)),i(t);break;case m.a.TIMEOUT:S("Connection",'RPC "'+e+'" timed out'),a(new D(L.DEADLINE_EXCEEDED,"Request time out"));break;case m.a.HTTP_ERROR:var n=o.getStatus();if(S("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=r.status.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(t)>=0?t:L.UNKNOWN}();a(new D(u,r.message))}else a(new D(L.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new D(L.UNAVAILABLE,"Connection failed."));break;default:A()}}finally{S("Connection",'RPC "'+e+'" completed.')}});var u=JSON.stringify(r);o.send(t,"POST",u,n,15)})}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(m.h)(),a=Object(m.i)(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new m.d({})),this.uo(o.initMessageHeaders,t,n),Object(y.E)()||Object(y.H)()||Object(y.A)()||Object(y.C)()||Object(y.J)()||Object(y.z)()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");S("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Mo({jr:function(e){l?S("Connection","Not sending because WebChannel is closed:",e):(c||(S("Connection","Opening WebChannel transport."),s.open(),c=!0),S("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return h(s,m.f.EventType.OPEN,function(){l||S("Connection","WebChannel transport opened.")}),h(s,m.f.EventType.CLOSE,function(){l||(l=!0,S("Connection","WebChannel transport closed"),f.eo())}),h(s,m.f.EventType.ERROR,function(e){l||(l=!0,I("Connection","WebChannel transport errored:",e),f.eo(new D(L.UNAVAILABLE,"The operation could not be completed")))}),h(s,m.f.EventType.MESSAGE,function(e){var t;if(!l){var n=e.data[0];N(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){S("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Mn[a];if(void 0!==t)return qn(t)}(),u=i.message;void 0===o&&(o=L.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new D(o,u)),s.close()}else S("Connection","WebChannel received:",n),f.no(n)}}),h(a,m.b.STAT_EVENT,function(e){e.stat===m.e.PROXY?S("Connection","Detected buffering proxy"):e.stat===m.e.NOPROXY&&S("Connection","Detected no buffering proxy")}),setTimeout(function(){f.Zr()},0),f}}]),t}(function(){function e(t){Object(f.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(h.a)(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);S("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then(function(e){return S("RestConnection","Received: ",e),e},function(t){throw I("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t})}},{key:"ao",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+O,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(function(t,n){return e[n]=t}),n&&n.headers.forEach(function(t,n){return e[n]=t})}},{key:"oo",value:function(e,t){var n=Do[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Uo(){return"undefined"!=typeof window?window:null}function Vo(){return"undefined"!=typeof document?document:null}function Bo(e){return new vr(e,!0)}var zo=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(f.a)(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Object(h.a)(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,function(){return t.yo=Date.now(),e()}),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),qo=function(){function e(t,n,r,i,a,o,u,s){Object(f.a)(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new zo(t,n)}return Object(h.a)(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,function(){return e.Oo()}))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Object(o.a)(k().mark(function e(t,n){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(T(n.toString()),T("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===L.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(function(t){var r=Object(a.a)(t,2),i=r[0],o=r[1];e.Po===n&&e.Uo(i,o)},function(n){t(function(){var t=new D(L.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)})})}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(function(){r(function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,function(){return n.Co()&&(n.state=3),Promise.resolve()}),n.listener.zr()})}),this.stream.Jr(function(e){r(function(){return n.qo(e)})}),this.stream.onMessage(function(e){r(function(){return n.onMessage(e)})})}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Object(o.a)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}},t)})))}},{key:"qo",value:function(e){return S("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget(function(){return t.Po===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}]),e}(),Go=function(e){function t(e,n,r,i,a,o){var c;return Object(f.a)(this,t),(c=Object(u.a)(this,Object(s.a)(t).call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o))).wt=a,c}return Object(c.a)(t,e),Object(h.a)(t,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:A()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(N(void 0===t||"string"==typeof t),Be.fromBase64String(t||"")):(N(void 0===t||t instanceof Uint8Array),Be.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?L.UNKNOWN:qn(e.code);return new D(t,e.message||"")}(o);n=new sr(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Or(e,s.document.name),l=br(s.document.updateTime),f=new bt({mapValue:{fields:s.document.fields}}),h=wt.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new or(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Or(e,v.document),m=v.readTime?br(v.readTime):X.min(),g=wt.newNoDocument(y,m),b=v.removedTargetIds||[];n=new or([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Or(e,k.document),_=k.removedTargetIds||[];n=new or([],_,w,null)}else{if(!("filter"in t))return A();t.filter;var O=t.filter;O.targetId;var x=O.count||0,j=new Bn(x),E=O.targetId;n=new ur(E,j)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return X.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?X.min():t.readTime?br(t.readTime):X.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Er(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Et(r)?{documents:Pr(e,r)}:{query:Rr(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=mr(e,t.resumeToken):t.snapshotVersion.compareTo(X.min())>0&&(n.readTime=yr(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return A()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=Er(this.wt),t.removeTarget=e,this.Mo(t)}}]),t}(qo),Wo=function(e){function t(e,n,r,i,a,o){var c;return Object(f.a)(this,t),(c=Object(u.a)(this,Object(s.a)(t).call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o))).wt=a,c.Wo=!1,c}return Object(c.a)(t,e),Object(h.a)(t,[{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Object(i.a)(Object(s.a)(t.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(N(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(N(void 0!==t),e.map(function(e){return function(e,t){var n=e.updateTime?br(e.updateTime):br(t);return n.isEqual(X.min())&&(n=br(t)),new On(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=br(e.commitTime);return this.listener.Jo(n,t)}return N(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Er(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return Ar(t.wt,e)})};this.Mo(n)}},{key:"zo",get:function(){return this.Wo}}]),t}(qo),Ko=function(e){function t(e,n,r,i){var a;return Object(f.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this))).authCredentials=e,a.appCheckCredentials=n,a.bo=r,a.wt=i,a.Zo=!1,a}return Object(c.a)(t,e),Object(h.a)(t,[{key:"tu",value:function(){if(this.Zo)throw new D(L.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(i){var o=Object(a.a)(i,2),u=o[0],s=o[1];return r.bo.ro(e,t,n,u,s)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===L.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new D(L.UNKNOWN,e.toString())})}},{key:"ao",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(i){var o=Object(a.a)(i,2),u=o[0],s=o[1];return r.bo.ao(e,t,n,u,s)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===L.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new D(L.UNKNOWN,e.toString())})}},{key:"terminate",value:function(){this.Zo=!0}}]),t}(function(){return function e(){Object(f.a)(this,e)}}()),Ho=function(){function e(t,n){Object(f.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Object(h.a)(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()}))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(T(t),this.su=!1):S("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Qo=function e(t,n,r,i,a){var u=this;Object(f.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(function(e){r.enqueueAndForget(Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=au(u),!e.t0){e.next=5;break}return S("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(o.a)(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=R(t)).lu.add(4),e.next=4,Jo(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,$o(n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}},e)})))}),this._u=new Ho(r,i)};function $o(e){return Yo.apply(this,arguments)}function Yo(){return(Yo=Object(o.a)(k().mark(function e(t){var n,r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!au(t)){e.next=18;break}n=g(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}))).apply(this,arguments)}function Jo(e){return Xo.apply(this,arguments)}function Xo(){return(Xo=Object(o.a)(k().mark(function e(t){var n,r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=g(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}))).apply(this,arguments)}function Zo(e,t){var n=R(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),iu(n)?ru(n):Ru(n).Co()&&tu(n,t))}function eu(e,t){var n=R(e),r=Ru(n);n.hu.delete(t),r.Co()&&nu(n,t),0===n.hu.size&&(r.Co()?r.ko():au(n)&&n._u.set("Unknown"))}function tu(e,t){e.wu.Nt(t.targetId),Ru(e).Qo(t)}function nu(e,t){e.wu.Nt(t),Ru(e).jo(t)}function ru(e){e.wu=new lr({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),Ru(e).start(),e._u.iu()}function iu(e){return au(e)&&!Ru(e).Do()&&e.hu.size>0}function au(e){return 0===R(e).lu.size}function ou(e){e.wu=void 0}function uu(e){return su.apply(this,arguments)}function su(){return(su=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach(function(e,n){tu(t,e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cu(e,t){return lu.apply(this,arguments)}function lu(){return(lu=Object(o.a)(k().mark(function e(t,n){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ou(t),iu(t)?(t._u.uu(n),ru(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fu(e,t,n){return hu.apply(this,arguments)}function hu(){return(hu=Object(o.a)(k().mark(function e(t,n,r){var i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof sr&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(o.a)(k().mark(function e(t,n){var r,i,a,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=g(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[2,16,19,22]])}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),S("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,du(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof or?t.wu.Ut(n):n instanceof ur?t.wu.zt(n):t.wu.Gt(n),r.isEqual(X.min())){e.next=29;break}return e.prev=14,e.next=17,so(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Be.EMPTY_BYTE_STRING,n.snapshotVersion)),nu(e,t);var r=new _i(n.target,t,1,n.sequenceNumber);tu(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),S("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,du(t,e.t2);case 29:case"end":return e.stop()}},e,null,[[1,6],[14,24]])}))).apply(this,arguments)}function du(e,t,n){return pu.apply(this,arguments)}function pu(){return(pu=Object(o.a)(k().mark(function e(t,n,r){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(_e(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Jo(t);case 5:t._u.set("Offline"),r||(r=function(){return so(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,$o(t);case 6:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vu(e,t){return t().catch(function(n){return du(e,n,t)})}function yu(e){return mu.apply(this,arguments)}function mu(){return(mu=Object(o.a)(k().mark(function e(t){var n,r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=R(t),r=Lu(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!gu(n)){e.next=19;break}return e.prev=3,e.next=6,fo(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,bu(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,du(n,e.t0);case 17:e.next=2;break;case 19:ku(n)&&wu(n);case 20:case"end":return e.stop()}},e,null,[[3,13]])}))).apply(this,arguments)}function gu(e){return au(e)&&e.au.length<10}function bu(e,t){e.au.push(t);var n=Lu(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function ku(e){return au(e)&&!Lu(e).Do()&&e.au.length>0}function wu(e){Lu(e).start()}function _u(e){return Ou.apply(this,arguments)}function Ou(){return(Ou=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Lu(t).Xo();case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xu(e){return ju.apply(this,arguments)}function ju(){return(ju=Object(o.a)(k().mark(function e(t){var n,r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Lu(t),r=g(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Eu(e,t,n){return Su.apply(this,arguments)}function Su(){return(Su=Object(o.a)(k().mark(function e(t,n,r){var i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=ki.from(i,n,r),e.next=3,vu(t,function(){return t.remoteSyncer.applySuccessfulWrite(a)});case 3:return e.next=5,yu(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tu(e,t){return Iu.apply(this,arguments)}function Iu(){return(Iu=Object(o.a)(k().mark(function e(t,n){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Lu(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(o.a)(k().mark(function e(t,n){var r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!zn(i=n.code)||i===L.ABORTED){e.next=7;break}return r=t.au.shift(),Lu(t).No(),e.next=5,vu(t,function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)});case 5:return e.next=7,yu(t);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ku(t)&&wu(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Cu(e,t){return Au.apply(this,arguments)}function Au(){return(Au=Object(o.a)(k().mark(function e(t,n){var r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=R(t)).asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials"),i=au(r),r.lu.add(3),e.next=6,Jo(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,$o(r);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nu(e,t){return Pu.apply(this,arguments)}function Pu(){return(Pu=Object(o.a)(k().mark(function e(t,n){var r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,$o(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Jo(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ru(e){return e.mu||(e.mu=function(e,t,n){var r=R(e);return r.tu(),new Go(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:uu.bind(null,e),Jr:cu.bind(null,e),Go:fu.bind(null,e)}),e.fu.push(function(){var t=Object(o.a)(k().mark(function t(n){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),iu(e)?ru(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:ou(e);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.mu}function Lu(e){return e.gu||(e.gu=function(e,t,n){var r=R(e);return r.tu(),new Wo(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:_u.bind(null,e),Jr:Tu.bind(null,e),Yo:xu.bind(null,e),Jo:Eu.bind(null,e)}),e.fu.push(function(){var t=Object(o.a)(k().mark(function t(n){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,yu(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(S("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.gu}var Du=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new M,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return Object(h.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Mu(e,t){if(T("AsyncQueue","".concat(t,": ").concat(e)),_e(e))return new D(L.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Fu=function(){function e(t){Object(f.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||re.comparator(e.key,n.key)}:function(e,t){return re.comparator(e.key,t.key)},this.keyedMap=Qn(),this.sortedSet=new Pe(this.comparator)}return Object(h.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},{key:"size",get:function(){return this.sortedSet.size}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Uu=function(){function e(){Object(f.a)(this,e),this.yu=new Pe(re.comparator)}return Object(h.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):A():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal(function(t,n){e.push(n)}),e}}]),e}(),Vu=function(){function e(t,n,r,i,a,o,u,s){Object(f.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Object(h.a)(e,[{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}},{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach(function(e){a.push({type:0,doc:e})}),new e(t,n,Fu.emptySet(n),a,r,i,!0,!1)}}]),e}(),Bu=function e(){Object(f.a)(this,e),this.Iu=void 0,this.listeners=[]},zu=function e(){Object(f.a)(this,e),this.queries=new Gn(function(e){return en(e)},Zt),this.onlineState="Unknown",this.Tu=new Set};function qu(e,t){return Gu.apply(this,arguments)}function Gu(){return(Gu=Object(o.a)(k().mark(function e(t,n){var r,i,a,o,u;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Bu),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Mu(e.t0,"Initialization of query '".concat(tn(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Hu(r);case 14:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function Wu(e,t){return Ku.apply(this,arguments)}function Ku(){return(Ku=Object(o.a)(k().mark(function e(t,n){var r,i,a,o,u;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Hu(e){e.Tu.forEach(function(e){e.next()})}var Qu=function(){function e(t,n,r){Object(f.a)(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Object(h.a)(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=g(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Vu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),$u=function(){function e(t,n){Object(f.a)(this,e),this.payload=t,this.byteLength=n}return Object(h.a)(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Yu=function(){function e(t){Object(f.a)(this,e),this.wt=t}return Object(h.a)(e,[{key:"Wi",value:function(e){return Or(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?Ir(this.wt,e.document,!1):wt.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return br(e)}}]),e}(),Ju=function(){function e(t,n,r){Object(f.a)(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Xu(t)}return Object(h.a)(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=ee.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new Yu(this.wt),i=g(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=g(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||tr()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n,r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko(this.localStore,new Yu(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=g(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,_o(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}},e,this,[[5,15,18,21]])}));return function(){return e.apply(this,arguments)}}()}]),e}();function Xu(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Zu=function e(t){Object(f.a)(this,e),this.key=t},es=function e(t){Object(f.a)(this,e),this.key=t},ts=function(){function e(t,n){Object(f.a)(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=tr(),this.mutatedKeys=tr(),this.Lu=an(t),this.Uu=new Fu(this.Lu)}return Object(h.a)(e,[{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new Uu,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),f=nn(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return A()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)}),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new Vu(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Uu,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.Fu=t.Fu.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.Fu=t.Fu.delete(e)}),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=tr(),this.Uu.forEach(function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))});var n=[];return t.forEach(function(t){e.Bu.has(t)||n.push(new es(t))}),this.Bu.forEach(function(e){t.has(e)||n.push(new Zu(e))}),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=tr();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Vu.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}},{key:"qu",get:function(){return this.Fu}}]),e}(),ns=function e(t,n,r){Object(f.a)(this,e),this.query=t,this.targetId=n,this.view=r},rs=function e(t){Object(f.a)(this,e),this.key=t,this.Xu=!1},is=function(){function e(t,n,r,i,a,o){Object(f.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Gn(function(e){return en(e)},Zt),this.ec=new Map,this.nc=new Set,this.sc=new Pe(re.comparator),this.ic=new Map,this.rc=new Ua,this.oc={},this.uc=new Map,this.cc=va.Rn(),this.onlineState="Unknown",this.ac=void 0}return Object(h.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function as(e,t){return os.apply(this,arguments)}function os(){return(os=Object(o.a)(k().mark(function e(t,n){var r,i,a,o,u,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qs(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,ho(r.localStore,Jt(n));case 8:return u=e.sent,r.isPrimaryClient&&Zo(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,us(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function us(e,t,n,r){return ss.apply(this,arguments)}function ss(){return(ss=Object(o.a)(k().mark(function e(t,n,r,i){var a,u,s,c,l,f;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Object(o.a)(k().mark(function e(t,n,r,i){var a,o,u;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,yo(t.localStore,n.query,!1).then(function(e){var t=e.documents;return n.view.Ku(t,a)});case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(js(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}},e)}));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,yo(t.localStore,n,!0);case 3:return a=e.sent,u=new ts(n,a.ji),s=u.Ku(a.documents),c=ar.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=u.applyChanges(s,t.isPrimaryClient,c),js(t,r,l.zu),f=new ns(n,r,u),e.abrupt("return",(t.tc.set(n,f),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cs(e,t){return ls.apply(this,arguments)}function ls(){return(ls=Object(o.a)(k().mark(function e(t,n){var r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=R(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter(function(e){return!Zt(e,n)})),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,po(r.localStore,i.targetId,!1).then(function(){r.sharedClientState.clearQueryState(i.targetId),eu(r.remoteStore,i.targetId),Os(r,i.targetId)}).catch(ve);case 9:e.next=14;break;case 11:return Os(r,i.targetId),e.next=14,po(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fs(e,t,n){return hs.apply(this,arguments)}function hs(){return(hs=Object(o.a)(k().mark(function e(t,n,r){var i,a,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=$s(t),e.prev=1,e.next=4,function(e,t){var n,r,i=R(e),a=J.now(),o=t.reduce(function(e,t){return e.add(t.key)},tr());return i.persistence.runTransaction("Locally write mutations","readwrite",function(e){var u=Kn(),s=tr();return i.Ui.getEntries(e,o).next(function(e){(u=e).forEach(function(e,t){t.isValidDocument()||(s=s.add(e))})}).next(function(){return i.localDocuments.getOverlayedDocuments(e,u)}).next(function(r){n=r;var o,u=[],s=g(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Cn(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Pn(c.key,l,kt(l.value.mapValue),xn.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)}).next(function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)})}).then(function(){return{batchId:r.batchId,changes:$n(n)}})}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Pe(Q)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ts(i,a.changes);case 9:return e.next=11,yu(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Mu(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}function ds(e,t){return ps.apply(this,arguments)}function ps(){return(ps=Object(o.a)(k().mark(function e(t,n){var r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.prev=1,e.next=4,co(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach(function(e,t){var n=r.ic.get(t);n&&(N(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?N(n.Xu):e.removedDocuments.size>0&&(N(n.Xu),n.Xu=!1))}),e.next=8,Ts(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ve(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function vs(e,t,n){var r=R(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach(function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=R(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){var i,a=g(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}}),r&&Hu(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ys(){return(ys=Object(o.a)(k().mark(function e(t,n,r){var i,a,o,u,s,c;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=R(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Pe(re.comparator)).insert(o,wt.newNoDocument(o,X.min())),s=tr().add(o),c=new ir(X.min(),new Map,new De(Q),u,s),e.next=9,ds(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),Ss(i),e.next=16;break;case 14:return e.next=16,po(i.localStore,n,!1).then(function(){return Os(i,n,r)}).catch(ve);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ms(){return(ms=Object(o.a)(k().mark(function e(t,n){var r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),i=n.batch.batchId,e.prev=1,e.next=4,uo(r.localStore,n);case 4:return a=e.sent,_s(r,i,null),ws(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ts(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ve(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function gs(){return(gs=Object(o.a)(k().mark(function e(t,n,r){var i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=R(t),e.prev=1,e.next=4,function(e,t){var n=R(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next(function(t){return N(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)}).next(function(){return n.mutationQueue.performConsistencyCheck(e)}).next(function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)}).next(function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)}).next(function(){return n.localDocuments.getDocuments(e,r)})})}(i.localStore,n);case 4:return a=e.sent,_s(i,n,r),ws(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ts(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ve(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function bs(e,t){return ks.apply(this,arguments)}function ks(){return(ks=Object(o.a)(k().mark(function e(t,n){var r,i,a,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return au((r=R(t)).remoteStore)||S("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=R(r.localStore);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})}();case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Mu(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function ws(e,t){(e.uc.get(t)||[]).forEach(function(e){e.resolve()}),e.uc.delete(t)}function _s(e,t,n){var r=R(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Os(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=g(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach(function(t){e.rc.containsKey(t)||xs(e,t)})}function xs(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(eu(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Ss(e))}function js(e,t,n){var r,i=g(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Zu?(e.rc.addReference(a.key,t),Es(e,a)):a instanceof es?(S("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||xs(e,a.key)):A()}}catch(o){i.e(o)}finally{i.f()}}function Es(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(S("SyncEngine","New document in limbo: "+n),e.nc.add(r),Ss(e))}function Ss(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new re(ee.fromString(t)),r=e.cc.next();e.ic.set(r,new rs(n)),e.sc=e.sc.insert(n,r),Zo(e.remoteStore,new _i(Jt(Kt(n.path)),r,2,Ie.ot))}}function Ts(e,t,n){return Is.apply(this,arguments)}function Is(){return(Is=Object(o.a)(k().mark(function e(t,n,r){var i,a,u,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=R(t),a=[],u=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach(function(e,t){s.push(i.hc(t,n,r).then(function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=to.Vi(t.targetId,e);u.push(n)}}))}),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Object(o.a)(k().mark(function e(t,n){var r,i,a,o,u,s,c,l;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return me.forEach(n,function(t){return me.forEach(t.Pi,function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)}).next(function(){return me.forEach(t.vi,function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)})})})});case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),_e(e.t0)){e.next=10;break}throw e.t0;case 10:S("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=g(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,u);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Cs(e,t){return As.apply(this,arguments)}function As(){return(As=Object(o.a)(k().mark(function e(t,n){var r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=R(t)).currentUser.isEqual(n)){e.next=11;break}return S("SyncEngine","User change. New user:",n.toKey()),e.next=5,ao(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach(function(e){e.forEach(function(e){e.reject(new D(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ts(r,i.Ki);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ns(e,t){return Ps.apply(this,arguments)}function Ps(){return(Ps=Object(o.a)(k().mark(function e(t,n){var r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.next=3,yo(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&js(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rs(e,t){return Ls.apply(this,arguments)}function Ls(){return(Ls=Object(o.a)(k().mark(function e(t,n){var r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),e.abrupt("return",go(r.localStore,n).then(function(e){return Ts(r,e)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ds(e,t,n,r){return Ms.apply(this,arguments)}function Ms(){return(Ms=Object(o.a)(k().mark(function e(t,n,r,i){var a,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=R(t),e.next=3,function(e,t){var n=R(e),r=R(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.yn(e,t).next(function(t){return t?n.localDocuments.getDocuments(e,t):me.resolve(null)})})}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,yu(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(_s(a,n,i||null),ws(a,n),function(e,t){R(R(e).mutationQueue).In(t)}(a.localStore,n)):A();case 11:return e.next=13,Ts(a,o);case 13:e.next=16;break;case 15:S("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return(Us=Object(o.a)(k().mark(function e(t,n){var r,i,a,o,u,s,c,l;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Qs(r=R(t)),$s(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Vs(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,Nu(r.remoteStore,!0);case 9:o=g(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Zo(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach(function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then(function(){return Os(r,t),po(r.localStore,t,!0)}),eu(r.remoteStore,t)}),e.next=19,l;case 19:return e.next=21,Vs(r,c);case 21:return function(e){var t=R(r);t.ic.forEach(function(e,n){eu(t.remoteStore,n)}),t.rc.cs(),t.ic=new Map,t.sc=new Pe(re.comparator)}(),r.ac=!1,e.next=25,Nu(r.remoteStore,!1);case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vs(e,t,n){return Bs.apply(this,arguments)}function Bs(){return(Bs=Object(o.a)(k().mark(function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=R(t),a=[],o=[],u=g(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,ho(i.localStore,Jt(f[0]));case 11:l=e.sent,h=g(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,Ns(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,mo(i.localStore,c);case 36:return m=e.sent,e.next=39,ho(i.localStore,m);case 39:return l=e.sent,e.next=42,us(i,zs(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}},e,null,[[2,47,50,53],[13,26,29,32]])}))).apply(this,arguments)}function zs(e){return Wt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function qs(e){var t=R(e);return R(R(t.localStore).persistence).Ri()}function Gs(e,t,n,r){return Ws.apply(this,arguments)}function Ws(){return(Ws=Object(o.a)(k().mark(function e(t,n,r,i){var a,o,u,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=R(t)).ac){e.next=3;break}return e.abrupt("return",void S("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0?8:"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,go(a.localStore,rn(o[0]));case 10:return u=e.sent,s=ir.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Ts(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,po(a.localStore,n,!0);case 17:return Os(a,n,i),e.abrupt("break",20);case 19:A();case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ks(e,t,n){return Hs.apply(this,arguments)}function Hs(){return(Hs=Object(o.a)(k().mark(function e(t,n,r){var i,a,o,u,s,c,l,f,h;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Qs(t)).ac){e.next=45;break}a=g(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return S("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,mo(i.localStore,u);case 12:return s=e.sent,e.next=15,ho(i.localStore,s);case 15:return c=e.sent,e.next=18,us(i,zs(s),c.targetId,!1);case 18:Zo(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=g(r),e.prev=30,h=k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,po(i.localStore,t,!1).then(function(){eu(i.remoteStore,t),Os(i,t)}).catch(ve);case 5:case"end":return e.stop()}},e)}),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}},e,null,[[3,23,26,29],[30,39,42,45]])}))).apply(this,arguments)}function Qs(e){var t=R(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ds.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=R(e),r=n.ic.get(t);if(r&&r.Xu)return tr().add(r.key);var i=tr(),a=n.ec.get(t);if(!a)return i;var o,u=g(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return ys.apply(this,arguments)}.bind(null,t),t.Zu.Go=function(e,t){var n,r=R(e),i=!1,a=g(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=g(s.listeners);try{for(l.s();!(c=l.n()).done;)c.value.Au(o)&&(i=!0)}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Hu(r)}.bind(null,t.eventManager),t.Zu.lc=function(e,t,n){var r=R(e),i=r.queries.get(t);if(i){var a,o=g(i.listeners);try{for(o.s();!(a=o.n()).done;)a.value.onError(n)}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}.bind(null,t.eventManager),t}function $s(e){var t=R(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return ms.apply(this,arguments)}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=function(e,t,n){return gs.apply(this,arguments)}.bind(null,t),t}function Ys(e,t,n){var r=R(e);(function(){var e=Object(o.a)(k().mark(function e(t,n,r){var i,a,o,u,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=R(e),r=br(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(e){return n.Ds.getBundleMetadata(e,t.id)}).then(function(e){return!!e&&e.createTime.compareTo(r)>=0})}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Xu(i)),a=new Ju(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Ts(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=R(e);return n.persistence.runTransaction("Save bundle","readwrite",function(e){return n.Ds.saveBundleMetadata(e,t)})}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(I("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}},e,null,[[0,37]])}));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then(function(e){r.sharedClientState.notifyBundleLoaded(e)})}var Js=function(){function e(){Object(f.a)(this,e),this.synchronizeTabs=!1}return Object(h.a)(e,[{key:"initialize",value:function(){var e=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=Bo(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return io(this.persistence,new no,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new Wa(Ha.Ms,this.wt)}},{key:"dc",value:function(e){return new Po}},{key:"terminate",value:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Xs=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).yc=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"initialize",value:function(){var e=Object(o.a)(k().mark(function e(n){var r=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(s.a)(t.prototype),"initialize",this).call(this,n);case 2:return e.next=4,this.yc.initialize(this,n);case 4:return e.next=6,$s(this.yc.syncEngine);case 6:return e.next=8,yu(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return io(this.persistence,new no,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new _a(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Te(t,this.persistence);return new Se(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=eo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ua.withCacheSize(this.cacheSizeBytes):ua.DEFAULT;return new Ja(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Uo(),Vo(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new Po}}]),t}(Js),Zs=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e,n,!1))).yc=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"initialize",value:function(){var e=Object(o.a)(k().mark(function e(n){var r,a=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(s.a)(t.prototype),"initialize",this).call(this,n);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof No,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:Ds.bind(null,r),Or:Gs.bind(null,r),Mr:Ks.bind(null,r),Ri:qs.bind(null,r),Nr:Rs.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fs(a.yc.syncEngine,t);case 2:a.gcScheduler&&(t&&!a.gcScheduler.started?a.gcScheduler.start():t||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(t&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():t||a.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=Uo();if(!No.V(t))throw new D(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=eo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new No(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),t}(Xs),ec=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"initialize",value:function(){var e=Object(o.a)(k().mark(function e(t,n){var r=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return vs(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Cs.bind(null,this.syncEngine),e.next=12,Nu(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new zu}},{key:"createDatastore",value:function(e){var t,n=Bo(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Fo(t));return function(e,t,n,r){return new Ko(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return vs(o.syncEngine,e,0)},a=Lo.V()?new Lo:new Ro,new Qo(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new is(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(o.a)(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=R(t),S("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Jo(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function tc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){var r=Object(o.a)(k().mark(function r(){var i;return k().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),cancel:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),releaseLock:function(){},closed:Promise.reject("unimplemented")}}var nc=function(){function e(t){Object(f.a)(this,e),this.observer=t,this.muted=!1}return Object(h.a)(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)}}]),e}(),rc=function(){function e(t,n){var r=this;Object(f.a)(this,e),this.Ec=t,this.wt=n,this.metadata=new M,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))},function(e){return r.metadata.reject(e)})}return Object(h.a)(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n,r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new $u(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})}},{key:"bc",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Object(o.a)(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),ic=function(){function e(t){Object(f.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Object(h.a)(e,[{key:"lookup",value:function(){var e=Object(o.a)(k().mark(function e(t){var n,r=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new D(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(o.a)(k().mark(function e(t,n){var r,i,a,o,u,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),i=Er(r.wt)+"/documents",a={documents:n.map(function(e){return _r(r.wt,e)})},e.next=5,r.ao("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach(function(e){var t=Cr(r.wt,e);u.set(t.key.toString(),t)}),s=[],e.abrupt("return",(n.forEach(function(e){var t=u.get(e.toString());N(!!t),s.push(t)}),s));case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach(function(e){return r.recordVersion(e)}),n));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Un(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Object(o.a)(k().mark(function e(){var t,n=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(e,t){var r=re.fromPath(t);n.mutations.push(new Vn(r,n.precondition(r)))}),e.next=7,function(){var e=Object(o.a)(k().mark(function e(t,n){var r,i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t),i=Er(r.wt)+"/documents",a={writes:n.map(function(e){return Ar(r.wt,e)})},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw A();t=X.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new D(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?xn.updateTime(t):xn.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(X.min()))throw new D(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xn.updateTime(t)}return xn.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ac=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new zo(this.asyncQueue,"transaction_retry")}return Object(h.a)(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Object(o.a)(k().mark(function t(){var n,r;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=new ic(e.datastore),(r=e.xc(n))&&r.then(function(t){e.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){e.deferred.resolve(t)}).catch(function(t){e.Nc(t)})})}).catch(function(t){e.Nc(t)});case 2:case"end":return t.stop()}},t)})))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Ye(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(function(){return t.Cc(),Promise.resolve()})):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!zn(t)}return!1}}]),e}(),oc=function(){function e(t,n,r,i){var a=this;Object(f.a)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_.UNAUTHENTICATED,this.clientId=H.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,function(e){return S("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)})}return Object(h.a)(e,[{key:"getConfiguration",value:function(){var e=Object(o.a)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new D(L.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new M;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(o.a)(k().mark(function n(){var r;return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Mu(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}},n,null,[[0,14]])}))),t.promise}}]),e}();function uc(e,t){return sc.apply(this,arguments)}function sc(){return(sc=Object(o.a)(k().mark(function e(t,n){var r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ao(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return(lc=Object(o.a)(k().mark(function e(t,n){var r,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,fc(t);case 3:return r=e.sent,S("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener(function(e){return Cu(n.remoteStore,e)}),t.setAppCheckTokenChangeListener(function(e,t){return Cu(n.remoteStore,t)}),t.onlineComponents=n;case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fc(e){return hc.apply(this,arguments)}function hc(){return(hc=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return S("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,uc(t,new Js);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dc(e){return pc.apply(this,arguments)}function pc(){return(pc=Object(o.a)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return S("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,cc(t,new ec);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vc(e){return fc(e).then(function(e){return e.persistence})}function yc(e){return fc(e).then(function(e){return e.localStore})}function mc(e){return dc(e).then(function(e){return e.remoteStore})}function gc(e){return dc(e).then(function(e){return e.syncEngine})}function bc(e){return kc.apply(this,arguments)}function kc(){return(kc=Object(o.a)(k().mark(function e(t){var n,r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dc(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=as.bind(null,n.syncEngine),r.onUnlisten=cs.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function wc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function i(){return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new nc({next:function(a){t.enqueueAndForget(function(){return Wu(e,o)});var u=a.docs.has(n);!u&&a.fromCache?i.reject(new D(L.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new D(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Qu(Kt(n.path),a,{includeMetadataChanges:!0,Du:!0});return qu(e,o)},i.next=3,bc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}function _c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function i(){return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new nc({next:function(n){t.enqueueAndForget(function(){return Wu(e,o)}),n.fromCache&&"server"===r.source?i.reject(new D(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Qu(n,a,{includeMetadataChanges:!0,Du:!0});return qu(e,o)},i.next=3,bc(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}var Oc=new Map;function xc(e,t,n){if(!n)throw new D(L.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function jc(e,t,n,r){if(!0===t&&!0===r)throw new D(L.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Ec(e){if(!re.isDocumentKey(e))throw new D(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Sc(e){if(re.isDocumentKey(e))throw new D(L.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Tc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":A()}function Ic(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new D(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Tc(e);throw new D(L.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Cc(e,t){if(t<=0)throw new D(L.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Ac=function(){function e(t){var n;if(Object(f.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new D(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new D(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,jc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(h.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Nc=function(){function e(t,n,r){Object(f.a)(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ac({}),this._settingsFrozen=!1,t instanceof $e?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new D(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $e(e.options.projectId)}(t))}return Object(h.a)(e,[{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new D(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ac(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new U;switch(e.type){case"gapi":var t=e.client;return N(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new q(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new D(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Oc.get(e);t&&(S("ComponentProvider","Removing Datastore"),Oc.delete(e),t.terminate())}(this),Promise.resolve()}},{key:"app",get:function(){if(!this._app)throw new D(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}}]),e}();function Pc(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Ic(e,Nc))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&I("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=_.MOCK_USER;else{o=Object(y.n)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new D(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _(s)}e._authCredentials=new V(new F(o,u))}}var Rc=function(){function e(t,n,r){Object(f.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(h.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}},{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Dc(this.firestore,this.converter,this._key.path.popLast())}}]),e}(),Lc=function(){function e(t,n,r){Object(f.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(h.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Dc=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this,e,n,Kt(r))))._path=r,i.type="collection",i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"withConverter",value:function(e){return new t(this.firestore,e,this._path)}},{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Rc(this.firestore,null,new re(e))}}]),t}(Lc);function Mc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(y.v)(e),xc("collection","path",t),e instanceof Nc){var a=ee.fromString.apply(ee,[t].concat(r));return Sc(a),new Dc(e,null,a)}if(!(e instanceof Rc||e instanceof Dc))throw new D(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ee.fromString.apply(ee,[t].concat(r)));return Sc(o),new Dc(e.firestore,null,o)}function Fc(e,t){if(e=Ic(e,Nc),xc("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new D(L.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Lc(e,null,function(e){return new Gt(ee.emptyPath(),e)}(t))}function Uc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(y.v)(e),1===arguments.length&&(t=H.I()),xc("doc","path",t),e instanceof Nc){var a=ee.fromString.apply(ee,[t].concat(r));return Ec(a),new Rc(e,null,new re(a))}if(!(e instanceof Rc||e instanceof Dc))throw new D(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ee.fromString.apply(ee,[t].concat(r)));return Ec(o),new Rc(e.firestore,e instanceof Dc?e.converter:null,new re(o))}function Vc(e,t){return e=Object(y.v)(e),t=Object(y.v)(t),(e instanceof Rc||e instanceof Dc)&&(t instanceof Rc||t instanceof Dc)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Bc(e,t){return e=Object(y.v)(e),t=Object(y.v)(t),e instanceof Lc&&t instanceof Lc&&e.firestore===t.firestore&&Zt(e._query,t._query)&&e.converter===t.converter}var zc=function(){function e(){var t=this;Object(f.a)(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new zo(this,"async_queue_retry"),this.Kc=function(){var e=Vo();e&&S("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Vo();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return Object(h.a)(e,[{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=Vo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise(function(){});var n=new M;return this.Qc(function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget(function(){return t.Mc.push(e),t.jc()})}},{key:"jc",value:function(){var e=Object(o.a)(k().mark(function e(){var t=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),_e(e.t0)){e.next=12;break}throw e.t0;case 12:S("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io(function(){return t.jc()});case 14:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then(function(){return t.Lc=!0,e().catch(function(e){throw t.Bc=e,t.Lc=!1,T("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.Lc=!1,e})});return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=Du.createAndSchedule(this,e,t,n,function(e){return r.Wc(e)});return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&A()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Object(o.a)(k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=g(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then(function(){t.$c.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});var n,r=g(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()})}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}},{key:"isShuttingDown",get:function(){return this.Fc}}]),e}();function qc(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=g(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Gc=function(){function e(){Object(f.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new M,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(h.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Wc=-1,Kc=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this,e,n,r))).type="firestore",i._queue=new zc,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_terminate",value:function(){return this._firestoreClient||Qc(this),this._firestoreClient.terminate()}}]),t}(Nc);function Hc(e){return e._firestoreClient||Qc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Qc(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Qe(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new oc(e._authCredentials,e._appCheckCredentials,e._queue,r)}function $c(e,t){il(e=Ic(e,Kc));var n=Hc(e),r=e._freezeSettings(),i=new ec;return Jc(n,i,new Xs(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function Yc(e){il(e=Ic(e,Kc));var t=Hc(e),n=e._freezeSettings(),r=new ec;return Jc(t,r,new Zs(r,n.cacheSizeBytes))}function Jc(e,t,n){var r=new M;return e.asyncQueue.enqueue(Object(o.a)(k().mark(function i(){return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,uc(e,n);case 3:return i.next=5,cc(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===L.FAILED_PRECONDITION||e.code===L.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}},i,null,[[0,8]])}))).then(function(){return r.promise})}function Xc(e){if(e._initialized&&!e._terminated)throw new D(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new M;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(o.a)(k().mark(function n(){return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(o.a)(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(be.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,be.delete(n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(eo(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}},n,null,[[0,6]])}))),t.promise}function Zc(e){return function(e){var t=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function n(){return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=bs,n.next=3,gc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)}))),t.promise}(Hc(e=Ic(e,Kc)))}function el(e){return function(e){return e.asyncQueue.enqueue(Object(o.a)(k().mark(function t(){var n,r;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vc(e);case 2:return n=t.sent,t.next=5,mc(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=R(r);return t.lu.delete(0),$o(t)}()));case 7:case"end":return t.stop()}},t)})))}(Hc(e=Ic(e,Kc)))}function tl(e){return function(e){return e.asyncQueue.enqueue(Object(o.a)(k().mark(function t(){var n,r;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vc(e);case 2:return n=t.sent,t.next=5,mc(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(o.a)(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=R(t)).lu.add(0),e.next=4,Jo(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}},t)})))}(Hc(e=Ic(e,Kc)))}function nl(e,t){var n=Hc(e=Ic(e,Kc)),r=new Gc;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new rc(e,t)}(function(e,t){if(e instanceof Uint8Array)return tc(e,t);if(e instanceof ArrayBuffer)return tc(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Bo(t));e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ys,t.next=3,gc(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}},t)})))}(n,e._databaseId,t,r),r}function rl(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(o.a)(k().mark(function n(){return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=R(e);return n.persistence.runTransaction("Get named query","readonly",function(e){return n.Ds.getNamedQuery(e,t)})},n.next=3,yc(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)})))}(Hc(e=Ic(e,Kc)),t).then(function(t){return t?new Lc(e,null,t.query):null})}function il(e){if(e._initialized||e._terminated)throw new D(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var al=function(){function e(){Object(f.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new D(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ne(n)}return Object(h.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ol=function(){function e(t){Object(f.a)(this,e),this._byteString=t}return Object(h.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Be.fromBase64String(t))}catch(t){throw new D(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Be.fromUint8Array(t))}}]),e}(),ul=function e(t){Object(f.a)(this,e),this._methodName=t},sl=function(){function e(t,n){if(Object(f.a)(this,e),!isFinite(t)||t<-90||t>90)throw new D(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new D(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(h.a)(e,[{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}},{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}}]),e}(),cl=/^__.*__$/,ll=function(){function e(t,n,r){Object(f.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(h.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Pn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nn(e,this.data,t,this.fieldTransforms)}}]),e}(),fl=function(){function e(t,n,r){Object(f.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(h.a)(e,[{key:"toMutation",value:function(e,t){return new Pn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function hl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw A()}}var dl=function(){function e(t,n,r,i,a,o){Object(f.a)(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Object(h.a)(e,[{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return Pl(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(hl(this.Zc)&&cl.test(e))throw this.oa('Document fields cannot begin and end with "__"')}},{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}}]),e}(),pl=function(){function e(t,n,r){Object(f.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Bo(t)}return Object(h.a)(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new dl({Zc:e,methodName:t,ca:n,path:ne.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function vl(e){var t=e._freezeSettings(),n=Bo(e._databaseId);return new pl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yl(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);Il("Data must be an object, but it was:",o,r);var u,s,c=Sl(r,o);if(a.merge)u=new Ue(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=g(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=Cl(t,l.value,n);if(!o.contains(d))throw new D(L.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Rl(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Ue(f),s=o.fieldTransforms.filter(function(e){return u.covers(e.field)})}else u=null,s=o.fieldTransforms;return new ll(new bt(c),u,s)}var ml=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof t}}]),t}(ul);function gl(e,t,n){return new dl({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var bl=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_toFieldTransform",value:function(e){return new _n(e.path,new pn)}},{key:"isEqual",value:function(e){return e instanceof t}}]),t}(ul),kl=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e))).ha=n,r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_toFieldTransform",value:function(e){var t=gl(this,e,!0),n=this.ha.map(function(e){return El(e,t)}),r=new vn(n);return new _n(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),t}(ul),wl=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e))).ha=n,r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_toFieldTransform",value:function(e){var t=gl(this,e,!0),n=this.ha.map(function(e){return El(e,t)}),r=new mn(n);return new _n(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),t}(ul),_l=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e))).la=n,r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_toFieldTransform",value:function(e){var t=new bn(e.wt,cn(e.wt,this.la));return new _n(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),t}(ul);function Ol(e,t,n,r){var i=e.aa(1,t,n);Il("Data must be an object, but it was:",i,r);var a=[],o=bt.empty();Ae(r,function(e,r){var u=Nl(t,e,n);r=Object(y.v)(r);var s=i.ia(u);if(r instanceof ml)a.push(u);else{var c=El(r,s);null!=c&&(a.push(u),o.set(u,c))}});var u=new Ue(a);return new fl(o,u,i.fieldTransforms)}function xl(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[Cl(t,r,n)],s=[i];if(a.length%2!=0)throw new D(L.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Cl(t,a[c])),s.push(a[c+1]);for(var l=[],f=bt.empty(),h=u.length-1;h>=0;--h)if(!Rl(l,u[h])){var d=u[h],p=s[h];p=Object(y.v)(p);var v=o.ia(d);if(p instanceof ml)l.push(d);else{var m=El(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Ue(l);return new fl(f,g,o.fieldTransforms)}function jl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return El(n,e.aa(r?4:3,t))}function El(e,t){if(Tl(e=Object(y.v)(e)))return Il("Unsupported field value:",t,e),Sl(e,t);if(e instanceof ul)return function(e,t){if(!hl(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=g(e);try{for(a.s();!(n=a.n()).done;){var o=El(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(y.v)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cn(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=J.fromDate(e);return{timestampValue:yr(t.wt,n)}}if(e instanceof J){var r=new J(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yr(t.wt,r)}}if(e instanceof sl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ol)return{bytesValue:mr(t.wt,e._byteString)};if(e instanceof Rc){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:kr(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(Tc(e)))}(e,t)}function Sl(e,t){var n={};return Ne(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ae(e,function(e,r){var i=El(r,t.ea(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Tl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof J||e instanceof sl||e instanceof ol||e instanceof Rc||e instanceof ul)}function Il(e,t,n){if(!Tl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Tc(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Cl(e,t,n){if((t=Object(y.v)(t))instanceof al)return t._internalPath;if("string"==typeof t)return Nl(e,t);throw Pl("Field path arguments must be of type string or ",e,!1,void 0,n)}var Al=new RegExp("[~\\*/\\[\\]]");function Nl(e,t,n){if(t.search(Al)>=0)throw Pl("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(al,Object(l.a)(t.split(".")))._internalPath}catch(i){throw Pl("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Pl(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new D(L.INVALID_ARGUMENT,u+e+s)}function Rl(e,t){return e.some(function(e){return e.isEqual(t)})}var Ll=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Object(h.a)(e,[{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Dl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Ml("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Rc(this._firestore,this._converter,this._key)}}]),e}(),Dl=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"data",value:function(){return Object(i.a)(Object(s.a)(t.prototype),"data",this).call(this)}}]),t}(Ll);function Ml(e,t){return"string"==typeof t?Nl(e,t):t instanceof al?t._internalPath:t._delegate._internalPath}var Fl=function(){function e(t,n){Object(f.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(h.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ul=function(e){function t(e,n,r,i,a,o){var c;return Object(f.a)(this,t),(c=Object(u.a)(this,Object(s.a)(t).call(this,e,n,r,i,o)))._firestore=e,c._firestoreImpl=e,c.metadata=a,c}return Object(c.a)(t,e),Object(h.a)(t,[{key:"exists",value:function(){return Object(i.a)(Object(s.a)(t.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Vl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Ml("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),t}(Ll),Vl=function(e){function t(){return Object(f.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(h.a)(t,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(s.a)(t.prototype),"data",this).call(this,e)}}]),t}(Ul),Bl=function(){function e(t,n,r,i){Object(f.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fl(i.hasPendingWrites,i.fromCache),this.query=r}return Object(h.a)(e,[{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new Vl(n._firestore,n._userDataWriter,r.key,r,new Fl(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new D(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new Vl(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fl(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new Vl(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fl(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:zl(t.type),doc:n,oldIndex:i,newIndex:a}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}},{key:"docs",get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}}]),e}();function zl(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return A()}}function ql(e,t){return e instanceof Ul&&t instanceof Ul?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Bl&&t instanceof Bl&&e._firestore===t._firestore&&Bc(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Gl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new D(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wl=function e(){Object(f.a)(this,e)};function Kl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){e=a[i]._apply(e)}return e}var Hl=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).fa=e,i.da=n,i._a=r,i.type="where",i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_apply",value:function(e){var t=vl(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new D(L.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){cf(o,a);var s,c=[],l=g(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(sf(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=sf(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||cf(o,a),u=jl(n,"where",o,"in"===a||"not-in"===a);var h=Ct.create(i,a,u);return function(e,t){if(t.ht()){var n=Qt(e);if(null!==n&&!n.isEqual(t.field))throw new D(L.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Ht(e);null!==r&&lf(e,t.field,r)}var i=function(e,t){var n,r=g(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===t.op?new D(L.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new D(L.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Lc(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),t}(Wl);function Ql(e,t,n){var r=t,i=Ml("where",e);return new Hl(i,r,n)}var $l=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this))).fa=e,r.wa=n,r.type="orderBy",r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new D(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new D(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vt(t,n);return function(e,t){if(null===Ht(e)){var n=Qt(e);null!==n&&lf(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new Lc(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Gt(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),t}(Wl);function Yl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ml("orderBy",e);return new $l(n,t)}var Jl=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).type=e,i.ma=n,i.ga=r,i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_apply",value:function(e){return new Lc(e.firestore,e.converter,Xt(e._query,this.ma,this.ga))}}]),t}(Wl);function Xl(e){return Cc("limit",e),new Jl("limit",e,"F")}function Zl(e){return Cc("limitToLast",e),new Jl("limitToLast",e,"L")}var ef=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).type=e,i.ya=n,i.pa=r,i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_apply",value:function(e){var t=uf(e,this.type,this.ya,this.pa);return new Lc(e.firestore,e.converter,function(e,t){return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),t}(Wl);function tf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ef("startAt",t,!0)}function nf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ef("startAfter",t,!1)}var rf=function(e){function t(e,n,r){var i;return Object(f.a)(this,t),(i=Object(u.a)(this,Object(s.a)(t).call(this))).type=e,i.ya=n,i.pa=r,i}return Object(c.a)(t,e),Object(h.a)(t,[{key:"_apply",value:function(e){var t=uf(e,this.type,this.ya,this.pa);return new Lc(e.firestore,e.converter,function(e,t){return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),t}(Wl);function af(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rf("endBefore",t,!1)}function of(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rf("endAt",t,!0)}function uf(e,t,n,r){if(n[0]=Object(y.v)(n[0]),n[0]instanceof Ll)return function(e,t,n,r,i){if(!r)throw new D(L.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=g(Yt(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ut(t,r.key));else{var c=r.data.field(s.field);if(Ke(c))throw new D(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new D(L.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Ut(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=vl(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new D(L.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new D(L.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!$t(e)&&-1!==c.indexOf("/"))throw new D(L.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ee.fromString(c));if(!re.isDocumentKey(l))throw new D(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new re(l);u.push(ut(t,f))}else{var h=jl(n,r,c);u.push(h)}}return new Ut(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function sf(e,t,n){if("string"==typeof(n=Object(y.v)(n))){if(""===n)throw new D(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$t(t)&&-1!==n.indexOf("/"))throw new D(L.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ee.fromString(n));if(!re.isDocumentKey(r))throw new D(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ut(e,new re(r))}if(n instanceof Rc)return ut(e,n._key);throw new D(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Tc(n),"."))}function cf(e,t){if(!Array.isArray(e)||0===e.length)throw new D(L.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new D(L.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function lf(e,t,n){if(!n.isEqual(t))throw new D(L.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ff={maxAttempts:5},hf=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(tt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(We(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw A()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ae(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r}},{key:"convertGeoPoint",value:function(e){return new sl(Ge(e.latitude),Ge(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return Ke(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(He(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=qe(e);return new J(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ee.fromString(e);N(qr(n));var r=new $e(n.get(1),n.get(3)),i=new re(n.popFirst(5));return r.isEqual(t)||T("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function df(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var pf=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this))).firestore=e,n}return Object(c.a)(t,e),Object(h.a)(t,[{key:"convertBytes",value:function(e){return new ol(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rc(this.firestore,null,t)}}]),t}(hf),vf=function(){function e(t,n){Object(f.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=vl(t)}return Object(h.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=yf(e,this._firestore),i=df(r.converter,t,n),a=yl(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,xn.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=yf(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(y.v)(t))||t instanceof al?xl(this._dataReader,"WriteBatch.update",i._key,t,n,o):Ol(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,xn.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=yf(e,this._firestore);return this._mutations=this._mutations.concat(new Un(t._key,xn.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new D(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function yf(e,t){if((e=Object(y.v)(e)).firestore!==t)throw new D(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function mf(e){e=Ic(e,Rc);var t=Ic(e.firestore,Kc);return wc(Hc(t),e._key).then(function(n){return Af(t,e,n)})}var gf=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this))).firestore=e,n}return Object(c.a)(t,e),Object(h.a)(t,[{key:"convertBytes",value:function(e){return new ol(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rc(this.firestore,null,t)}}]),t}(hf);function bf(e){e=Ic(e,Rc);var t=Ic(e.firestore,Kc),n=Hc(t),r=new gf(t);return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function r(){return k().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(o.a)(k().mark(function e(t,n,r){var i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=R(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.localDocuments.getDocument(e,t)})}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new D(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Mu(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,yc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._key).then(function(n){return new Ul(t,r,e._key,n,new Fl(null!==n&&n.hasLocalMutations,!0),e.converter)})}function kf(e){e=Ic(e,Rc);var t=Ic(e.firestore,Kc);return wc(Hc(t),e._key,{source:"server"}).then(function(n){return Af(t,e,n)})}function wf(e){e=Ic(e,Lc);var t=Ic(e.firestore,Kc),n=Hc(t),r=new gf(t);return Gl(e._query),_c(n,e._query).then(function(n){return new Bl(t,r,e,n)})}function _f(e){e=Ic(e,Lc);var t=Ic(e.firestore,Kc),n=Hc(t),r=new gf(t);return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function r(){return k().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(o.a)(k().mark(function e(t,n,r){var i,a,o,u,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yo(t,n,!0);case 3:i=e.sent,a=new ts(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Mu(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,yc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._query).then(function(n){return new Bl(t,r,e,n)})}function Of(e){e=Ic(e,Lc);var t=Ic(e.firestore,Kc),n=Hc(t),r=new gf(t);return _c(n,e._query,{source:"server"}).then(function(n){return new Bl(t,r,e,n)})}function xf(e,t,n){e=Ic(e,Rc);var r=Ic(e.firestore,Kc),i=df(e.converter,t,n);return Cf(r,[yl(vl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,xn.none())])}function jf(e,t,n){e=Ic(e,Rc);for(var r=Ic(e.firestore,Kc),i=vl(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Cf(r,[("string"==typeof(t=Object(y.v)(t))||t instanceof al?xl(i,"updateDoc",e._key,t,n,o):Ol(i,"updateDoc",e._key,t)).toMutation(e._key,xn.exists(!0))])}function Ef(e){return Cf(Ic(e.firestore,Kc),[new Un(e._key,xn.none())])}function Sf(e,t){var n=Ic(e.firestore,Kc),r=Uc(e),i=df(e.converter,t);return Cf(n,[yl(vl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xn.exists(!1))]).then(function(){return r})}function Tf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,u;e=Object(y.v)(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||qc(n[c])||(s=n[c],c++);var l,f,h,d={includeMetadataChanges:s.includeMetadataChanges};if(qc(n[c])){var p=n[c];n[c]=null===(i=p.next)||void 0===i?void 0:i.bind(p),n[c+1]=null===(a=p.error)||void 0===a?void 0:a.bind(p),n[c+2]=null===(u=p.complete)||void 0===u?void 0:u.bind(p)}if(e instanceof Rc)f=Ic(e.firestore,Kc),h=Kt(e._key.path),l={next:function(t){n[c]&&n[c](Af(f,e,t))},error:n[c+1],complete:n[c+2]};else{var v=Ic(e,Lc);f=Ic(v.firestore,Kc),h=v._query;var m=new gf(f);l={next:function(e){n[c]&&n[c](new Bl(f,m,v,e))},error:n[c+1],complete:n[c+2]},Gl(e._query)}return function(e,t,n,r){var i=new nc(l),a=new Qu(t,i,n);return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qu,t.next=3,bc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wu,t.next=3,bc(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(Hc(f),h,d)}function If(e,t){return function(e,t){var n=new nc(t);return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){R(e).Tu.add(t),t.next()},t.next=3,bc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function t(){return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){R(e).Tu.delete(t)},t.next=3,bc(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(Hc(e=Ic(e,Kc)),qc(t)?t:{next:t})}function Cf(e,t){return function(e,t){var n=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function r(){return k().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=fs,r.next=3,gc(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(Hc(e),t)}function Af(e,t,n){var r=n.docs.get(t._key),i=new gf(e);return new Ul(e,i,t._key,r,new Fl(n.hasPendingWrites,n.fromCache),t.converter)}var Nf=function(e){function t(e,n){var r;return Object(f.a)(this,t),(r=Object(u.a)(this,Object(s.a)(t).call(this,e,n)))._firestore=e,r}return Object(c.a)(t,e),Object(h.a)(t,[{key:"get",value:function(e){var n=this,r=yf(e,this._firestore),a=new gf(this._firestore);return Object(i.a)(Object(s.a)(t.prototype),"get",this).call(this,e).then(function(e){return new Ul(n._firestore,a,r._key,e._document,new Fl(!1,!1),r.converter)})}}]),t}(function(){function e(t,n){Object(f.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=vl(t)}return Object(h.a)(e,[{key:"get",value:function(e){var t=this,n=yf(e,this._firestore),r=new pf(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return A();var i=e[0];if(i.isFoundDocument())return new Ll(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ll(t._firestore,r,n._key,null,n.converter);throw A()})}},{key:"set",value:function(e,t,n){var r=yf(e,this._firestore),i=df(r.converter,t,n),a=yl(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=yf(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(y.v)(t))||t instanceof al?xl(this._dataReader,"Transaction.update",i._key,t,n,o):Ol(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=yf(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Pf(e,t,n){e=Ic(e,Kc);var r=Object.assign(Object.assign({},ff),n);return function(e){if(r.maxAttempts<1)throw new D(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}(),function(e,t,n){var r=new M;return e.asyncQueue.enqueueAndForget(Object(o.a)(k().mark(function i(){var a;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return dc(e).then(function(e){return e.datastore})}(e);case 2:a=i.sent,new ac(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}},i)}))),r.promise}(Hc(e),function(n){return t(new Nf(e,n))},r)}function Rf(){return new ml("deleteField")}function Lf(){return new bl("serverTimestamp")}function Df(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kl("arrayUnion",t)}function Mf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wl("arrayRemove",t)}function Ff(e){return new _l("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){O=e}(d.SDK_VERSION),Object(d._registerComponent)(new p.a("firestore",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Kc(i,new B(e.getProvider("auth-internal")),new W(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC")),Object(d.registerVersion)(w,"3.4.10",void 0),Object(d.registerVersion)(w,"3.4.10","esm2017")}()}).call(this,n(69))},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(4),i=n(146),a=n(32);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce(function(e,t){return e&&e[t]?e[t]:null},e);if(null!=r)return r}return t.split(".").reduce(function(e,t){return e&&null!=e[t]?e[t]:null},e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r)),r}t.a=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return Object(a.b)(e,n,function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":Object(i.a)(e)),e)),!1===s?n:Object(r.a)({},s,n)})};return f.propTypes={},f.filterProps=[t],f}},function(e,t,n){"use strict";var r=n(61);var i=n(62);function a(e,t){return Object(r.a)(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||Object(i.a)()}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return Hi}),n.d(t,"b",function(){return Qi}),n.d(t,"c",function(){return Ft}),n.d(t,"d",function(){return Xi}),n.d(t,"e",function(){return Ka}),n.d(t,"f",function(){return _}),n.d(t,"g",function(){return ui}),n.d(t,"h",function(){return ci}),n.d(t,"i",function(){return na}),n.d(t,"j",function(){return Ja}),n.d(t,"k",function(){return eo}),n.d(t,"l",function(){return wa}),n.d(t,"m",function(){return Oa}),n.d(t,"n",function(){return Ba}),n.d(t,"o",function(){return Ya}),n.d(t,"p",function(){return $a}),n.d(t,"q",function(){return ca}),n.d(t,"r",function(){return Xa}),n.d(t,"s",function(){return Za}),n.d(t,"t",function(){return ro}),n.d(t,"u",function(){return Ia}),n.d(t,"v",function(){return Aa}),n.d(t,"w",function(){return ga}),n.d(t,"x",function(){return pa}),n.d(t,"y",function(){return va}),n.d(t,"z",function(){return ya}),n.d(t,"A",function(){return ma}),n.d(t,"B",function(){return da}),n.d(t,"C",function(){return Pa}),n.d(t,"D",function(){return La}),n.d(t,"E",function(){return Ma}),n.d(t,"F",function(){return Ua}),n.d(t,"G",function(){return ra}),n.d(t,"H",function(){return za}),n.d(t,"I",function(){return ea}),n.d(t,"J",function(){return ta}),n.d(t,"K",function(){return ia}),n.d(t,"L",function(){return ao}),n.d(t,"M",function(){return no}),n.d(t,"N",function(){return aa}),n.d(t,"O",function(){return oa}),n.d(t,"P",function(){return ua}),n.d(t,"Q",function(){return Sa}),n.d(t,"R",function(){return ja}),n.d(t,"S",function(){return sa});var r=n(14),i=n(2),a=n(28),o=n(9),u=n(7),s=n(8),c=n(17),l=n(1),f=n(3),h=n(10),d=n(16),p=n(0),v=n(18);function y(){y=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=d.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(g,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),u(g,o,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function m(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b="@firebase/database",k="0.13.1",w="";function _(e){w=e}var O=function(){function e(t){Object(l.a)(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Object(f.a)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(p.T)(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(p.M)(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),x=function(){function e(){Object(l.a)(this,e),this.cache_={},this.isInMemoryStorage=!0}return Object(f.a)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Object(p.m)(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),j=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new O(t)}}catch(n){}return new x},E=j("localStorage"),S=j("sessionStorage"),T=new v.b("@firebase/database"),I=function(){var e=1;return function(){return e++}}(),C=function(e){var t=Object(p.S)(e),n=new p.d;n.update(t);var r=n.digest();return p.h.encodeByteArray(r)},A=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Object(p.T)(r):r,t+=" "}return t},N=null,P=!0,R=function(e,t){Object(p.f)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(T.logLevel=v.a.VERBOSE,N=T.log.bind(T),t&&S.set("logging_enabled",!0)):"function"===typeof e?N=e:(N=null,S.remove("logging_enabled"))},L=function(){if(!0===P&&(P=!1,null===N&&!0===S.get("logging_enabled")&&R(!0)),N){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=A.apply(null,t);N(r)}},D=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];L.apply(void 0,[e].concat(n))}},M=function(){var e="FIREBASE INTERNAL ERROR: "+A.apply(void 0,arguments);T.error(e)},F=function(){var e="FIREBASE FATAL ERROR: ".concat(A.apply(void 0,arguments));throw T.error(e),new Error(e)},U=function(){var e="FIREBASE WARNING: "+A.apply(void 0,arguments);T.warn(e)},V=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},B="[MIN_NAME]",z="[MAX_NAME]",q=function(e,t){if(e===t)return 0;if(e===B||t===z)return-1;if(t===B||e===z)return 1;var n=J(e),r=J(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},G=function(e,t){return e===t?0:e<t?-1:1},W=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(p.T)(t))},K=function e(t){if("object"!==typeof t||null===t)return Object(p.T)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(p.T)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},H=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Q(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var $=function(e){Object(p.f)(!V(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var o=[];for(a=52;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var u=o.join(""),s="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),s+=c}return s.toLowerCase()};var Y=new RegExp("^-?(0*)\\d{1,10}$"),J=function(e){if(Y.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},X=function(e){try{e()}catch(t){setTimeout(function(){var e=t.stack||"";throw U("Exception was thrown by user callback.",e),t},Math.floor(0))}},Z=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ee=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},te=function(){function e(t,n){var r=this;Object(l.a)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then(function(e){return r.appCheck=e})}return Object(f.a)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(n,r){setTimeout(function(){t.appCheck?t.getToken(e).then(n,r):n(null)},0)})}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(function(t){return t.addTokenListener(e)})}},{key:"notifyForInvalidToken",value:function(){U('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),ne=function(){function e(t,n,r){var i=this;Object(l.a)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(e){return i.auth_=e})}return Object(f.a)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch(function(e){return e&&"auth/token-not-initialized"===e.code?(L("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):new Promise(function(n,r){setTimeout(function(){t.auth_?t.getToken(e).then(n,r):n(null)},0)})}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)})}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',U(e)}}]),e}(),re=function(){function e(t){Object(l.a)(this,e),this.accessToken=t}return Object(f.a)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();re.OWNER="owner";var ie=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ae="ac",oe="websocket",ue="long_polling",se=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Object(l.a)(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=E.get("host:"+t)||this._host}return Object(f.a)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&E.set("host:"+this._host,this.internalHost))}}]),e}();function ce(e,t,n){var r;if(Object(p.f)("string"===typeof t,"typeof type must == string"),Object(p.f)("object"===typeof n,"typeof params must == object"),t===oe)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ue)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Q(n,function(e,t){i.push(e+"="+t)}),r+i.join("&")}var le=function(){function e(){Object(l.a)(this,e),this.counters_={}}return Object(f.a)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(p.m)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Object(p.p)(this.counters_)}}]),e}(),fe={},he={};function de(e){var t=e.toString();return fe[t]||(fe[t]=new le),fe[t]}var pe=function(){function e(t){Object(l.a)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Object(f.a)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&X(function(){n.onMessage_(e[t])})},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),ve="pLPCommand",ye="pRTLPCB",me=function(){function e(t,n,r,i,a,o,u){var s=this;Object(l.a)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=D(t),this.stats_=de(n),this.urlFn=function(e){return s.appCheckToken&&(e[ae]=s.appCheckToken),ce(n,ue,e)}}return Object(f.a)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new pe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Object(p.G)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new ge(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)},function(){n.onClosed_()},n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[ae]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ie.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Object(p.T)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(p.j)(t),r=H(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Object(p.G)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Object(p.T)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Object(p.G)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),ge=function(){function e(t,n,r,i){if(Object(l.a)(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(p.G)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=I(),window[ve+this.uniqueCallbackIdentifier]=t,window[ye+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){L("frame writing exception"),u.stack&&L(u.stack),L(u)}}}return Object(f.a)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(i),r()})}},{key:"addTag",value:function(e,t){var n=this;Object(p.G)()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){L("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||L("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),be=null;"undefined"!==typeof MozWebSocket?be=MozWebSocket:"undefined"!==typeof WebSocket&&(be=WebSocket);var ke=function(){function t(e,n,r,i,a,o,u){Object(l.a)(this,t),this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=D(this.connId),this.stats_=de(n),this.connURL=t.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}return Object(f.a)(t,[{key:"open",value:function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,E.set("previous_websocket_failure",!0);try{if(Object(p.G)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/".concat("5","/").concat(w,"/").concat(e.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=Object({NODE_ENV:"production",PUBLIC_URL:""}),u=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;u&&(a.proxy={origin:u})}this.mySock=new be(this.connURL,[],void 0)}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){E.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(p.M)(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Object(p.f)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Object(p.T)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=H(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={v:"5"};return!Object(p.G)()&&"undefined"!==typeof location&&location.hostname&&ie.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[ae]=r),i&&(a.p=i),ce(e,oe,a)}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==be&&!t.forceDisallow_}},{key:"previouslyFailed",value:function(){return E.isInMemoryStorage||!0===E.get("previous_websocket_failure")}}]),t}();ke.responsesRequiredToBeHealthy=2,ke.healthyTimeout=3e4;var we=function(){function e(t){Object(l.a)(this,e),this.initTransports_(t)}return Object(f.a)(e,[{key:"initTransports_",value:function(t){var n=ke&&ke.isAvailable(),r=n&&!ke.previouslyFailed();if(t.webSocketOnly&&(n||U("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ke];else{var i,a=this.transports_=[],o=m(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[me,ke]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();we.globalTransportInitialized_=!1;var _e=function(){function e(t,n,r,i,a,o,u,s,c,f){Object(l.a)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=D("c:"+this.id+":"),this.transportManager_=new we(n),this.log_("Connection created"),this.start_()}return Object(f.a)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ee(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=W("t",e),n=W("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=W("t",e),n=W("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=W("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?M("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&U("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ee(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ee(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(E.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Oe=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),xe=function(){function e(t){Object(l.a)(this,e),this.allowedEvents_=t,this.listeners_={},Object(p.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Object(f.a)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Object(c.a)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Object(p.f)(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)}}]),e}(),je=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this,["online"]))).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(p.E)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(s.a)(t,e),Object(f.a)(t,[{key:"getInitialEvent",value:function(e){return Object(p.f)("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new t}}]),t}(xe),Ee=32,Se=768,Te=function(){function e(t,n){if(Object(l.a)(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object(f.a)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Ie(){return new Te("")}function Ce(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ae(e){return e.pieces_.length-e.pieceNum_}function Ne(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Te(e.pieces_,t)}function Pe(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Le(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Te(t,0)}function De(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Te)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Te(n,0)}function Me(e){return e.pieceNum_>=e.pieces_.length}function Fe(e,t){var n=Ce(e),r=Ce(t);if(null===n)return t;if(n===r)return Fe(Ne(e),Ne(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ue(e,t){for(var n=Re(e,0),r=Re(t,0),i=0;i<n.length&&i<r.length;i++){var a=q(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Ve(e,t){if(Ae(e)!==Ae(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Be(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ae(e)>Ae(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ze=function e(t,n){Object(l.a)(this,e),this.errorPrefix_=n,this.parts_=Re(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Object(p.R)(this.parts_[r]);qe(this)};function qe(e){if(e.byteLength_>Se)throw new Error(e.errorPrefix_+"has a key path longer than "+Se+" bytes ("+e.byteLength_+").");if(e.parts_.length>Ee)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ee+") or object contains a cycle "+Ge(e))}function Ge(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var We=function(e){function t(){var e,n,r;return Object(l.a)(this,t),e=Object(o.a)(this,Object(u.a)(t).call(this,["visible"])),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(r="visibilitychange",n="hidden"):"undefined"!==typeof document.mozHidden?(r="mozvisibilitychange",n="mozHidden"):"undefined"!==typeof document.msHidden?(r="msvisibilitychange",n="msHidden"):"undefined"!==typeof document.webkitHidden&&(r="webkitvisibilitychange",n="webkitHidden")),e.visible_=!0,r&&document.addEventListener(r,function(){var t=!document[n];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))},!1),e}return Object(s.a)(t,e),Object(f.a)(t,[{key:"getInitialEvent",value:function(e){return Object(p.f)("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new t}}]),t}(xe),Ke=1e3,He=3e5,Qe=function(e){function t(e,n,r,i,s,c,f,h){var d;if(Object(l.a)(this,t),(d=Object(o.a)(this,Object(u.a)(t).call(this))).repoInfo_=e,d.applicationId_=n,d.onDataUpdate_=r,d.onConnectStatus_=i,d.onServerInfoUpdate_=s,d.authTokenProvider_=c,d.appCheckTokenProvider_=f,d.authOverride_=h,d.id=t.nextPersistentConnectionId_++,d.log_=D("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=Ke,d.maxReconnectDelay_=He,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!Object(p.G)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return We.getInstance().on("visible",d.onVisible_,Object(a.a)(Object(a.a)(d))),-1===e.host.indexOf("fblocal")&&je.getInstance().on("online",d.onOnline_,Object(a.a)(Object(a.a)(d))),d}return Object(s.a)(t,e),Object(f.a)(t,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(p.T)(i)),Object(p.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new p.a,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(p.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(p.f)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}},{key:"sendListen_",value:function(e){var n=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,function(o){var u=o.d,s=o.s;t.warnOnListenWarnings_(u,r),(n.listens.get(i)&&n.listens.get(i).get(a))===e&&(n.log_("listen response",o),"ok"!==s&&n.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))})}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||Object(p.x)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(p.K)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)})}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(p.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Object(p.T)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):M("Unrecognized action received from server: "+Object(p.T)(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Object(p.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ke,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ke,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ke),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Object(i.a)(y().mark(function e(){var n,i,a,o,u,s,c,l,f,h,d,v,m,g,b=this;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,u=this.lastSessionId,s=!1,c=null,l=function(){c?c.close():(s=!0,a())},f=function(e){Object(p.f)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,v=Object(r.a)(d,2),m=v[0],g=v[1],s?L("getToken() completed but was canceled"):(L("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,c=new _e(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,a,function(e){U(e+" ("+b.repoInfo_.toString()+")"),b.interrupt("server_kill")},u)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&U(e.t0),l());case 30:case"end":return e.stop()}},e,this,[[16,26]])}));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){L("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){L("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(p.B)(this.interruptReasons_)&&(this.reconnectDelay_=Ke,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map(function(e){return K(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Te(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){L("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){L("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=m(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=m(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Object(p.G)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+w.replace(/\./g,"-")]=1,Object(p.E)()?e["framework.cordova"]=1:Object(p.H)()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=je.getInstance().currentlyOnline();return Object(p.B)(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Object(p.m)(e,"w")){var n=Object(p.Q)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();U("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),t}(Oe);Qe.nextPersistentConnectionId_=0,Qe.nextConnectionId_=0;var $e,Ye=function(){function e(t,n){Object(l.a)(this,e),this.name=t,this.node=n}return Object(f.a)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Je=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ye(B,e),r=new Ye(B,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ye.MIN}}]),e}(),Xe=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"compare",value:function(e,t){return q(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Object(p.g)("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ye.MIN}},{key:"maxPost",value:function(){return new Ye(z,$e)}},{key:"makePost",value:function(e,t){return Object(p.f)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ye(e,$e)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return $e},set:function(e){$e=e}}]),t}(Je),Ze=new Xe,et=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(l.a)(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Object(f.a)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),tt=function(){function e(t,n,r,i,a){Object(l.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:it.EMPTY_NODE,this.right=null!=a?a:it.EMPTY_NODE}return Object(f.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return it.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return it.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();tt.RED=!0,tt.BLACK=!1;var nt,rt=function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new tt(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),it=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Object(l.a)(this,e),this.comparator_=t,this.root_=n}return Object(f.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,tt.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,tt.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new et(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new et(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new et(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new et(this.root_,null,this.comparator_,!0,e)}}]),e}();function at(e,t){return q(e.name,t.name)}function ot(e,t){return q(e,t)}it.EMPTY_NODE=new rt;var ut,st,ct,lt=function(e){return"number"===typeof e?"number:"+$(e):"string:"+e},ft=function(e){if(e.isLeafNode()){var t=e.val();Object(p.f)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(p.m)(t,".sv"),"Priority must be a string or number.")}else Object(p.f)(e===nt||e.isEmpty(),"priority of unexpected type.");Object(p.f)(e===nt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ht=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Object(l.a)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(p.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ft(this.priorityNode_)}return Object(f.a)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Me(t)?this:".priority"===Ce(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Ce(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(p.f)(".priority"!==r||1===Ae(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+lt(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?$(this.value_):this.value_,this.lazyHash_=C(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(p.f)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(p.f)(i>=0,"Unknown leaf type: "+n),Object(p.f)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",set:function(e){ut=e},get:function(){return ut}}]),e}();ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];var dt,pt,vt=new(function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?q(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ye.MIN}},{key:"maxPost",value:function(){return new Ye(z,new ht("[PRIORITY-POST]",ct))}},{key:"makePost",value:function(e,t){var n=st(e);return new Ye(t,new ht("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),t}(Je)),yt=Math.log(2),mt=function(){function e(t){Object(l.a)(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/yt,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Object(f.a)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),gt=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,a=e.length,o=function(t,r){var i=a-t,o=a;a-=t;var s=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new tt(o,a.node,tt.BLACK,null,null);var s=parseInt(u/2,10)+r,c=t(r,s),l=t(s+1,i);return a=e[s],o=n?n(a):a,new tt(o,a.node,tt.BLACK,c,l)}(i+1,o),c=e[i],l=n?n(c):c;u(new tt(l,c.node,r,null,s))},u=function(e){r?(r.left=e,r=e):(i=e,r=e)},s=0;s<t.count;++s){var c=t.nextBitIsOne(),l=Math.pow(2,t.count-(s+1));c?o(l,tt.BLACK):(o(l,tt.BLACK),o(l,tt.RED))}return i}(new mt(e.length));return new it(r||t,i)},bt={},kt=function(){function e(t,n){Object(l.a)(this,e),this.indexes_=t,this.indexSet_=n}return Object(f.a)(e,[{key:"get",value:function(e){var t=Object(p.Q)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof it?t:null}},{key:"hasIndex",value:function(e){return Object(p.m)(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Object(p.f)(t!==Ze,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Ye.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?gt(i,t.getCompare()):bt;var s=t.toString(),c=Object.assign({},this.indexSet_);c[s]=t;var l=Object.assign({},this.indexes_);return l[s]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Object(p.N)(this.indexes_,function(e,i){var a=Object(p.Q)(r.indexSet_,i);if(Object(p.f)(a,"Missing index implementation for "+i),e===bt){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(Ye.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),gt(o,a.getCompare())}return bt}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Ye(t.name,c))),l.insert(t,t.node)}),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Object(p.N)(this.indexes_,function(e){if(e===bt)return e;var r=n.get(t.name);return r?e.remove(new Ye(t.name,r)):e}),this.indexSet_)}}],[{key:"Default",get:function(){return Object(p.f)(bt&&vt,"ChildrenNode.ts has not been loaded"),dt=dt||new e({".priority":bt},{".priority":vt})}}]),e}(),wt=function(){function e(t,n,r){Object(l.a)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ft(this.priorityNode_),this.children_.isEmpty()&&Object(p.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object(f.a)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||pt}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?pt:t}},{key:"getChild",value:function(e){var t=Ce(e);return null===t?this:this.getImmediateChild(t).getChild(Ne(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Object(p.f)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Ye(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?pt:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Ce(e);if(null===n)return t;Object(p.f)(".priority"!==Ce(e)||1===Ae(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ne(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(vt,function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1}),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+lt(this.getPriority().val())+":"),this.forEachChild(vt,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":C(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ye(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ye(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ye(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,Ye.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,Ye.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_t?-1:0}},{key:"withIndex",value:function(t){if(t===Ze||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Ze||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(vt),r=t.getIterator(vt),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Ze?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return pt||(pt=new e(new it(ot),null,kt.Default))}}]),e}();wt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var _t=new(function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,new it(ot),wt.EMPTY_NODE,kt.Default))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return wt.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),t}(wt));Object.defineProperties(Ye,{MIN:{value:new Ye(B,wt.EMPTY_NODE)},MAX:{value:new Ye(z,_t)}}),Xe.__EMPTY_NODE=wt.EMPTY_NODE,ht.__childrenNodeConstructor=wt,nt=_t,function(e){ct=e}(_t);var Ot=!0;function xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return wt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(p.f)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new ht(e,xt(t));if(e instanceof Array||!Ot){var n=wt.EMPTY_NODE;return Q(e,function(t,r){if(Object(p.m)(e,t)&&"."!==t.substring(0,1)){var i=xt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(xt(t))}var r=[],i=!1;if(Q(e,function(e,t){if("."!==e.substring(0,1)){var n=xt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ye(e,n)))}}),0===r.length)return wt.EMPTY_NODE;var a=gt(r,at,function(e){return e.name},ot);if(i){var o=gt(r,vt.getCompare());return new wt(a,xt(t),new kt({".priority":o},{".priority":vt}))}return new wt(a,xt(t),kt.Default)}!function(e){st=e}(xt);var jt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this))).indexPath_=e,Object(p.f)(!Me(e)&&".priority"!==Ce(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(s.a)(t,e),Object(f.a)(t,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?q(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=xt(e),r=wt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ye(t,r)}},{key:"maxPost",value:function(){var e=wt.EMPTY_NODE.updateChild(this.indexPath_,_t);return new Ye(z,e)}},{key:"toString",value:function(){return Re(this.indexPath_,0).join("/")}}]),t}(Je),Et=new(function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?q(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ye.MIN}},{key:"maxPost",value:function(){return Ye.MAX}},{key:"makePost",value:function(e,t){var n=xt(e);return new Ye(t,n)}},{key:"toString",value:function(){return".value"}}]),t}(Je)),St="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Tt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=St.charAt(n%64),n=Math.floor(n/64);Object(p.f)(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=St.charAt(t[r]);return Object(p.f)(20===o.length,"nextPushId: Length should be 20."),o}}(),It=function(e){if("2147483647"===e)return"-";var t=J(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return z;var a=n[i],o=St.charAt(St.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},Ct=function(e){if("-2147483648"===e)return B;var t=J(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=St.charAt(St.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function At(e){return{type:"value",snapshotNode:e}}function Nt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Pt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Rt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Lt=function(){function e(t){Object(l.a)(this,e),this.index_=t}return Object(f.a)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Object(p.f)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Pt(t,o)):Object(p.f)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Nt(t,n)):a.trackChildChange(Rt(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(vt,function(e,r){t.hasChild(e)||n.trackChildChange(Pt(e,r))}),t.isLeafNode()||t.forEachChild(vt,function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Rt(t,r,i))}else n.trackChildChange(Nt(t,r))})),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?wt.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Dt=function(){function e(t){Object(l.a)(this,e),this.indexedFilter_=new Lt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return Object(f.a)(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Ye(t,n))||(n=wt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=wt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(wt.EMPTY_NODE);var i=this;return t.forEachChild(vt,function(e,t){i.matches(new Ye(e,t))||(r=r.updateImmediateChild(e,wt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Mt=function(){function e(t){Object(l.a)(this,e),this.rangedFilter_=new Dt(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return Object(f.a)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Ye(t,n))||(n=wt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=wt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=wt.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var u,s,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(wt.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(u,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,s)<=0?h++:r=r.updateImmediateChild(p.name,wt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var u=e;Object(p.f)(u.numChildren()===this.limit_,"");var s=new Ye(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,s);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Rt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Pt(t,f));var v=u.updateImmediateChild(t,wt.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Nt(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}return n.isEmpty()?e:l&&a(c,s)>=0?(null!=i&&(i.trackChildChange(Pt(c.name,c.node)),i.trackChildChange(Nt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,wt.EMPTY_NODE)):e}}]),e}(),Ft=function(){function e(){Object(l.a)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vt}return Object(f.a)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Object(p.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Object(p.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:B}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Object(p.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Object(p.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:z}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Object(p.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===vt}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Ut(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Vt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Bt(e,t){var n=e.copy();return n.index_=t,n}function zt(e){var t,n={};return e.isDefault()?n:(e.index_===vt?t="$priority":e.index_===Et?t="$value":e.index_===Ze?t="$key":(Object(p.f)(e.index_ instanceof jt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(p.T)(t),e.startSet_&&(n.startAt=Object(p.T)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(p.T)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(p.T)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(p.T)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n)}function qt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==vt&&(t.i=e.index_.toString()),t}var Gt=function(e){function t(e,n,r,i){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this))).repoInfo_=e,a.onDataUpdate_=n,a.authTokenProvider_=r,a.appCheckTokenProvider_=i,a.log_=D("p:rest:"),a.listens_={},a}return Object(s.a)(t,e),Object(f.a)(t,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,n,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=t.getListenId_(e,r),s={};this.listens_[u]=s;var c=zt(e._queryParams);this.restRequest_(o+".json",c,function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Object(p.Q)(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})}},{key:"unlisten",value:function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=zt(e._queryParams),r=e._path.toString(),i=new p.a;return this.restRequest_(r+".json",n,function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var o=Object(r.a)(a,2),u=o[0],s=o[1];u&&u.accessToken&&(n.auth=u.accessToken),s&&s.token&&(n.ac=s.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Object(p.O)(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(i&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Object(p.M)(l.responseText)}catch(n){U("Failed to parse JSON response for "+c+": "+l.responseText)}i(null,e)}else 401!==l.status&&404!==l.status&&U("Got unsuccessful REST response for "+c+" Status: "+l.status),i(l.status);i=null}},l.open("GET",c,!0),l.send()})}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Object(p.f)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),t}(Oe),Wt=function(){function e(){Object(l.a)(this,e),this.rootNode_=wt.EMPTY_NODE}return Object(f.a)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Kt(){return{value:null,children:new Map}}function Ht(e,t,n){if(Me(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Ce(t);e.children.has(r)||e.children.set(r,Kt()),Ht(e.children.get(r),t=Ne(t),n)}}function Qt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(function(e,n){t(n,e)})}(e,function(e,r){Qt(r,new Te(t.toString()+"/"+e),n)})}var $t,Yt=function(){function e(t){Object(l.a)(this,e),this.collection_=t,this.last_=null}return Object(f.a)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Q(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t}}]),e}(),Jt=1e4,Xt=3e4,Zt=function(){function e(t,n){Object(l.a)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Yt(t);var r=Jt+(Xt-Jt)*Math.random();ee(this.reportStats_.bind(this),Math.floor(r))}return Object(f.a)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Q(t,function(t,i){i>0&&Object(p.m)(e.statsToReport_,t)&&(n[t]=i,r=!0)}),r&&this.server_.reportStats(n),ee(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function en(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}($t||($t={}));var tn,nn=function(){function e(t,n,r){Object(l.a)(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=$t.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Object(f.a)(e,[{key:"operationForChild",value:function(t){if(Me(this.path)){if(null!=this.affectedTree.value)return Object(p.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Te(t));return new e(Ie(),n,this.revert)}return Object(p.f)(Ce(this.path)===t,"operationForChild called for unrelated child."),new e(Ne(this.path),this.affectedTree,this.revert)}}]),e}(),rn=function(){function e(t,n){Object(l.a)(this,e),this.source=t,this.path=n,this.type=$t.LISTEN_COMPLETE}return Object(f.a)(e,[{key:"operationForChild",value:function(t){return Me(this.path)?new e(this.source,Ie()):new e(this.source,Ne(this.path))}}]),e}(),an=function(){function e(t,n,r){Object(l.a)(this,e),this.source=t,this.path=n,this.snap=r,this.type=$t.OVERWRITE}return Object(f.a)(e,[{key:"operationForChild",value:function(t){return Me(this.path)?new e(this.source,Ie(),this.snap.getImmediateChild(t)):new e(this.source,Ne(this.path),this.snap)}}]),e}(),on=function(){function e(t,n,r){Object(l.a)(this,e),this.source=t,this.path=n,this.children=r,this.type=$t.MERGE}return Object(f.a)(e,[{key:"operationForChild",value:function(t){if(Me(this.path)){var n=this.children.subtree(new Te(t));return n.isEmpty()?null:n.value?new an(this.source,Ie(),n.value):new e(this.source,Ie(),n)}return Object(p.f)(Ce(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ne(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),un=function(){function e(t,n,r){Object(l.a)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Object(f.a)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Me(e))return this.isFullyInitialized()&&!this.filtered_;var t=Ce(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),sn=function e(t){Object(l.a)(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()};function cn(e,t,n,r,i,a){var o=r.filter(function(e){return e.type===n});o.sort(function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(p.g)("Should only compare child_ events.");var r=new Ye(t.childName,t.snapshotNode),i=new Ye(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)}),o.forEach(function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_),t)}(e,n,a);i.forEach(function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function ln(e,t){return{eventCache:e,serverCache:t}}function fn(e,t,n,r){return ln(new un(t,n,r),e.serverCache)}function hn(e,t,n,r){return ln(e.eventCache,new un(t,n,r))}function dn(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function pn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var vn=function(){return tn||(tn=new it(G)),tn},yn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn();Object(l.a)(this,e),this.value=t,this.children=n}return Object(f.a)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Ie(),value:this.value};if(Me(e))return null;var n=Ce(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ne(e),t);return null!=i?{path:De(new Te(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})}},{key:"subtree",value:function(t){if(Me(t))return this;var n=Ce(t),r=this.children.get(n);return null!==r?r.subtree(Ne(t)):new e(null)}},{key:"set",value:function(t,n){if(Me(t))return new e(n,this.children);var r=Ce(t),i=(this.children.get(r)||new e(null)).set(Ne(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Me(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Ce(t),r=this.children.get(n);if(r){var i,a=r.remove(Ne(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Me(e))return this.value;var t=Ce(e),n=this.children.get(t);return n?n.get(Ne(e)):null}},{key:"setTree",value:function(t,n){if(Me(t))return n;var r,i=Ce(t),a=(this.children.get(i)||new e(null)).setTree(Ne(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Ie(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(De(e,r),t)}),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Ie(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Me(e))return null;var i=Ce(e),a=this.children.get(i);return a?a.findOnPath_(Ne(e),De(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Ie(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Me(t))return this;this.value&&r(n,this.value);var i=Ce(t),a=this.children.get(i);return a?a.foreachOnPath_(Ne(t),De(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Ie(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(De(e,n),t)}),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})}}],[{key:"fromObject",value:function(t){var n=new e(null);return Q(t,function(e,t){n=n.set(new Te(e),t)}),n}}]),e}(),mn=function(){function e(t){Object(l.a)(this,e),this.writeTree_=t}return Object(f.a)(e,null,[{key:"empty",value:function(){return new e(new yn(null))}}]),e}();function gn(e,t,n){if(Me(t))return new mn(new yn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Fe(i,t);return a=a.updateChild(o,n),new mn(e.writeTree_.set(i,a))}var u=new yn(n),s=e.writeTree_.setTree(t,u);return new mn(s)}function bn(e,t,n){var r=e;return Q(n,function(e,n){r=gn(r,De(t,e),n)}),r}function kn(e,t){if(Me(t))return mn.empty();var n=e.writeTree_.setTree(t,new yn(null));return new mn(n)}function wn(e,t){return null!=_n(e,t)}function _n(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Fe(n.path,t)):null}function On(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(vt,function(e,n){t.push(new Ye(e,n))}):e.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new Ye(e,n.value))}),t}function xn(e,t){if(Me(t))return e;var n=_n(e,t);return new mn(null!=n?new yn(n):e.writeTree_.subtree(t))}function jn(e){return e.writeTree_.isEmpty()}function En(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal(function(n,a){".priority"===n?(Object(p.f)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(De(t,n),a,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(De(t,".priority"),i)),r}(Ie(),e.writeTree_,t)}function Sn(e,t){return Vn(t,e)}function Tn(e,t){var n=e.allWrites.findIndex(function(e){return e.writeId===t});Object(p.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&In(u,r.path)?i=!1:Be(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=An(e.allWrites,Cn,Ie()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=kn(e.visibleWrites,r.path):Q(r.children,function(t){e.visibleWrites=kn(e.visibleWrites,De(r.path,t))});return!0}return!1}function In(e,t){if(e.snap)return Be(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Be(De(e.path,n),t))return!0;return!1}function Cn(e){return e.visible}function An(e,t,n){for(var r=mn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)Be(n,o)?r=gn(r,u=Fe(n,o),a.snap):Be(o,n)&&(u=Fe(o,n),r=gn(r,Ie(),a.snap.getChild(u)));else{if(!a.children)throw Object(p.g)("WriteRecord should have .snap or .children");if(Be(n,o))r=bn(r,u=Fe(n,o),a.children);else if(Be(o,n))if(Me(u=Fe(o,n)))r=bn(r,Ie(),a.children);else{var s=Object(p.Q)(a.children,Ce(u));if(s){var c=s.getChild(Ne(u));r=gn(r,Ie(),c)}}}}}return r}function Nn(e,t,n,r,i){if(r||i){var a=xn(e.visibleWrites,t);if(!i&&jn(a))return n;if(i||null!=n||wn(a,Ie())){return En(An(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Be(e.path,t)||Be(t,e.path))},t),n||wt.EMPTY_NODE)}return null}var o=_n(e.visibleWrites,t);if(null!=o)return o;var u=xn(e.visibleWrites,t);return jn(u)?n:null!=n||wn(u,Ie())?En(u,n||wt.EMPTY_NODE):null}function Pn(e,t,n,r){return Nn(e.writeTree,e.treePath,t,n,r)}function Rn(e,t){return function(e,t,n){var r=wt.EMPTY_NODE,i=_n(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(vt,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(n){var a=xn(e.visibleWrites,t);return n.forEachChild(vt,function(e,t){var n=En(xn(a,new Te(e)),t);r=r.updateImmediateChild(e,n)}),On(a).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}return On(xn(e.visibleWrites,t)).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function Ln(e,t,n,r){return function(e,t,n,r,i){Object(p.f)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=De(t,n);if(wn(e.visibleWrites,a))return null;var o=xn(e.visibleWrites,a);return jn(o)?i.getChild(n):En(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Dn(e,t){return function(e,t){return _n(e.visibleWrites,t)}(e.writeTree,De(e.treePath,t))}function Mn(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=xn(e.visibleWrites,t),c=_n(s,Ie());if(null!=c)u=c;else{if(null==n)return[];u=En(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Fn(e,t,n){return function(e,t,n,r){var i=De(t,n),a=_n(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?En(xn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Un(e,t){return Vn(De(e.treePath,t),e.writeTree)}function Vn(e,t){return{treePath:e,writeTree:t}}var Bn=function(){function e(){Object(l.a)(this,e),this.changeMap=new Map}return Object(f.a)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Object(p.f)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(p.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Rt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Pt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Nt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(p.g)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Rt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),zn=new(function(){function e(){Object(l.a)(this,e)}return Object(f.a)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),qn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(l.a)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Object(f.a)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new un(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fn(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:pn(this.viewCache_),i=Mn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Gn(e,t,n,r,i){var a,o,u=new Bn;if(n.type===$t.OVERWRITE){var s=n;s.source.fromUser?a=Hn(e,t,s.path,s.snap,r,i,u):(Object(p.f)(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!Me(s.path),a=Kn(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===$t.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach(function(r,s){var c=De(n,r);Qn(t,Ce(c))&&(u=Hn(e,u,c,s,i,a,o))}),r.foreach(function(r,s){var c=De(n,r);Qn(t,Ce(c))||(u=Hn(e,u,c,s,i,a,o))}),u}(e,t,c.path,c.children,r,i,u):(Object(p.f)(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Yn(e,t,c.path,c.children,r,i,o,u))}else if(n.type===$t.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Dn(r,n))return t;var u,s=new qn(r,t,i),c=t.eventCache.getNode();if(Me(n)||".priority"===Ce(n)){var l;if(t.serverCache.isFullyInitialized())l=Pn(r,pn(t));else{var f=t.serverCache.getNode();Object(p.f)(f instanceof wt,"serverChildren would be complete if leaf node"),l=Rn(r,f)}l=l,u=e.filter.updateFullNode(c,l,a)}else{var h=Ce(n),d=Fn(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(u=null!=d?e.filter.updateChild(c,h,d,Ne(n),s,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,wt.EMPTY_NODE,Ne(n),s,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Pn(r,pn(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Dn(r,Ie()),fn(t,u,o,e.filter.filtersNodes())}(e,t,l.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=Dn(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(Me(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return Kn(e,t,n,s.getNode().getChild(n),i,a,u,o);if(Me(n)){var c=new yn(null);return s.getNode().forEachChild(Ze,function(e,t){c=c.set(new Te(e),t)}),Yn(e,t,n,c,i,a,u,o)}return t}var l=new yn(null);return r.foreach(function(e,t){var r=De(n,e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))}),Yn(e,t,n,l,i,a,u,o)}(e,t,l.path,l.affectedTree,r,i,u)}else{if(n.type!==$t.LISTEN_COMPLETE)throw Object(p.g)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=hn(t,a.getNode(),a.isFullyInitialized()||Me(n),a.isFiltered());return Wn(e,o,n,r,zn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=dn(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(At(dn(t)))}}(t,a,f),{viewCache:a,changes:f}}function Wn(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=Dn(r,n))return t;if(Me(n))if(Object(p.f)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=pn(t),l=Rn(r,c instanceof wt?c:wt.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Pn(r,pn(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Ce(n);if(".priority"===h){Object(p.f)(1===Ae(n),"Can't have a priority with additional path components");var d=s.getNode(),v=Ln(r,n,d,u=t.serverCache.getNode());o=null!=v?e.filter.updatePriority(d,v):s.getNode()}else{var y,m=Ne(n);if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var g=Ln(r,n,s.getNode(),u);y=null!=g?s.getNode().getImmediateChild(h).updateChild(m,g):s.getNode().getImmediateChild(h)}else y=Fn(r,h,t.serverCache);o=null!=y?e.filter.updateChild(s.getNode(),h,y,m,i,a):s.getNode()}}return fn(t,o,s.isFullyInitialized()||Me(n),e.filter.filtersNodes())}function Kn(e,t,n,r,i,a,o,u){var s,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Me(n))s=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);s=l.updateFullNode(c.getNode(),f,null)}else{var h=Ce(n);if(!c.isCompleteForPath(n)&&Ae(n)>1)return t;var d=Ne(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);s=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,zn,null)}var v=hn(t,s,c.isFullyInitialized()||Me(n),l.filtersNodes());return Wn(e,v,n,i,new qn(i,v,a),u)}function Hn(e,t,n,r,i,a,o){var u,s,c=t.eventCache,l=new qn(i,t,a);if(Me(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=fn(t,s,!0,e.filter.filtersNodes());else{var f=Ce(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=fn(t,s,c.isFullyInitialized(),c.isFiltered());else{var h,d=Ne(n),p=c.getNode().getImmediateChild(f);if(Me(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Pe(d)&&v.getChild(Le(d)).isEmpty()?v:v.updateChild(d,r):wt.EMPTY_NODE}if(p.equals(h))u=t;else u=fn(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return u}function Qn(e,t){return e.eventCache.isCompleteForChild(t)}function $n(e,t,n){return n.foreach(function(e,n){t=t.updateChild(e,n)}),t}function Yn(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,c=t;s=Me(n)?r:new yn(null).setTree(n,r);var l=t.serverCache.getNode();return s.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var s=$n(0,t.serverCache.getNode().getImmediateChild(n),r);c=Kn(e,c,new Te(n),s,i,a,o,u)}}),s.children.inorderTraversal(function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!s){var f=$n(0,t.serverCache.getNode().getImmediateChild(n),r);c=Kn(e,c,new Te(n),f,i,a,o,u)}}),c}var Jn,Xn=function(){function e(t,n){Object(l.a)(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Lt(i.getIndex()),o=(r=i).loadsAllData()?new Lt(r.getIndex()):r.hasLimit()?new Mt(r):new Dt(r);this.processor_=function(e){return{filter:e}}(o);var u=n.serverCache,s=n.eventCache,c=a.updateFullNode(wt.EMPTY_NODE,u.getNode(),null),f=o.updateFullNode(wt.EMPTY_NODE,s.getNode(),null),h=new un(c,u.isFullyInitialized(),a.filtersNodes()),d=new un(f,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=ln(d,h),this.eventGenerator_=new sn(this.query_)}return Object(f.a)(e,[{key:"query",get:function(){return this.query_}}]),e}();function Zn(e,t){var n=pn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Me(t)&&!n.getImmediateChild(Ce(t)).isEmpty())?n.getChild(t):null}function er(e){return 0===e.eventRegistrations_.length}function tr(e,t,n){var r=[];if(n){Object(p.f)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var u=e.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function nr(e,t,n,r){t.type===$t.MERGE&&null!==t.source.queryId&&(Object(p.f)(pn(e.viewCache_),"We should always have a full cache before handling merges"),Object(p.f)(dn(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=Gn(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,Object(p.f)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(p.f)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(p.f)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,rr(e,u.changes,u.viewCache.eventCache.getNode(),null)}function rr(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach(function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),cn(e,i,"child_removed",t,r,n),cn(e,i,"child_added",t,r,n),cn(e,i,"child_moved",a,r,n),cn(e,i,"child_changed",t,r,n),cn(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var ir,ar=function e(){Object(l.a)(this,e),this.views=new Map};function or(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Object(p.f)(null!=a,"SyncTree gave us an op for an invalid query."),nr(a,t,n,r)}var o,u=[],s=m(e.views.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u=u.concat(nr(c,t,n,r))}}catch(l){s.e(l)}finally{s.f()}return u}function ur(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var u=Pn(n,i?r:null),s=!1;u?s=!0:r instanceof wt?(u=Rn(n,r),s=!1):(u=wt.EMPTY_NODE,s=!1);var c=ln(new un(u,s,!1),new un(r,i,!1));return new Xn(t,c)}return o}function sr(e,t,n,r,i,a){var o=ur(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(vt,function(e,t){r.push(Nt(e,t))}),n.isFullyInitialized()&&r.push(At(n.getNode())),rr(e,r,n.getNode(),t)}(o,n)}function cr(e,t,n,i){var a=t._queryIdentifier,o=[],u=[],s=pr(e);if("default"===a){var c,l=m(e.views.entries());try{for(l.s();!(c=l.n()).done;){var f=Object(r.a)(c.value,2),h=f[0],d=f[1];u=u.concat(tr(d,n,i)),er(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||o.push(d.query))}}catch(y){l.e(y)}finally{l.f()}}else{var v=e.views.get(a);v&&(u=u.concat(tr(v,n,i)),er(v)&&(e.views.delete(a),v.query._queryParams.loadsAllData()||o.push(v.query)))}return s&&!pr(e)&&o.push(new(Object(p.f)(Jn,"Reference.ts has not been loaded"),Jn)(t._repo,t._path)),{removed:o,events:u}}function lr(e){var t,n=[],r=m(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function fr(e,t){var n,r=null,i=m(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Zn(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function hr(e,t){if(t._queryParams.loadsAllData())return vr(e);var n=t._queryIdentifier;return e.views.get(n)}function dr(e,t){return null!=hr(e,t)}function pr(e){return null!=vr(e)}function vr(e){var t,n=m(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var yr=1,mr=function e(t){Object(l.a)(this,e),this.listenProvider_=t,this.syncPointTree_=new yn(null),this.pendingWriteTree_={visibleWrites:mn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function gr(e,t,n,r,i){return function(e,t,n,r,i){Object(p.f)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=gn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Er(e,new an({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function br(e,t,n,r){!function(e,t,n,r){Object(p.f)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=bn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=yn.fromObject(n);return Er(e,new on({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function kr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Tn(e.pendingWriteTree_,t)){var i=new yn(null);return null!=r.snap?i=i.set(Ie(),!0):Q(r.children,function(e){i=i.set(new Te(e),!0)}),Er(e,new nn(r.path,i,n))}return[]}function wr(e,t,n){return Er(e,new an({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function _r(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||dr(a,t))){var u=cr(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var s=u.removed;o=u.events;var c=-1!==s.findIndex(function(e){return e._queryParams.loadsAllData()}),l=e.syncPointTree_.findOnPath(i,function(e,t){return pr(t)});if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold(function(e,t,n){if(t&&pr(t)){var r=vr(t);return[r]}var i=[];return t&&(i=lr(t)),Q(n,function(e,t){i=i.concat(t)}),i})}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,y=Sr(e,p);e.listenProvider_.startListening(Pr(v),Tr(e,v),y.hashFn,y.onComplete)}}if(!l&&s.length>0&&!r)if(c){e.listenProvider_.stopListening(Pr(t),null)}else s.forEach(function(t){var n=e.queryToTagMap.get(Ir(t));e.listenProvider_.stopListening(Pr(t),n)});!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Ir(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,s)}return o}function Or(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,function(e,t){var n=Fe(e,r);i=i||fr(t,n),a=a||pr(t)});var o,u=e.syncPointTree_.get(r);(u?(a=a||pr(u),i=i||fr(u,Ie())):(u=new ar,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?o=!0:(o=!1,i=wt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild(function(e,t){var n=fr(t,Ie());n&&(i=i.updateImmediateChild(e,n))}));var s=dr(u,t);if(!s&&!t._queryParams.loadsAllData()){var c=Ir(t);Object(p.f)(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=yr++;e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var f=sr(u,t,n,Sn(e.pendingWriteTree_,r),i,o);if(!s&&!a){var h=hr(u,t);f=f.concat(function(e,t,n){var r=t._path,i=Tr(e,t),a=Sr(e,n),o=e.listenProvider_.startListening(Pr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(p.f)(!pr(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold(function(e,t,n){if(!Me(e)&&t&&pr(t))return[vr(t).query];var r=[];return t&&(r=r.concat(lr(t).map(function(e){return e.query}))),Q(n,function(e,t){r=r.concat(t)}),r}),c=0;c<s.length;++c){var l=s[c];e.listenProvider_.stopListening(Pr(l),Tr(e,l))}return o}(e,t,h))}return f}function xr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,function(e,n){var r=fr(n,Fe(e,t));if(r)return r});return Nn(r,t,i,n,!0)}function jr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(e,t){var i=Fe(e,n);r=r||fr(t,i)});var i=e.syncPointTree_.get(n);i?r=r||fr(i,Ie()):(i=new ar,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new un(r,!0,!1):null;return function(e){return dn(e.viewCache_)}(ur(i,t,Sn(e.pendingWriteTree_,t._path),a?o.getNode():wt.EMPTY_NODE,a))}function Er(e,t){return function e(t,n,r,i){if(Me(t.path))return function e(t,n,r,i){var a=n.get(Ie());null==r&&null!=a&&(r=fr(a,Ie()));var o=[];n.children.inorderTraversal(function(n,a){var u=r?r.getImmediateChild(n):null,s=Un(i,n),c=t.operationForChild(n);c&&(o=o.concat(e(c,a,u,s)))});a&&(o=o.concat(or(a,t,i,r)));return o}(t,n,r,i);var a=n.get(Ie());null==r&&null!=a&&(r=fr(a,Ie()));var o=[],u=Ce(t.path),s=t.operationForChild(u),c=n.children.get(u);if(c&&s){var l=r?r.getImmediateChild(u):null,f=Un(i,u);o=o.concat(e(s,c,l,f))}return a&&(o=o.concat(or(a,t,i,r))),o}(t,e.syncPointTree_,null,Sn(e.pendingWriteTree_,Ie()))}function Sr(e,t){var n=t.query,r=Tr(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||wt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Cr(e,n);if(r){var i=Ar(r),a=i.path,o=i.queryId,u=Fe(a,t);return Nr(e,a,new rn(en(o),u))}return[]}(e,n._path,r):function(e,t){return Er(e,new rn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return _r(e,n,null,i)}}}function Tr(e,t){var n=Ir(t);return e.queryToTagMap.get(n)}function Ir(e){return e._path.toString()+"$"+e._queryIdentifier}function Cr(e,t){return e.tagToQueryMap.get(t)}function Ar(e){var t=e.indexOf("$");return Object(p.f)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Te(e.substr(0,t))}}function Nr(e,t,n){var r=e.syncPointTree_.get(t);return Object(p.f)(r,"Missing sync point for query tag that we're tracking"),or(r,n,Sn(e.pendingWriteTree_,t),null)}function Pr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(p.f)(ir,"Reference.ts has not been loaded"),ir)(e._repo,e._path):e}var Rr=function(){function e(t){Object(l.a)(this,e),this.node_=t}return Object(f.a)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Lr=function(){function e(t,n){Object(l.a)(this,e),this.syncTree_=t,this.path_=n}return Object(f.a)(e,[{key:"getImmediateChild",value:function(t){var n=De(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return xr(this.syncTree_,this.path_)}}]),e}(),Dr=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Mr=function(e,t,n){return e&&"object"===typeof e?(Object(p.f)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Fr(e[".sv"],t,n):"object"===typeof e[".sv"]?Ur(e[".sv"],t):void Object(p.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Fr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(p.f)(!1,"Unexpected server value: "+e)}},Ur=function(e,t,n){e.hasOwnProperty("increment")||Object(p.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(p.f)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(p.f)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Vr=function(e,t,n,r){return zr(t,new Lr(n,e),r)},Br=function(e,t,n){return zr(e,new Rr(t),n)};function zr(e,t,n){var r,i=e.getPriority().val(),a=Mr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=Mr(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new ht(u,xt(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new ht(a))),s.forEachChild(vt,function(e,i){var a=zr(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))}),r}var qr=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Object(l.a)(this,e),this.name=t,this.parent=n,this.node=r};function Gr(e,t){for(var n=t instanceof Te?t:new Te(t),r=e,i=Ce(n);null!==i;){var a=Object(p.Q)(r.node.children,i)||{children:{},childCount:0};r=new qr(i,r,a),i=Ce(n=Ne(n))}return r}function Wr(e){return e.node.value}function Kr(e,t){e.node.value=t,Yr(e)}function Hr(e){return e.node.childCount>0}function Qr(e,t){Q(e.node.children,function(n,r){t(new qr(n,e,r))})}function $r(e){return new Te(null===e.parent?e.name:$r(e.parent)+"/"+e.name)}function Yr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Wr(e)&&!Hr(e)}(n),i=Object(p.m)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Yr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Yr(e))}(e.parent,e.name,e)}var Jr=/[\[\].#$\/\u0000-\u001F\u007F]/,Xr=/[\[\].#$\u0000-\u001F\u007F]/,Zr=function(e){return"string"===typeof e&&0!==e.length&&!Jr.test(e)},ei=function(e){return"string"===typeof e&&0!==e.length&&!Xr.test(e)},ti=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!V(e)||e&&"object"===typeof e&&Object(p.m)(e,".sv")},ni=function(e,t,n,r){r&&void 0===t||ri(Object(p.s)(e,"value"),t,n)},ri=function e(t,n,r){var i=r instanceof Te?new ze(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Ge(i));if("function"===typeof n)throw new Error(t+"contains a function "+Ge(i)+" with contents = "+n.toString());if(V(n))throw new Error(t+"contains "+n.toString()+" "+Ge(i));if("string"===typeof n&&n.length>10485760/3&&Object(p.R)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Ge(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Q(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Zr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Ge(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=Object(p.R)(s),qe(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(p.R)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),a&&o)throw new Error(t+' contains ".value" child '+Ge(i)+" in addition to actual children.")}},ii=function(e,t,n,r){if(!r||void 0!==t){var i=Object(p.s)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];Q(t,function(e,t){var r=new Te(e);if(ri(i,t,De(n,r)),".priority"===Pe(r)&&!ti(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Re(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Zr(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ue);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Be(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},ai=function(e,t,n){if(!n||void 0!==t){if(V(t))throw new Error(Object(p.s)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ti(t))throw new Error(Object(p.s)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},oi=function(e,t,n,r){if((!r||void 0!==n)&&!Zr(n))throw new Error(Object(p.s)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ui=function(e,t,n,r){if((!r||void 0!==n)&&!ei(n))throw new Error(Object(p.s)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},si=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ui(e,t,n,r)},ci=function(e,t){if(".info"===Ce(t))throw new Error(e+" failed = Can't modify data under /.info/")},li=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Zr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ei(e)}(n))throw new Error(Object(p.s)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},fi=function e(){Object(l.a)(this,e),this.eventLists_=[],this.recursionDepth_=0};function hi(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Ve(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function di(e,t,n){hi(e,n),vi(e,function(e){return Ve(e,t)})}function pi(e,t,n){hi(e,n),vi(e,function(e){return Be(e,t)||Be(t,e)})}function vi(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(yi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function yi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();N&&L("event: "+n.toString()),X(r)}}}var mi="repo_interrupt",gi=25,bi=function(){function e(t,n,r,i){Object(l.a)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kt(),this.transactionQueueTree_=new qr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Object(f.a)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function ki(e,t,n){if(e.stats_=de(e.repoInfo_),e.forceRestClient_||Z())e.server_=new Gt(e.repoInfo_,function(t,n,r,i){Oi(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return xi(e,!0)},0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(p.T)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Qe(e.repoInfo_,t,function(t,n,r,i){Oi(e,t,n,r,i)},function(t){xi(e,t)},function(t){!function(e,t){Q(t,function(t,n){ji(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(t){e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(function(t){e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){var n=e.toString();return he[n]||(he[n]=t()),he[n]}(e.repoInfo_,function(){return new Zt(e.stats_,e.server_)}),e.infoData_=new Wt,e.infoSyncTree_=new mr({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=wr(e.infoSyncTree_,t._path,o),setTimeout(function(){i("ok")},0)),a},stopListening:function(){}}),ji(e,"connected",!1),e.serverSyncTree_=new mr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,function(n,r){var a=i(n,r);pi(e.eventQueue_,t._path,a)}),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function wi(e){var t=e.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function _i(e){return Dr({timestamp:wi(e)})}function Oi(e,t,n,r,i){e.dataUpdateCount++;var a=new Te(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Object(p.N)(n,function(e){return xt(e)});o=function(e,t,n,r){var i=Cr(e,r);if(i){var a=Ar(i),o=a.path,u=a.queryId,s=Fe(o,t),c=yn.fromObject(n);return Nr(e,o,new on(en(u),s,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=xt(n);o=function(e,t,n,r){var i=Cr(e,r);if(null!=i){var a=Ar(i),o=a.path,u=a.queryId,s=Fe(o,t);return Nr(e,o,new an(en(u),s,n))}return[]}(e.serverSyncTree_,a,s,i)}else if(r){var c=Object(p.N)(n,function(e){return xt(e)});o=function(e,t,n){var r=yn.fromObject(n);return Er(e,new on({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=xt(n);o=wr(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=Di(e,a)),pi(e.eventQueue_,f,o)}function xi(e,t){ji(e,"connected",t),!1===t&&function(e){Ni(e,"onDisconnectEvents");var t=_i(e),n=Kt();Qt(e.onDisconnect_,Ie(),function(r,i){var a=Vr(r,i,e.serverSyncTree_,t);Ht(n,r,a)});var r=[];Qt(n,Ie(),function(t,n){r=r.concat(wr(e.serverSyncTree_,t,n));var i=Vi(e,t);Di(e,i)}),e.onDisconnect_=Kt(),pi(e.eventQueue_,Ie(),r)}(e)}function ji(e,t,n){var r=new Te("/.info/"+t),i=xt(n);e.infoData_.updateSnapshot(r,i);var a=wr(e.infoSyncTree_,r,i);pi(e.eventQueue_,r,a)}function Ei(e){return e.nextWriteId_++}function Si(e,t,n,r,i){Ni(e,"set",{path:t.toString(),value:n,priority:r});var a=_i(e),o=xt(n,r),u=xr(e.serverSyncTree_,t),s=Br(o,u,a),c=Ei(e),l=gr(e.serverSyncTree_,t,s,c,!0);hi(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),function(n,r){var a="ok"===n;a||U("set at "+t+" failed: "+n);var o=kr(e.serverSyncTree_,c,!a);pi(e.eventQueue_,t,o),Pi(e,i,n,r)});var f=Vi(e,t);Di(e,f),pi(e.eventQueue_,f,[])}function Ti(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&function e(t,n){if(Me(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(vt,function(e,n){Ht(t,new Te(e),n)}),e(t,n)}if(t.children.size>0){var i=Ce(n);return n=Ne(n),t.children.has(i)&&e(t.children.get(i),n)&&t.children.delete(i),0===t.children.size}return!0}(e.onDisconnect_,t),Pi(e,n,r,i)})}function Ii(e,t,n,r){var i=xt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(n,a){"ok"===n&&Ht(e.onDisconnect_,t,i),Pi(e,r,n,a)})}function Ci(e,t,n){var r;r=".info"===Ce(t._path)?_r(e.infoSyncTree_,t,n):_r(e.serverSyncTree_,t,n),di(e.eventQueue_,t._path,r)}function Ai(e){e.persistentConnection_&&e.persistentConnection_.interrupt(mi)}function Ni(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];L.apply(void 0,[t].concat(r))}function Pi(e,t,n,r){t&&X(function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}})}function Ri(e,t,n){return xr(e.serverSyncTree_,t,n)||wt.EMPTY_NODE}function Li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ui(e,t),Wr(t)){var n=Fi(e,t);Object(p.f)(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return 0===e.status})&&function(e,t,n){for(var r=n.map(function(e){return e.currentWriteId}),i=Ri(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];Object(p.f)(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var c=Fe(t,s.path);a=a.updateChild(c,s.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,function(r){Ni(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(kr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push(function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)}),n[t].unwatcher()},u=0;u<n.length;u++)o(u);Ui(e,Gr(e.transactionQueueTree_,t)),Li(e,e.transactionQueueTree_),pi(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)X(a[s])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{U("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Di(e,t)}},o)}(e,$r(t),n)}else Hr(t)&&Qr(t,function(t){Li(e,t)})}function Di(e,t){var n=Mi(e,t),r=$r(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter(function(e){return 0===e.status}).map(function(e){return e.currentWriteId}),o=function(o){var u,s=t[o],c=Fe(n,s.path),l=!1,f=void 0;if(Object(p.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)l=!0,f=s.abortReason,i=i.concat(kr(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=gi)l=!0,f="maxretry",i=i.concat(kr(e.serverSyncTree_,s.currentWriteId,!0));else{var h=Ri(e,s.path,a);s.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){ri("transaction failed: Data returned ",d,s.path);var v=xt(d),y="object"===typeof d&&null!=d&&Object(p.m)(d,".priority");y||(v=v.updatePriority(h.getPriority()));var m=s.currentWriteId,g=_i(e),b=Br(v,h,g);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=b,s.currentWriteId=Ei(e),a.splice(a.indexOf(m),1),i=(i=i.concat(gr(e.serverSyncTree_,s.path,b,s.currentWriteId,s.applyLocally))).concat(kr(e.serverSyncTree_,m,!0))}else l=!0,f="nodata",i=i.concat(kr(e.serverSyncTree_,s.currentWriteId,!0))}pi(e.eventQueue_,n,i),i=[],l&&(t[o].status=2,u=t[o].unwatcher,setTimeout(u,Math.floor(0)),t[o].onComplete&&("nodata"===f?r.push(function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)}):r.push(function(){return t[o].onComplete(new Error(f),!1,null)})))},u=0;u<t.length;u++)o(u);Ui(e,e.transactionQueueTree_);for(var s=0;s<r.length;s++)X(r[s]);Li(e,e.transactionQueueTree_)}(e,Fi(e,n),r),r}function Mi(e,t){var n,r=e.transactionQueueTree_;for(n=Ce(t);null!==n&&void 0===Wr(r);)r=Gr(r,n),n=Ce(t=Ne(t));return r}function Fi(e,t){var n=[];return function e(t,n,r){var i=Wr(n);if(i)for(var a=0;a<i.length;a++)r.push(i[a]);Qr(n,function(n){e(t,n,r)})}(e,t,n),n.sort(function(e,t){return e.order-t.order}),n}function Ui(e,t){var n=Wr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Kr(t,n.length>0?n:void 0)}Qr(t,function(t){Ui(e,t)})}function Vi(e,t){var n=$r(Mi(e,t)),r=Gr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,function(t){Bi(e,t)}),Bi(e,r),function e(t,n,r,i){r&&!i&&n(t),Qr(t,function(t){e(t,n,!0,i)}),r&&i&&n(t)}(r,function(t){Bi(e,t)}),n}function Bi(e,t){var n=Wr(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Object(p.f)(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Object(p.f)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(kr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Kr(t,void 0):n.length=a+1,pi(e.eventQueue_,$r(t),i);for(var u=0;u<r.length;u++)X(r[u])}}var zi=function(e,t){var n=qi(e),r=n.namespace;"firebase.com"===n.domain&&F(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||F("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&U("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new se(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Te(n.pathString)}},qi=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=m(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):U("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},Gi=function(){function e(t,n,r,i){Object(l.a)(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return Object(f.a)(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Object(p.T)(this.snapshot.exportVal())}}]),e}(),Wi=function(){function e(t,n,r){Object(l.a)(this,e),this.eventRegistration=t,this.error=n,this.path=r}return Object(f.a)(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Ki=function(){function e(t,n){Object(l.a)(this,e),this.snapshotCallback=t,this.cancelCallback=n}return Object(f.a)(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Object(p.f)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}}]),e}(),Hi=function(){function e(t,n){Object(l.a)(this,e),this._repo=t,this._path=n}return Object(f.a)(e,[{key:"cancel",value:function(){var e=new p.a;return Ti(this._repo,this._path,e.wrapCallback(function(){})),e.promise}},{key:"remove",value:function(){ci("OnDisconnect.remove",this._path);var e=new p.a;return Ii(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise}},{key:"set",value:function(e){ci("OnDisconnect.set",this._path),ni("OnDisconnect.set",e,this._path,!1);var t=new p.a;return Ii(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise}},{key:"setWithPriority",value:function(e,t){ci("OnDisconnect.setWithPriority",this._path),ni("OnDisconnect.setWithPriority",e,this._path,!1),ai("OnDisconnect.setWithPriority",t,!1);var n=new p.a;return function(e,t,n,r,i){var a=xt(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),function(n,r){"ok"===n&&Ht(e.onDisconnect_,t,a),Pi(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(function(){})),n.promise}},{key:"update",value:function(e){ci("OnDisconnect.update",this._path),ii("OnDisconnect.update",e,this._path,!1);var t=new p.a;return function(e,t,n,r){if(Object(p.B)(n))return L("onDisconnect().update() called with empty data.  Don't do anything."),void Pi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,function(i,a){"ok"===i&&Q(n,function(n,r){var i=xt(r);Ht(e.onDisconnect_,De(t,n),i)}),Pi(0,r,i,a)})}(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise}}]),e}(),Qi=function(){function e(t,n,r,i){Object(l.a)(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object(f.a)(e,[{key:"isEqual",value:function(t){if(!((t=Object(p.v)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ve(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}},{key:"key",get:function(){return Me(this._path)?null:Pe(this._path)}},{key:"ref",get:function(){return new Xi(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=qt(this._queryParams),t=K(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return qt(this._queryParams)}}]),e}();function $i(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Yi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ze){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==B)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==z)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===vt){if(null!=t&&!ti(t)||null!=n&&!ti(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(p.f)(e.getIndex()instanceof jt||e.getIndex()===Et,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ji(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Xi=function(e){function t(e,n){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e,n,new Ft,!1))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"parent",get:function(){var e=Le(this._path);return null===e?null:new t(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),t}(Qi),Zi=function(){function e(t,n,r){Object(l.a)(this,e),this._node=t,this.ref=n,this._index=r}return Object(f.a)(e,[{key:"child",value:function(t){var n=new Te(t),r=na(this.ref,t);return new e(this._node.getChild(n),r,vt)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return t(new e(i,na(n.ref,r),vt))})}},{key:"hasChild",value:function(e){var t=new Te(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}},{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}}]),e}();function ea(e,t){return(e=Object(p.v)(e))._checkNotDeleted("ref"),void 0!==t?na(e._root,t):e._root}function ta(e,t){(e=Object(p.v)(e))._checkNotDeleted("refFromURL");var n=zi(t,e._repo.repoInfo_.nodeAdmin);li("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||F("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),ea(e,n.path.toString())}function na(e,t){return null===Ce((e=Object(p.v)(e))._path)?si("child","path",t,!1):ui("child","path",t,!1),new Xi(e._repo,De(e._path,t))}function ra(e,t){e=Object(p.v)(e),ci("push",e._path),ni("push",t,e._path,!0);var n,r=wi(e._repo),i=Tt(r),a=na(e,i),o=na(e,i);return n=null!=t?aa(o,t).then(function(){return o}):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function ia(e){return ci("remove",e._path),aa(e,null)}function aa(e,t){e=Object(p.v)(e),ci("set",e._path),ni("set",t,e._path,!1);var n=new p.a;return Si(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function oa(e,t){e=Object(p.v)(e),ci("setPriority",e._path),ai("setPriority",t,!1);var n=new p.a;return Si(e._repo,De(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function ua(e,t,n){if(ci("setWithPriority",e._path),ni("setWithPriority",t,e._path,!1),ai("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new p.a;return Si(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function sa(e,t){ii("update",t,e._path,!1);var n=new p.a;return function(e,t,n,r){Ni(e,"update",{path:t.toString(),value:n});var i=!0,a=_i(e),o={};if(Q(n,function(n,r){i=!1,o[n]=Vr(De(t,n),xt(r),e.serverSyncTree_,a)}),i)L("update() called with empty data.  Don't do anything."),Pi(0,r,"ok",void 0);else{var u=Ei(e),s=br(e.serverSyncTree_,t,o,u);hi(e.eventQueue_,s),e.server_.merge(t.toString(),n,function(n,i){var a="ok"===n;a||U("update at "+t+" failed: "+n);var o=kr(e.serverSyncTree_,u,!a),s=o.length>0?Di(e,t):t;pi(e.eventQueue_,s,o),Pi(0,r,n,i)}),Q(n,function(n){var r=Vi(e,De(t,n));Di(e,r)}),pi(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function ca(e){return function(e,t){var n=jr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then(function(n){var r=xt(n).withIndex(t._queryParams.getIndex()),i=wr(e.serverSyncTree_,t._path,r);return di(e.eventQueue_,t._path,i),Promise.resolve(r)},function(n){return Ni(e,"get for query "+Object(p.T)(t)+" failed: "+n),Promise.reject(new Error(n))})}((e=Object(p.v)(e))._repo,e).then(function(t){return new Zi(t,new Xi(e._repo,e._path),e._queryParams.getIndex())})}var la=function(){function e(t){Object(l.a)(this,e),this.callbackContext=t}return Object(f.a)(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Gi("value",this,new Zi(e.snapshotNode,new Xi(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Wi(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),fa=function(){function e(t,n){Object(l.a)(this,e),this.eventType=t,this.callbackContext=n}return Object(f.a)(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Wi(this,e,t):null}},{key:"createEvent",value:function(e,t){Object(p.f)(null!=e.childName,"Child events should have a childName.");var n=na(new Xi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Gi(e.type,this,new Zi(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function ha(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,u=function(t,n){Ci(e._repo,e,c),o(t,n)};u.userCallback=n.userCallback,u.context=n.context,n=u}var s=new Ki(n,a||void 0),c="value"===t?new la(s):new fa(t,s);return function(e,t,n){var r;r=".info"===Ce(t._path)?Or(e.infoSyncTree_,t,n):Or(e.serverSyncTree_,t,n),di(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Ci(e._repo,e,c)}}function da(e,t,n,r){return ha(e,"value",t,n,r)}function pa(e,t,n,r){return ha(e,"child_added",t,n,r)}function va(e,t,n,r){return ha(e,"child_changed",t,n,r)}function ya(e,t,n,r){return ha(e,"child_moved",t,n,r)}function ma(e,t,n,r){return ha(e,"child_removed",t,n,r)}function ga(e,t,n){var r=null,i=n?new Ki(n):null;"value"===t?r=new la(i):t&&(r=new fa(t,i)),Ci(e._repo,e,r)}var ba=function e(){Object(l.a)(this,e)},ka=function(e){function t(e,n){var r;return Object(l.a)(this,t),(r=Object(o.a)(this,Object(u.a)(t).call(this)))._value=e,r._key=n,r}return Object(s.a)(t,e),Object(f.a)(t,[{key:"_apply",value:function(e){ni("endAt",this._value,e._path,!0);var t=Vt(e._queryParams,this._value,this._key);if(Ji(t),Yi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qi(e._repo,e._path,t,e._orderByCalled)}}]),t}(ba);function wa(e,t){return oi("endAt","key",t,!0),new ka(e,t)}var _a=function(e){function t(e,n){var r;return Object(l.a)(this,t),(r=Object(o.a)(this,Object(u.a)(t).call(this)))._value=e,r._key=n,r}return Object(s.a)(t,e),Object(f.a)(t,[{key:"_apply",value:function(e){ni("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ze?("string"===typeof t&&(t=Ct(t)),r=Vt(e,t,n)):r=Vt(e,t,null==n?B:Ct(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Ji(t),Yi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qi(e._repo,e._path,t,e._orderByCalled)}}]),t}(ba);function Oa(e,t){return oi("endBefore","key",t,!0),new _a(e,t)}var xa=function(e){function t(e,n){var r;return Object(l.a)(this,t),(r=Object(o.a)(this,Object(u.a)(t).call(this)))._value=e,r._key=n,r}return Object(s.a)(t,e),Object(f.a)(t,[{key:"_apply",value:function(e){ni("startAt",this._value,e._path,!0);var t=Ut(e._queryParams,this._value,this._key);if(Ji(t),Yi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qi(e._repo,e._path,t,e._orderByCalled)}}]),t}(ba);function ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return oi("startAt","key",t,!0),new xa(e,t)}var Ea=function(e){function t(e,n){var r;return Object(l.a)(this,t),(r=Object(o.a)(this,Object(u.a)(t).call(this)))._value=e,r._key=n,r}return Object(s.a)(t,e),Object(f.a)(t,[{key:"_apply",value:function(e){ni("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ze?("string"===typeof t&&(t=It(t)),r=Ut(e,t,n)):r=Ut(e,t,null==n?z:It(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Ji(t),Yi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qi(e._repo,e._path,t,e._orderByCalled)}}]),t}(ba);function Sa(e,t){return oi("startAfter","key",t,!0),new Ea(e,t)}var Ta=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this)))._limit=e,n}return Object(s.a)(t,e),Object(f.a)(t,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),t}(ba);function Ia(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ta(e)}var Ca=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this)))._limit=e,n}return Object(s.a)(t,e),Object(f.a)(t,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),t}(ba);function Aa(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ca(e)}var Na=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this)))._path=e,n}return Object(s.a)(t,e),Object(f.a)(t,[{key:"_apply",value:function(e){$i(e,"orderByChild");var t=new Te(this._path);if(Me(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new jt(t),r=Bt(e._queryParams,n);return Yi(r),new Qi(e._repo,e._path,r,!0)}}]),t}(ba);function Pa(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ui("orderByChild","path",e,!1),new Na(e)}var Ra=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"_apply",value:function(e){$i(e,"orderByKey");var t=Bt(e._queryParams,Ze);return Yi(t),new Qi(e._repo,e._path,t,!0)}}]),t}(ba);function La(){return new Ra}var Da=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"_apply",value:function(e){$i(e,"orderByPriority");var t=Bt(e._queryParams,vt);return Yi(t),new Qi(e._repo,e._path,t,!0)}}]),t}(ba);function Ma(){return new Da}var Fa=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(f.a)(t,[{key:"_apply",value:function(e){$i(e,"orderByValue");var t=Bt(e._queryParams,Et);return Yi(t),new Qi(e._repo,e._path,t,!0)}}]),t}(ba);function Ua(){return new Fa}var Va=function(e){function t(e,n){var r;return Object(l.a)(this,t),(r=Object(o.a)(this,Object(u.a)(t).call(this)))._value=e,r._key=n,r}return Object(s.a)(t,e),Object(f.a)(t,[{key:"_apply",value:function(e){if(ni("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ka(this._value,this._key)._apply(new xa(this._value,this._key)._apply(e))}}]),t}(ba);function Ba(e,t){return oi("equalTo","key",t,!0),new Va(e,t)}function za(e){for(var t=Object(p.v)(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){Object(p.f)(!Jn,"__referenceConstructor has already been defined"),Jn=e}(Xi),function(e){Object(p.f)(!ir,"__referenceConstructor has already been defined"),ir=e}(Xi);var qa="FIREBASE_DATABASE_EMULATOR_HOST",Ga={},Wa=!1;function Ka(t,n,r,i,a){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||F("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),L("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));var u,s=zi(o,a),c=s.repoInfo,l=void 0;"undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:""})&&(l=Object({NODE_ENV:"production",PUBLIC_URL:""})[qa]),l?(u=!0,o="http://".concat(l,"?ns=").concat(c.namespace),c=(s=zi(o,a)).repoInfo):u=!s.repoInfo.secure;var f=a&&u?new re(re.OWNER):new ne(t.name,t.options,n);li("Invalid Firebase Database URL",s),Me(s.path)||F("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Ga[t.name];i||(i={},Ga[t.name]=i);var a=i[e.toURLString()];a&&F("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new bi(e,Wa,n,r),i[e.toURLString()]=a,a}(c,t,f,new te(t.name,r));return new Ha(h,t)}var Ha=function(){function e(t,n){Object(l.a)(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object(f.a)(e,[{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Ga[t];n&&n[e.key]===e||F("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Ai(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&F("Cannot call "+e+" on a deleted database.")}},{key:"_repo",get:function(){return this._instanceStarted||(ki(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Xi(this._repo,Ie())),this._rootInternal}}]),e}();function Qa(){we.IS_TRANSPORT_INITIALIZED&&U("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function $a(){Qa(),me.forceDisallow()}function Ya(){Qa(),ke.forceDisallow(),me.forceAllow()}function Ja(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Object(p.v)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&F("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&F('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new re(re.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Object(p.n)(r.mockUserToken,e.app.options.projectId);a=new re(o)}!function(e,t,n,r){e.repoInfo_=new se("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Xa(e){(e=Object(p.v)(e))._checkNotDeleted("goOffline"),Ai(e._repo)}function Za(e){var t;(e=Object(p.v)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(mi)}function eo(e,t){R(e,t)}var to={".sv":"timestamp"};function no(){return to}function ro(e){return{".sv":{increment:e}}}var io=function(){function e(t,n){Object(l.a)(this,e),this.committed=t,this.snapshot=n}return Object(f.a)(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function ao(e,t,n){var r;if(e=Object(p.v)(e),ci("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new p.a,o=da(e,function(){});return function(e,t,n,r,i,a){Ni(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:I(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ri(e,t,void 0);o.currentInputSnapshot=u;var s=o.update(u.val());if(void 0===s)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ri("transaction failed: Data returned ",s,o.path),o.status=0;var c,l=Gr(e.transactionQueueTree_,t),f=Wr(l)||[];f.push(o),Kr(l,f),"object"===typeof s&&null!==s&&Object(p.m)(s,".priority")?(c=Object(p.Q)(s,".priority"),Object(p.f)(ti(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(xr(e.serverSyncTree_,t)||wt.EMPTY_NODE).getPriority().val();var h=_i(e),d=xt(s,c),v=Br(d,u,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=v,o.currentWriteId=Ei(e);var y=gr(e.serverSyncTree_,t,v,o.currentWriteId,o.applyLocally);pi(e.eventQueue_,t,y),Li(e,e.transactionQueueTree_)}}(e._repo,e._path,t,function(t,n,r){var i=null;t?a.reject(t):(i=new Zi(r,new Xi(e._repo,e._path),vt),a.resolve(new io(n,i)))},o,i),a.promise}Qe.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Qe.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var oo;_(h.SDK_VERSION),Object(h._registerComponent)(new d.a("database",function(e,t){var n=t.instanceIdentifier;return Ka(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Object(h.registerVersion)(b,k,oo),Object(h.registerVersion)(b,k,"esm2017")}).call(this,n(69))},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return p});var r=n(17),i=n(2),a=n(14),o=n(1),u=n(3),s=n(0);function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};u(v,i,function(){return this});var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=p,u(g,"constructor",p),u(p,"constructor",d),d.displayName=u(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),u(g,o,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){function e(t,n,r){Object(o.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(u.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),d="[DEFAULT]",p=function(){function e(t,n){Object(o.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Object(u.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new s.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:d})}catch(c){}var t,n=l(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(a.a)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Object(i.a)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Object(r.a)(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()})),Object(r.a)(t.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=l(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=Object(a.a)(i.value,2),c=s[0],f=s[1];r===this.normalizeInstanceIdentifier(c)&&f.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=l(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===d?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?e:d:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var v=function(){function e(t){Object(o.a)(this,e),this.name=t,this.providers=new Map}return Object(u.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new p(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},function(e,t,n){"use strict";var r=n(63);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return m});var r,i=n(1),a=n(3),o=n(4);function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c,l=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(c||(c={}));var f={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},h=c.INFO,d=(r={},Object(o.a)(r,c.DEBUG,"log"),Object(o.a)(r,c.VERBOSE,"log"),Object(o.a)(r,c.INFO,"info"),Object(o.a)(r,c.WARN,"warn"),Object(o.a)(r,c.ERROR,"error"),r),p=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=d[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},v=function(){function e(t){Object(i.a)(this,e),this.name=t,this._logLevel=h,this._logHandler=p,this._userLogHandler=null,l.push(this)}return Object(a.a)(e,[{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?f[e]:e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.DEBUG].concat(t)),this._logHandler.apply(this,[this,c.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.VERBOSE].concat(t)),this._logHandler.apply(this,[this,c.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.INFO].concat(t)),this._logHandler.apply(this,[this,c.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.WARN].concat(t)),this._logHandler.apply(this,[this,c.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.ERROR].concat(t)),this._logHandler.apply(this,[this,c.ERROR].concat(t))}},{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in c))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}}]),e}();function y(e){l.forEach(function(t){t.setLogLevel(e)})}function m(e,t){var n,r=u(l);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=f[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map(function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:c[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}},function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r,i=n(4),a=n(1),o=n(3),u=n(0),s=n(16),c=n(10),l=n(18),f=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.firebase=n,Object(c._addComponent)(t,new s.a("app-compat",function(){return r},"PUBLIC")),this.container=t.container}return Object(o.a)(e,[{key:"delete",value:function(){var e=this;return new Promise(function(t){e._delegate.checkDestroyed(),t()}).then(function(){return e.firebase.INTERNAL.removeApp(e.name),Object(c.deleteApp)(e._delegate)})}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}},{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}}]),e}(),h=(r={},Object(i.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(i.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new u.b("app-compat","Firebase",h);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if(Object(u.m)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o},app:r,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(t){var i=t.name,a=i.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:i});return e[a]()};void 0!==t.serviceProps&&Object(u.r)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,i),n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:c}};function r(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(u.m)(t,e))throw d.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),r.App=e,n}(f);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(u.r)(t,e)},createSubscribe:u.o,ErrorFactory:u.b,deepExtend:u.r}),t}(),v=new l.b("@firebase/app-compat"),y="@firebase/app-compat",m="0.1.27";if(Object(u.y)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b,k=p;Object(c.registerVersion)(y,m,b)},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";e.exports=n(96)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(20);function i(e,t){if(null==e)return{};var n,i,a=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},,function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return c});var r=n(5),i=n(72),a=(n(6),n(55),n(70),n(38)),o=n(42),u={}.hasOwnProperty,s=Object(r.createContext)("undefined"!==typeof HTMLElement?Object(i.a)({key:"css"}):null);s.Provider;var c=function(e){return Object(r.forwardRef)(function(t,n){var i=Object(r.useContext)(s);return e(t,i,n)})},l=Object(r.createContext)({});var f=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};function h(e){f(e)}var d="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",p=function(e,t){var n={};for(var r in t)u.call(t,r)&&(n[r]=t[r]);return n[d]=e,n},v=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Object(a.c)(t,n,r);h(function(){return Object(a.b)(t,n,r)});return null},y=c(function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var s=e[d],c=[i],f="";"string"===typeof e.className?f=Object(a.a)(t.registered,c,e.className):null!=e.className&&(f=e.className+" ");var h=Object(o.a)(c,void 0,Object(r.useContext)(l));f+=t.key+"-"+h.name;var p={};for(var y in e)u.call(e,y)&&"css"!==y&&y!==d&&(p[y]=e[y]);return p.ref=n,p.className=f,Object(r.createElement)(r.Fragment,null,Object(r.createElement)(v,{cache:t,serialized:h,isStringTag:"string"===typeof s}),Object(r.createElement)(s,p))})},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(5),i=(n(72),n(24),n(77),n(55),n(56),n(38),n(42));r.useInsertionEffect?r.useInsertionEffect:r.useLayoutEffect;var a=function(){var e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(i.a)(t)}.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},function(e,t,n){e.exports=n(117)()},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(7);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}n.d(t,"a",function(){return i})},,,function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return u});n(17),n(6),n(147),n(41);var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce(function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e},{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce(function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e},{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==t?void 0:null==(e=t.keys)?void 0:e.reduce(function(e,n){return e[t.up(n)]={},e},{}))||{}}function u(e,t){return e.reduce(function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}},function(e,t,n){"use strict";var r=n(17),i=n(14),a=n(6),o=n(20),u=(n(77),n(5)),s=n(54),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=Object(s.a)(function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),f=n(24),h=n(38),d=n(42),p=l,v=function(e){return"theme"!==e},y=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?p:v},m=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=u.useInsertionEffect?u.useInsertionEffect:function(e){e()};var b=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Object(h.c)(t,n,r);g(function(){return Object(h.b)(t,n,r)});return null},k=function e(t,n){var r,i,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=m(t,n,o),l=c||y(s),p=!l("as");return function(){var v=arguments,g=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&g.push("label:"+r+";"),null==v[0]||void 0===v[0].raw)g.push.apply(g,v);else{g.push(v[0][0]);for(var k=v.length,w=1;w<k;w++)g.push(v[w],v[0][w])}var _=Object(f.f)(function(e,t,n){var r=p&&e.as||s,a="",o=[],v=e;if(null==e.theme){for(var m in v={},e)v[m]=e[m];v.theme=Object(u.useContext)(f.b)}"string"===typeof e.className?a=Object(h.a)(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var k=Object(d.a)(g.concat(o),t.registered,v);a+=t.key+"-"+k.name,void 0!==i&&(a+=" "+i);var w=p&&void 0===c?y(r):l,_={};for(var O in e)p&&"as"===O||w(O)&&(_[O]=e[O]);return _.className=a,_.ref=n,Object(u.createElement)(u.Fragment,null,Object(u.createElement)(b,{cache:t,serialized:k,isStringTag:"string"===typeof r}),Object(u.createElement)(r,_))});return _.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=s,_.__emotion_styles=g,_.__emotion_forwardProp=c,Object.defineProperty(_,"toString",{value:function(){return"."+i}}),_.withComponent=function(t,r){return e(t,Object(a.a)({},n,r,{shouldForwardProp:m(_,r,!0)})).apply(void 0,g)},_}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){k[e]=k(e)});var w=k;var _=n(160),O=n(146),x=["variant"];function j(e){return 0===e.length}function E(e){var t=e.variant,n=Object(o.a)(e,x),r=t||"";return Object.keys(n).sort().forEach(function(t){r+="color"===t?j(r)?e[t]:Object(O.a)(e[t]):"".concat(j(r)?t:Object(O.a)(t)).concat(Object(O.a)(e[t].toString()))}),r}var S=n(4),T=n(41),I=n(13);var C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return t.filterProps.forEach(function(n){e[n]=t}),e},{}),i=function(e){return Object.keys(e).reduce(function(t,n){return r[n]?Object(T.a)(t,r[n](e)):t},{})};return i.propTypes={},i.filterProps=t.reduce(function(e,t){return e.concat(t.filterProps)},[]),i},A=n(37),N=n(32);function P(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var R=Object(I.a)({prop:"border",themeKey:"borders",transform:P}),L=Object(I.a)({prop:"borderTop",themeKey:"borders",transform:P}),D=Object(I.a)({prop:"borderRight",themeKey:"borders",transform:P}),M=Object(I.a)({prop:"borderBottom",themeKey:"borders",transform:P}),F=Object(I.a)({prop:"borderLeft",themeKey:"borders",transform:P}),U=Object(I.a)({prop:"borderColor",themeKey:"palette"}),V=Object(I.a)({prop:"borderTopColor",themeKey:"palette"}),B=Object(I.a)({prop:"borderRightColor",themeKey:"palette"}),z=Object(I.a)({prop:"borderBottomColor",themeKey:"palette"}),q=Object(I.a)({prop:"borderLeftColor",themeKey:"palette"}),G=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Object(A.b)(e.theme,"shape.borderRadius",4,"borderRadius");return Object(N.b)(e,e.borderRadius,function(e){return{borderRadius:Object(A.d)(t,e)}})}return null};G.propTypes={},G.filterProps=["borderRadius"];var W=C(R,L,D,M,F,U,V,B,z,q,G),K=C(Object(I.a)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Object(I.a)({prop:"display"}),Object(I.a)({prop:"overflow"}),Object(I.a)({prop:"textOverflow"}),Object(I.a)({prop:"visibility"}),Object(I.a)({prop:"whiteSpace"})),H=C(Object(I.a)({prop:"flexBasis"}),Object(I.a)({prop:"flexDirection"}),Object(I.a)({prop:"flexWrap"}),Object(I.a)({prop:"justifyContent"}),Object(I.a)({prop:"alignItems"}),Object(I.a)({prop:"alignContent"}),Object(I.a)({prop:"order"}),Object(I.a)({prop:"flex"}),Object(I.a)({prop:"flexGrow"}),Object(I.a)({prop:"flexShrink"}),Object(I.a)({prop:"alignSelf"}),Object(I.a)({prop:"justifyItems"}),Object(I.a)({prop:"justifySelf"})),Q=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Object(A.b)(e.theme,"spacing",8,"gap");return Object(N.b)(e,e.gap,function(e){return{gap:Object(A.d)(t,e)}})}return null};Q.propTypes={},Q.filterProps=["gap"];var $=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Object(A.b)(e.theme,"spacing",8,"columnGap");return Object(N.b)(e,e.columnGap,function(e){return{columnGap:Object(A.d)(t,e)}})}return null};$.propTypes={},$.filterProps=["columnGap"];var Y=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Object(A.b)(e.theme,"spacing",8,"rowGap");return Object(N.b)(e,e.rowGap,function(e){return{rowGap:Object(A.d)(t,e)}})}return null};Y.propTypes={},Y.filterProps=["rowGap"];var J=C(Q,$,Y,Object(I.a)({prop:"gridColumn"}),Object(I.a)({prop:"gridRow"}),Object(I.a)({prop:"gridAutoFlow"}),Object(I.a)({prop:"gridAutoColumns"}),Object(I.a)({prop:"gridAutoRows"}),Object(I.a)({prop:"gridTemplateColumns"}),Object(I.a)({prop:"gridTemplateRows"}),Object(I.a)({prop:"gridTemplateAreas"}),Object(I.a)({prop:"gridArea"})),X=C(Object(I.a)({prop:"position"}),Object(I.a)({prop:"zIndex",themeKey:"zIndex"}),Object(I.a)({prop:"top"}),Object(I.a)({prop:"right"}),Object(I.a)({prop:"bottom"}),Object(I.a)({prop:"left"})),Z=C(Object(I.a)({prop:"color",themeKey:"palette"}),Object(I.a)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),Object(I.a)({prop:"backgroundColor",themeKey:"palette"})),ee=Object(I.a)({prop:"boxShadow",themeKey:"shadows"});function te(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var ne=Object(I.a)({prop:"width",transform:te}),re=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Object(N.b)(e,e.maxWidth,function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)?void 0:null==(r=n.breakpoints)?void 0:null==(i=r.values)?void 0:i[t])||N.d[t]||te(t)}})}return null};re.filterProps=["maxWidth"];var ie=Object(I.a)({prop:"minWidth",transform:te}),ae=Object(I.a)({prop:"height",transform:te}),oe=Object(I.a)({prop:"maxHeight",transform:te}),ue=Object(I.a)({prop:"minHeight",transform:te}),se=(Object(I.a)({prop:"size",cssProperty:"width",transform:te}),Object(I.a)({prop:"size",cssProperty:"height",transform:te}),C(ne,re,ie,ae,oe,ue,Object(I.a)({prop:"boxSizing"}))),ce=Object(I.a)({prop:"fontFamily",themeKey:"typography"}),le=Object(I.a)({prop:"fontSize",themeKey:"typography"}),fe=Object(I.a)({prop:"fontStyle",themeKey:"typography"}),he=Object(I.a)({prop:"fontWeight",themeKey:"typography"}),de=Object(I.a)({prop:"letterSpacing"}),pe=Object(I.a)({prop:"textTransform"}),ve=Object(I.a)({prop:"lineHeight"}),ye=Object(I.a)({prop:"textAlign"}),me=C(Object(I.a)({prop:"typography",cssProperty:!1,themeKey:"typography"}),ce,le,fe,he,de,ve,ye,pe),ge={borders:W.filterProps,display:K.filterProps,flexbox:H.filterProps,grid:J.filterProps,positions:X.filterProps,palette:Z.filterProps,shadows:ee.filterProps,sizing:se.filterProps,spacing:A.c.filterProps,typography:me.filterProps},be={borders:W,display:K,flexbox:H,grid:J,positions:X,palette:Z,shadows:ee,sizing:se,spacing:A.c,typography:me};Object.keys(ge).reduce(function(e,t){return ge[t].forEach(function(n){e[n]=be[t]}),e},{});var ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=Object.keys(e).reduce(function(t,n){return e[n].filterProps.forEach(function(r){t[r]=e[n]}),t},{});function n(e,n,r){var i,a=(i={},Object(S.a)(i,e,n),Object(S.a)(i,"theme",r),i),o=t[e];return o?o(a):Object(S.a)({},e,n)}return function e(r){var i=r||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(r){var i=r;if("function"===typeof r)i=r(u);else if("object"!==typeof r)return r;if(!i)return null;var a=Object(N.a)(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach(function(r){var a,o,c=(a=i[r],o=u,"function"===typeof a?a(o):a);if(null!==c&&void 0!==c)if("object"===typeof c)if(t[r])s=Object(T.a)(s,n(r,c,u));else{var l=Object(N.b)({theme:u},c,function(e){return Object(S.a)({},r,e)});!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return e.concat(Object.keys(t))},[]),i=new Set(r);return t.every(function(e){return i.size===Object.keys(e).length})}(l,c)?s=Object(T.a)(s,l):s[r]=e({sx:c,theme:u})}else s=Object(T.a)(s,n(r,c,u))}),Object(N.c)(o,s)}return Array.isArray(a)?a.map(s):s(a)}}();ke.filterProps=["sx"];var we=ke,_e=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Oe=["theme"],xe=["theme"];function je(e){return 0===Object.keys(e).length}var Ee=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Se=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach(function(e){var t=E(e.props);r[t]=e.style}),r},Te=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n?void 0:null==(i=n.components)?void 0:null==(a=i[r])?void 0:a.variants;return c&&c.forEach(function(n){var r=!0;Object.keys(n.props).forEach(function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)}),r&&s.push(t[E(n.props)])}),s};function Ie(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Ce=Object(_.a)();var Ae=n(67);n.d(t,"b",function(){return Ne});var Ne=function(e){return Ie(e)&&"classes"!==e},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Ce:t,u=e.rootShouldForwardProp,s=void 0===u?Ie:u,c=e.slotShouldForwardProp,l=void 0===c?Ie:c,f=e.styleFunctionSx,h=void 0===f?we:f;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.name,c=t.slot,f=t.skipVariantsResolver,d=t.skipSx,p=t.overridesResolver,v=Object(o.a)(t,_e),y=void 0!==f?f:c&&"Root"!==c||!1,m=d||!1,g=Ie;"Root"===c?g=s:c&&(g=l);var b=function(e,t){return w(e,t)}(e,Object(a.a)({shouldForwardProp:g,label:void 0},v)),k=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),c=1;c<t;c++)s[c-1]=arguments[c];var l=s?s.map(function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=Object(o.a)(t,Oe);return e(Object(a.a)({theme:je(r)?n:r},i))}:e}):[],f=e;u&&p&&l.push(function(e){var t=je(e.theme)?n:e.theme,r=Ee(u,t);if(r){var o={};return Object.entries(r).forEach(function(n){var r=Object(i.a)(n,2),u=r[0],s=r[1];o[u]="function"===typeof s?s(Object(a.a)({},e,{theme:t})):s}),p(e,o)}return null}),u&&!y&&l.push(function(e){var t=je(e.theme)?n:e.theme;return Te(e,Se(u,t),t,u)}),m||l.push(function(e){var t=je(e.theme)?n:e.theme;return h(Object(a.a)({},e,{theme:t}))});var d=l.length-s.length;if(Array.isArray(e)&&d>0){var v=new Array(d).fill("");(f=[].concat(Object(r.a)(e),Object(r.a)(v))).raw=[].concat(Object(r.a)(e.raw),Object(r.a)(v))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,i=Object(o.a)(t,xe);return e(Object(a.a)({theme:je(r)?n:r},i))});return b.apply(void 0,[f].concat(Object(r.a)(l)))};return b.withConfig&&(k.withConfig=b.withConfig),k}}({defaultTheme:Ae.a,rootShouldForwardProp:Ne});t.a=Pe},function(e,t,n){"use strict";var r=n(4);var i,a,o=n(2),u=function(e,t){return t.some(function(t){return e instanceof t})};var s=new WeakMap,c=new WeakMap,l=new WeakMap,f=new WeakMap,h=new WeakMap;var d={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(m(this),n),y(s.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(e.apply(m(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[m(this),t].concat(r));return l.set(a,t.sort?t.sort():[t]),y(a)}}function v(e){return"function"===typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(!c.has(e)){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});c.set(e,t)}}(e),u(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,d):e)}function y(e){if(e instanceof IDBRequest)return function(e){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(y(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(function(t){t instanceof IDBCursor&&s.set(t,e)}).catch(function(){}),h.set(t,e),t}(e);if(f.has(e))return f.get(e);var t=v(e);return t!==e&&(f.set(e,t),h.set(t,e)),t}var m=function(e){return h.get(e)};function g(){g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(j([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=y(u);return i&&u.addEventListener("upgradeneeded",function(e){i(y(u.result),e.oldVersion,e.newVersion,y(u.transaction))}),r&&u.addEventListener("blocked",function(){return r()}),s.then(function(e){o&&e.addEventListener("close",function(){return o()}),a&&e.addEventListener("versionchange",function(){return a()})}).catch(function(){}),s}function k(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).blocked,n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",function(){return t()}),y(n).then(function(){})}n.d(t,"a",function(){return k}),n.d(t,"b",function(){return b});var w=["get","getKey","getAll","getAllKeys","count"],_=["put","add","delete","clear"],O=new Map;function x(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(O.get(t))return O.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=_.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||w.includes(n))){var a=function(){var e=Object(o.a)(g().mark(function e(t){var a,o,u,s,c,l,f=arguments;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return O.set(t,a),a}}}d=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}({},e,{get:function(t,n,r){return x(t,n)||e.get(t,n,r)},has:function(t,n){return!!x(t,n)||e.has(t,n)}})}(d)},function(e,t,n){"use strict";var r=n(146);t.a=r.a},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return vr}),n.d(t,"b",function(){return mr}),n.d(t,"c",function(){return yr}),n.d(t,"d",function(){return br}),n.d(t,"e",function(){return gr}),n.d(t,"f",function(){return kr}),n.d(t,"g",function(){return wr}),n.d(t,"h",function(){return dr}),n.d(t,"i",function(){return pr});var r=n(9),i=n(29),a=n(7),o=n(8),u=n(1),s=n(3);function c(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f,h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},d={},p=p||{},v=h||self;function y(){}function m(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var b="closure_uid_"+(1e9*Math.random()>>>0),k=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function O(e,t,n){return(O=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function j(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function E(){this.s=this.s,this.o=this.o}var S={};E.prototype.s=!1,E.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,b)&&e[b]||(e[b]=++k)}(this);delete S[e]}},E.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var T=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},I=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function C(e){return Array.prototype.concat.apply([],arguments)}function A(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function N(e){return/^[\s\xa0]*$/.test(e)}var P,R=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function L(e,t){return-1!=e.indexOf(t)}function D(e,t){return e<t?-1:e>t?1:0}e:{var M=v.navigator;if(M){var F=M.userAgent;if(F){P=F;break e}}P=""}function U(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function V(e){var t={};for(var n in e)t[n]=e[n];return t}var B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<B.length;a++)n=B[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function q(e){return q[" "](e),e}q[" "]=y;var G,W=L(P,"Opera"),K=L(P,"Trident")||L(P,"MSIE"),H=L(P,"Edge"),Q=H||K,$=L(P,"Gecko")&&!(L(P.toLowerCase(),"webkit")&&!L(P,"Edge"))&&!(L(P,"Trident")||L(P,"MSIE"))&&!L(P,"Edge"),Y=L(P.toLowerCase(),"webkit")&&!L(P,"Edge");function J(){var e=v.document;return e?e.documentMode:void 0}e:{var X="",Z=function(){var e=P;return $?/rv:([^\);]+)(\)|;)/.exec(e):H?/Edge\/([\d\.]+)/.exec(e):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Y?/WebKit\/(\S+)/.exec(e):W?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Z&&(X=Z?Z[1]:""),K){var ee=J();if(null!=ee&&ee>parseFloat(X)){G=String(ee);break e}}G=X}var te,ne={};function re(){return function(e){var t=ne;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}(function(){for(var e=0,t=R(String(G)).split("."),n=R("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||D(0==a[2].length,0==o[2].length)||D(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e})}if(v.document&&K){var ie=J();te=ie||(parseInt(G,10)||void 0)}else te=void 0;var ae=te,oe=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{v.addEventListener("test",y,t),v.removeEventListener("test",y,t)}catch(n){}return e}();function ue(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function se(e,t){if(ue.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($){e:{try{q(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ce[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&se.Z.h.call(this)}}ue.prototype.h=function(){this.defaultPrevented=!0},j(se,ue);var ce={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),fe=0;function he(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++fe,this.ca=this.fa=!1}function de(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pe(e){this.src=e,this.g={},this.h=0}function ve(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=T(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(de(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ye(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}pe.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ye(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new he(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function be(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,a){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);return null}r=Ee(r);return t&&t[le]?t.O(n,r,g(i)?!!i.capture:!!i,a):ke(t,n,r,!0,i,a)}(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)be(e,t[a],n,r,i);return null}return n=Ee(n),e&&e[le]?e.N(t,n,g(r)?!!r.capture:!!r,i):ke(e,t,n,!1,r,i)}function ke(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=g(i)?!!i.capture:!!i,u=xe(e);if(u||(e[me]=u=new pe(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){var e=Oe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)oe||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_e(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function we(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[le])ve(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_e(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xe(t))?(ve(n,e),0==n.h&&(n.src=null,t[me]=null)):de(e)}}}function _e(e){return e in ge?ge[e]:ge[e]="on"+e}function Oe(e,t){if(e.ca)e=!0;else{t=new se(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&we(e),e=n.call(r,t)}return e}function xe(e){return(e=e[me])instanceof pe?e:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(e){return"function"===typeof e?e:(e[je]||(e[je]=function(t){return e.handleEvent(t)}),e[je])}function Se(){E.call(this),this.i=new pe(this),this.P=this,this.I=null}function Te(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ue(t,e);else if(t instanceof ue)t.target=t.target||e;else{var i=t;z(t=new ue(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ie(o,r,!0,t)&&i}if(i=Ie(o=t.g=e,r,!0,t)&&i,i=Ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ie(o=t.g=n[a],r,!1,t)&&i}function Ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ve(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}j(Se,E),Se.prototype[le]=!0,Se.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);else i=g(i)?!!i.capture:!!i,r=Ee(r),t&&t[le]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=ye(o=t.g[n],r,i,a))&&(de(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--))):t&&(t=xe(t))&&(n=t.g[n.toString()],t=-1,n&&(t=ye(n,r,i,a)),(r=-1<t?n[t]:null)&&we(r))}(this,e,t,n,r)},Se.prototype.M=function(){if(Se.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)de(n[r]);delete t.g[e],t.h--}}this.I=null},Se.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Se.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ce=v.JSON.stringify;function Ae(){var e=Ue,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ne,Pe=function(){function e(){Object(u.a)(this,e),this.h=this.g=null}return Object(s.a)(e,[{key:"add",value:function(e,t){var n=Re.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Re=new(function(){function e(t,n){Object(u.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(s.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())(function(){return new Le},function(e){return e.reset()}),Le=function(){function e(){Object(u.a)(this,e),this.next=this.g=this.h=null}return Object(s.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function De(e){v.setTimeout(function(){throw e},0)}function Me(e,t){Ne||function(){var e=v.Promise.resolve(void 0);Ne=function(){e.then(Ve)}}(),Fe||(Ne(),Fe=!0),Ue.add(e,t)}var Fe=!1,Ue=new Pe;function Ve(){for(var e;e=Ae();){try{e.h.call(e.g)}catch(n){De(n)}var t=Re;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fe=!1}function Be(e,t){Se.call(this),this.h=e||1,this.g=t||v,this.j=O(this.kb,this),this.l=Date.now()}function ze(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qe(e,t,n){if("function"===typeof e)n&&(e=O(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=O(e.handleEvent,e)}return 2147483647<Number(t)?-1:v.setTimeout(e,t||0)}j(Be,Se),(f=Be.prototype).da=!1,f.S=null,f.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Te(this,"tick"),this.da&&(ze(this),this.start()))}},f.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},f.M=function(){Be.Z.M.call(this),ze(this),delete this.g};var Ge=function(e){function t(e,n){var i;return Object(u.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).m=e,i.j=n,i.h=null,i.i=!1,i.g=null,i}return Object(o.a)(t,e),Object(s.a)(t,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=qe(function(){t.g=null,t.i&&(t.i=!1,e(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)}},{key:"M",value:function(){Object(i.a)(Object(a.a)(t.prototype),"M",this).call(this),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),t}(E);function We(e){E.call(this),this.h=e,this.g={}}j(We,E);var Ke=[];function He(e,t,n,r){Array.isArray(n)||(n&&(Ke[0]=n.toString()),n=Ke);for(var i=0;i<n.length;i++){var a=be(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Qe(e){U(e.g,function(e,t){this.g.hasOwnProperty(t)&&we(e)},e),e.g={}}function $e(){this.g=!0}function Ye(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ce(n)}catch(u){return t}}(e,n)+(r?" "+r:"")})}We.prototype.M=function(){We.Z.M.call(this),Qe(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.Aa=function(){this.g=!1},$e.prototype.info=function(){};var Je={},Xe=null;function Ze(){return Xe=Xe||new Se}function et(e){ue.call(this,Je.Ma,e)}function tt(e){var t=Ze();Te(t,new et(t,e))}function nt(e,t){ue.call(this,Je.STAT_EVENT,e),this.stat=t}function rt(e){var t=Ze();Te(t,new nt(t,e))}function it(e,t){ue.call(this,Je.Na,e),this.size=t}function at(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){e()},t)}Je.Ma="serverreachability",j(et,ue),Je.STAT_EVENT="statevent",j(nt,ue),Je.Na="timingevent",j(it,ue);var ot={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ut={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function st(){}function ct(e){return e.h||(e.h=e.i())}function lt(){}st.prototype.h=null;var ft,ht={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dt(){ue.call(this,"d")}function pt(){ue.call(this,"c")}function vt(){}function yt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new We(this),this.P=gt,e=Q?125:void 0,this.W=new Be(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}j(dt,ue),j(pt,ue),j(vt,st),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},ft=new vt;var gt=45e3,bt={},kt={};function wt(e,t,n){e.K=1,e.v=Gt(Ft(t)),e.s=n,e.U=!0,_t(e,null)}function _t(e,t){e.F=Date.now(),Et(e),e.A=Ft(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),rn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new mt,e.g=or(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ge(O(e.Ia,e,e.g),e.O)),He(e.V,e.g,"readystatechange",e.gb),t=e.H?V(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),tt(1),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ot(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function xt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=jt(e,n))==kt){4==t&&(e.o=4,rt(14),i=!1),Ye(e.j,e.m,null,"[Incomplete Response]");break}if(r==bt){e.o=4,rt(15),Ye(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ye(e.j,e.m,r,null),At(e,r)}Ot(e)&&r!=kt&&r!=bt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xn(t),t.L=!0,rt(11))):(Ye(e.j,e.m,n,"[Invalid Chunked Response]"),Ct(e),It(e))}function jt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?kt:(n=Number(t.substring(n,r)),isNaN(n)?bt:(r+=1)+n>t.length?kt:(t=t.substr(r,n),e.C=r+n,t))}function Et(e){e.Y=Date.now()+e.P,St(e,e.P)}function St(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=at(O(e.eb,e),t)}function Tt(e){e.B&&(v.clearTimeout(e.B),e.B=null)}function It(e){0==e.l.G||e.I||tr(e.l,e)}function Ct(e){Tt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ze(e.W),Qe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function At(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hn(n.i,e)))if(n.I=e.N,!e.J&&hn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;er(n),qn(n)}Jn(n),rt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=at(O(n.ab,n),6e3));if(1>=fn(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else rr(n,11)}else if((e.J||n.g==e)&&er(n),!N(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(L(l,"spdy")||L(l,"quic")||L(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(dn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,qt(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ar(r,r.H?r.la:null,r.W),d.J){pn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Tt(p),Et(p)),r.g=d}else Yn(r);0<n.l.length&&Kn(n)}else"stop"!=a[0]&&"close"!=a[0]||rr(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?rr(n,7):zn(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}tt(4)}catch(a){}}function Nt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(m(e)||"string"===typeof e)I(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(m(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(m(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Pt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Lt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Lt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(f=yt.prototype).setTimeout=function(e){this.P=e},f.gb=function(e){e=e.target;var t=this.L;t&&3==Mn(e)?t.l():this.Ia(e)},f.Ia=function(e){try{if(e==this.g)e:{var t=Mn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Q||this.g&&(this.h.h||this.g.ga()||Fn(this.g)))){this.I||4!=t||7==n||tt(8==n||0>=r?3:2),Tt(this);var i=this.g.ba();this.N=i;t:if(Ot(this)){var a=Fn(this.g);e="";var o=a.length,u=4==Mn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ct(this),It(this);var s="";break t}this.h.i=new v.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,rt(12),Ct(this),It(this);break e}Ye(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,At(this,i)}this.U?(xt(this,t,s),Q&&this.i&&3==t&&(He(this.V,this.W,"tick",this.fb),this.W.start())):(Ye(this.j,this.m,s,null),At(this,s)),4==t&&Ct(this),this.i&&!this.I&&(4==t?tr(this.l,this):(this.i=!1,Et(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,rt(12)):(this.o=0,rt(13)),Ct(this),It(this)}}}catch(t){}},f.fb=function(){if(this.g){var e=Mn(this.g),t=this.g.ga();this.C<t.length&&(Tt(this),xt(this,e,t),this.i&&4!=e&&Et(this))}},f.cancel=function(){this.I=!0,Ct(this)},f.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(tt(3),rt(17)),Ct(this),this.o=2,It(this)):St(this,this.Y-e)},(f=Pt.prototype).R=function(){Rt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},f.T=function(){return Rt(this),this.g.concat()},f.get=function(e,t){return Lt(this.h,e)?this.h[e]:t},f.set=function(e,t){Lt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},f.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Dt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Mt){this.g=void 0!==t?t:e.g,Ut(this,e.j),this.s=e.s,Vt(this,e.i),Bt(this,e.m),this.l=e.l,t=e.h;var n=new Zt;n.i=t.i,t.g&&(n.g=new Pt(t.g),n.h=t.h),zt(this,n),this.o=e.o}else e&&(n=String(e).match(Dt))?(this.g=!!t,Ut(this,n[1]||"",!0),this.s=Wt(n[2]||""),Vt(this,n[3]||"",!0),Bt(this,n[4]),this.l=Wt(n[5]||"",!0),zt(this,n[6]||"",!0),this.o=Wt(n[7]||"")):(this.g=!!t,this.h=new Zt(null,this.g))}function Ft(e){return new Mt(e)}function Ut(e,t,n){e.j=n?Wt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vt(e,t,n){e.i=n?Wt(t,!0):t}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zt(e,t,n){t instanceof Zt?(e.h=t,function(e,t){t&&!e.j&&(en(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tn(this,t),rn(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Kt(t,Jt)),e.h=new Zt(t,e.g))}function qt(e,t,n){e.h.set(t,n)}function Gt(e){return qt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Kt(t,Qt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Kt(t,Qt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kt(n,"/"==n.charAt(0)?Yt:$t,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Kt(n,Xt)),e.join("")};var Qt=/[#\/\?@]/g,$t=/[#\?:]/g,Yt=/[#\?]/g,Jt=/[#\?@]/g,Xt=/#/g;function Zt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function en(e){e.g||(e.g=new Pt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tn(e,t){en(e),t=an(e,t),Lt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Lt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Rt(e)))}function nn(e,t){return en(e),t=an(e,t),Lt(e.g.h,t)}function rn(e,t,n){tn(e,t),0<n.length&&(e.i=null,e.g.set(an(e,t),A(n)),e.h+=n.length)}function an(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(f=Zt.prototype).add=function(e,t){en(this),this.i=null,e=an(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},f.forEach=function(e,t){en(this),this.g.forEach(function(n,r){I(n,function(n){e.call(t,n,r,this)},this)},this)},f.T=function(){en(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},f.R=function(e){en(this);var t=[];if("string"===typeof e)nn(this,e)&&(t=C(t,this.g.get(an(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=C(t,e[n])}return t},f.set=function(e,t){return en(this),this.i=null,nn(this,e=an(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},f.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},f.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var on=function e(t,n){Object(u.a)(this,e),this.h=t,this.g=n};function un(e){this.l=e||cn,v.PerformanceNavigationTiming?e=0<(e=v.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(v.g&&v.g.Ea&&v.g.Ea()&&v.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sn,cn=10;function ln(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fn(e){return e.h?1:e.g?e.g.size:0}function hn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dn(e,t){e.g?e.g.add(t):e.h=t}function pn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=c(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return A(e.i)}function yn(){}function mn(){this.g=new yn}function gn(e,t,n){var r=n||"";try{Nt(e,function(e,n){var i=e;g(e)&&(i=Ce(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function kn(e){this.l=e.$b||null,this.j=e.ib||!1}function wn(e,t){Se.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_n,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}un.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=c(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},yn.prototype.stringify=function(e){return v.JSON.stringify(e,void 0)},yn.prototype.parse=function(e){return v.JSON.parse(e,void 0)},j(kn,st),kn.prototype.g=function(){return new wn(this.l,this.j)},kn.prototype.i=(sn={},function(){return sn}),j(wn,Se);var _n=0;function On(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function xn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,jn(e)}function jn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(f=wn.prototype).open=function(e,t){if(this.readyState!=_n)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,jn(this)},f.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||v).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},f.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xn(this)),this.readyState=_n},f.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof v.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;On(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},f.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xn(this):jn(this),3==this.readyState&&On(this)}},f.Ua=function(e){this.g&&(this.response=this.responseText=e,xn(this))},f.Ta=function(e){this.g&&(this.response=e,xn(this))},f.ha=function(){this.g&&xn(this)},f.setRequestHeader=function(e,t){this.v.append(e,t)},f.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},f.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var En=v.JSON.parse;function Sn(e){Se.call(this),this.headers=new Pt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tn,this.K=this.L=!1}j(Sn,Se);var Tn="",In=/^https?$/i,Cn=["POST","PUT"];function An(e){return"content-type"==e.toLowerCase()}function Nn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pn(e),Ln(e)}function Pn(e){e.D||(e.D=!0,Te(e,"complete"),Te(e,"error"))}function Rn(e){if(e.h&&"undefined"!=typeof p&&(!e.C[1]||4!=Mn(e)||2!=e.ba()))if(e.v&&4==Mn(e))qe(e.Fa,0,e);else if(Te(e,"readystatechange"),4==Mn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Dt)[1]||null;if(!a&&v.self&&v.self.location){var o=v.self.location.protocol;a=o.substr(0,o.length-1)}i=!In.test(a?a.toLowerCase():"")}t=i}if(t)Te(e,"complete"),Te(e,"success");else{e.m=6;try{var u=2<Mn(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Pn(e)}}finally{Ln(e)}}}function Ln(e,t){if(e.g){Dn(e);var n=e.g,r=e.C[0]?y:null;e.g=null,e.C=null,t||Te(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Dn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(v.clearTimeout(e.A),e.A=null)}function Mn(e){return e.g?e.g.readyState:0}function Fn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Tn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Un(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return U(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):qt(e,t,n))}function Vn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bn(e){this.za=0,this.l=[],this.h=new $e,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vn("baseRetryDelayMs",5e3,e),this.$a=Vn("retryDelaySeedMs",1e4,e),this.Ya=Vn("forwardChannelMaxRetries",2,e),this.ra=Vn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new un(e&&e.concurrentRequestLimit),this.Ca=new mn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function zn(e){if(Gn(e),3==e.G){var t=e.V++,n=Ft(e.F);qt(n,"SID",e.J),qt(n,"RID",t),qt(n,"TYPE","terminate"),Qn(e,n),(t=new yt(e,e.h,t,void 0)).K=2,t.v=Gt(Ft(n)),n=!1,v.navigator&&v.navigator.sendBeacon&&(n=v.navigator.sendBeacon(t.v.toString(),"")),!n&&v.Image&&((new Image).src=t.v,n=!0),n||(t.g=or(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Et(t)}ir(e)}function qn(e){e.g&&(Xn(e),e.g.cancel(),e.g=null)}function Gn(e){qn(e),e.u&&(v.clearTimeout(e.u),e.u=null),er(e),e.i.cancel(),e.m&&("number"===typeof e.m&&v.clearTimeout(e.m),e.m=null)}function Wn(e,t){e.l.push(new on(e.Za++,t)),3==e.G&&Kn(e)}function Kn(e){ln(e.i)||e.m||(e.m=!0,Me(e.Ha,e),e.C=0)}function Hn(e,t){var n;n=t?t.m:e.V++;var r=Ft(e.F);qt(r,"SID",e.J),qt(r,"RID",n),qt(r,"AID",e.U),Qn(e,r),e.o&&e.s&&Un(r,e.o,e.s),n=new yt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$n(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),dn(e.i,n),wt(n,r,t)}function Qn(e,t){e.j&&Nt({},function(e,n){qt(t,n,e)})}function $n(e,t,n){n=Math.min(e.l.length,n);var r=e.j?O(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{gn(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Yn(e){e.g||e.u||(e.Y=1,Me(e.Ga,e),e.A=0)}function Jn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=at(O(e.Ga,e),nr(e,e.A)),e.A++,!0)}function Xn(e){null!=e.B&&(v.clearTimeout(e.B),e.B=null)}function Zn(e){e.g=new yt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ft(e.oa);qt(t,"RID","rpc"),qt(t,"SID",e.J),qt(t,"CI",e.N?"0":"1"),qt(t,"AID",e.U),Qn(e,t),qt(t,"TYPE","xmlhttp"),e.o&&e.s&&Un(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Gt(Ft(t)),n.s=null,n.U=!0,_t(n,e)}function er(e){null!=e.v&&(v.clearTimeout(e.v),e.v=null)}function tr(e,t){var n=null;if(e.g==t){er(e),Xn(e),e.g=null;var r=2}else{if(!hn(e.i,t))return;n=t.D,pn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Te(r=Ze(),new it(r,n,t,i)),Kn(e)}else Yn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(fn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=at(O(e.Ha,e,t),nr(e,e.C)),e.C++,!0))}(e,t)||2==r&&Jn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:rr(e,5);break;case 4:rr(e,10);break;case 3:rr(e,6);break;default:rr(e,2)}}function nr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function rr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=O(e.jb,e);n||(n=new Mt("//www.google.com/images/cleardot.gif"),v.location&&"http"==v.location.protocol||Ut(n,"https"),Gt(n)),function(e,t){var n=new $e;if(v.Image){var r=new Image;r.onload=x(bn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=x(bn,n,r,"TestLoadImage: error",!1,t),r.onabort=x(bn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=x(bn,n,r,"TestLoadImage: timeout",!1,t),v.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else rt(2);e.G=0,e.j&&e.j.va(t),ir(e),Gn(e)}function ir(e){e.G=0,e.I=-1,e.j&&(0==vn(e.i).length&&0==e.l.length||(e.i.i.length=0,A(e.l),e.l.length=0),e.j.ua())}function ar(e,t,n){var r=function(e){return e instanceof Mt?Ft(e):new Mt(e,void 0)}(n);if(""!=r.i)t&&Vt(r,t+"."+r.i),Bt(r,r.m);else{var i=v.location;r=function(e,t,n,r){var i=new Mt(null,void 0);return e&&Ut(i,e),t&&Vt(i,t),n&&Bt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&U(e.aa,function(e,t){qt(r,t,e)}),t=e.D,n=e.sa,t&&n&&qt(r,t,n),qt(r,"VER",e.ma),Qn(e,r),r}function or(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Sn(new kn({ib:!0})):new Sn(e.qa)).L=e.H,t}function ur(){}function sr(){if(K&&!(10<=Number(ae)))throw Error("Environmental error: no available transport.")}function cr(e,t){Se.call(this),this.g=new Bn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!N(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!N(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hr(this)}function lr(e){dt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fr(){pt.call(this),this.status=1}function hr(e){this.g=e}(f=Sn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ft.g(),this.C=this.u?ct(this.u):ct(ft),this.g.onreadystatechange=O(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Nn(this,a)}e=n||"";var i=new Pt(this.headers);r&&Nt(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=An,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=v.FormData&&e instanceof v.FormData,!(0<=T(Cn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dn(this),0<this.B&&((this.K=function(e){return K&&re()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=O(this.pa,this)):this.A=qe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Nn(this,a)}},f.pa=function(){"undefined"!=typeof p&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Te(this,"timeout"),this.abort(8))},f.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Te(this,"complete"),Te(this,"abort"),Ln(this))},f.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ln(this,!0)),Sn.Z.M.call(this)},f.Fa=function(){this.s||(this.F||this.v||this.l?Rn(this):this.cb())},f.cb=function(){Rn(this)},f.ba=function(){try{return 2<Mn(this)?this.g.status:-1}catch(sn){return-1}},f.ga=function(){try{return this.g?this.g.responseText:""}catch(sn){return""}},f.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),En(t)}},f.Da=function(){return this.m},f.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(f=Bn.prototype).ma=8,f.G=1,f.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},f.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new yt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?z(n=V(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$n(this,t,r),qt(i=Ft(this.F),"RID",e),qt(i,"CVER",22),this.D&&qt(i,"X-HTTP-Session-Id",this.D),Qn(this,i),this.o&&n&&Un(i,this.o,n),dn(this.i,t),this.Ra&&qt(i,"TYPE","init"),this.ja?(qt(i,"$req",r),qt(i,"SID","null"),t.$=!0,wt(t,i,null)):wt(t,i,r),this.G=2}}else 3==this.G&&(e?Hn(this,e):0==this.l.length||ln(this.i)||Hn(this))},f.Ga=function(){if(this.u=null,Zn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=at(O(this.bb,this),e)}},f.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rt(10),qn(this),Zn(this))},f.ab=function(){null!=this.v&&(this.v=null,qn(this),Jn(this),rt(19))},f.jb=function(e){e?(this.h.info("Successfully pinged google.com"),rt(2)):(this.h.info("Failed to ping google.com"),rt(1))},(f=ur.prototype).xa=function(){},f.wa=function(){},f.va=function(){},f.ua=function(){},f.Oa=function(){},sr.prototype.g=function(e,t){return new cr(e,t)},j(cr,Se),cr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Me(O(e.hb,e,t))),rt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ar(e,null,e.W),Kn(e)},cr.prototype.close=function(){zn(this.g)},cr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Wn(this.g,t)}else this.v?((t={}).__data__=Ce(e),Wn(this.g,t)):Wn(this.g,e)},cr.prototype.M=function(){this.g.j=null,delete this.j,zn(this.g),delete this.g,cr.Z.M.call(this)},j(lr,dt),j(fr,pt),j(hr,ur),hr.prototype.xa=function(){Te(this.g,"a")},hr.prototype.wa=function(e){Te(this.g,new lr(e))},hr.prototype.va=function(e){Te(this.g,new fr(e))},hr.prototype.ua=function(){Te(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,cr.prototype.send=cr.prototype.u,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,ut.COMPLETE="complete",lt.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",Se.prototype.listen=Se.prototype.N,Sn.prototype.listenOnce=Sn.prototype.O,Sn.prototype.getLastError=Sn.prototype.La,Sn.prototype.getLastErrorCode=Sn.prototype.Da,Sn.prototype.getStatus=Sn.prototype.ba,Sn.prototype.getResponseJson=Sn.prototype.Qa,Sn.prototype.getResponseText=Sn.prototype.ga,Sn.prototype.send=Sn.prototype.ea;var dr=d.createWebChannelTransport=function(){return new sr},pr=d.getStatEventTarget=function(){return Ze()},vr=d.ErrorCode=ot,yr=d.EventType=ut,mr=d.Event=Je,gr=d.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},br=d.FetchXmlHttpFactory=kn,kr=d.WebChannel=lt,wr=d.XhrIo=Sn}).call(this,n(46))},function(e,t,n){"use strict";var r=n(14),i=n(32),a=n(13),o=n(41);n.d(t,"b",function(){return p}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return y});var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map(function(e){return o+e}):[o+l]}),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i,o=null!=(i=Object(a.b)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function y(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function m(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce(function(e,r){return e[r]=y(t,n),e},{})}}(l(n),r),o=e[n];return Object(i.b)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map(function(r){return m(e,t,r,n)}).reduce(o.a,{})}function b(e){return g(e,f)}function k(e){return g(e,h)}function w(e){return g(e,d)}b.propTypes={},b.filterProps=f,k.propTypes={},k.filterProps=h,w.propTypes={},w.filterProps=d;t.c=w},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i});function r(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "}),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},a=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(5),i=n(51);function a(e,t){return r.useMemo(function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}},[e,t])}},function(e,t,n){"use strict";var r=n(149);var i=n(160),a=n(5);var o=a.createContext(null);var u=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=a.useContext(o);return n&&(e=n,0!==Object.keys(e).length)?n:t},s=Object(i.a)();var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return u(e)};function l(e){var t=e.props,n=e.name,i=e.defaultTheme;return function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Object(r.a)(t.components[n].defaultProps,i):i}({theme:c(i),name:n,props:t})}var f=n(67);function h(e){return l({props:e.props,name:e.name,defaultTheme:f.a})}n.d(t,"a",function(){return h})},function(e,t,n){"use strict";var r=n(147);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(54);n.d(t,"a",function(){return v});var o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=Object(a.a)(function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()}),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,function(e,t,n){return d={name:t,styles:n,next:d},t})}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=h(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,h(e,t,a)}break;case"string":}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=h(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=h(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(a));)c+="-"+s[1];return{name:r(a)+c,styles:a,next:d}}},,function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(82)},function(e,t,n){"use strict";e.exports=n(116)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(47);function i(e,t,n){return(i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},function(e,t,n){"use strict";var r=n(60);var i=n(103),a=n(64);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r,i=n(19),a=n(1),o=n(3),u=n(14),s=n(4),c=n(2),l=n(10),f=n(18),h=n(0),d=n(16),p=n(17),v=n(34);function y(){y=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=d.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(g,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),u(g,o,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function m(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=1e4,k="w:".concat("0.5.10"),w="FIS_v2",_="https://firebaseinstallations.googleapis.com/v1",O=36e5,x=(r={},Object(s.a)(r,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Object(s.a)(r,"not-registered","Firebase Installation is not registered."),Object(s.a)(r,"installation-not-found","Firebase Installation not found."),Object(s.a)(r,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Object(s.a)(r,"app-offline","Could not process request. Application offline."),Object(s.a)(r,"delete-pending-registration","Can't delete installation while there is a pending registration request."),r),j=new h.b("installations","Installations",x);function E(e){return e instanceof h.c&&e.code.includes("request-failed")}function S(e){var t=e.projectId;return"".concat(_,"/projects/").concat(t,"/installations")}function T(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function I(e,t){return C.apply(this,arguments)}function C(){return(C=Object(c.a)(y().mark(function e(t,n){var r,i;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",j.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function N(e,t){var n=t.refreshToken,r=A(e);return r.append("Authorization",function(e){return"".concat(w," ").concat(e)}(n)),r}function P(e){return R.apply(this,arguments)}function R(){return(R=Object(c.a)(y().mark(function e(t){var n;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e,t){return D.apply(this,arguments)}function D(){return(D=Object(c.a)(y().mark(function e(t,n){var r,i,a,o,u,s,c,l,f,h,d,p;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=S(r),u=A(r),!(s=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,s.getHeartbeatsHeader();case 8:(c=e.sent)&&u.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:w,appId:r.appId,sdkVersion:k},f={method:"POST",headers:u,body:JSON.stringify(l)},e.next=14,P(function(){return fetch(o,f)});case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:T(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,I("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e){return new Promise(function(t){setTimeout(t,e)})}var F=/^[cdef][\w-]{21}$/,U="";function V(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(p.a)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return F.test(t)?t:U}catch(n){return U}}function B(e){return"".concat(e.appName,"!").concat(e.appId)}var z=new Map;function q(e,t){var n=B(e);G(n,t),function(e,t){var n=K();n&&n.postMessage({key:e,fid:t});H()}(n,t)}function G(e,t){var n=z.get(e);if(n){var r,i=m(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var W=null;function K(){return!W&&"BroadcastChannel"in self&&((W=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){G(e.data.key,e.data.fid)}),W}function H(){0===z.size&&W&&(W.close(),W=null)}var Q="firebase-installations-database",$=1,Y="firebase-installations-store",J=null;function X(){return J||(J=Object(v.b)(Q,$,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(Y)}}})),J}function Z(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(c.a)(y().mark(function e(t,n){var r,i,a,o,u;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=B(t),e.next=3,X();case 3:return i=e.sent,a=i.transaction(Y,"readwrite"),o=a.objectStore(Y),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return u&&u.fid===n.fid||q(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(c.a)(y().mark(function e(t){var n,r,i;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=B(t),e.next=3,X();case 3:return r=e.sent,i=r.transaction(Y,"readwrite"),e.next=7,i.objectStore(Y).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function re(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(c.a)(y().mark(function e(t,n){var r,i,a,o,u,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=B(t),e.next=3,X();case 3:return i=e.sent,a=i.transaction(Y,"readwrite"),o=a.objectStore(Y),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,a.done;case 19:return!s||u&&u.fid===s.fid||q(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(c.a)(y().mark(function e(t){var n,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t.appConfig,function(e){var r=ue(e),i=se(t,r);return n=i.registrationPromise,i.installationEntry});case 2:if((r=e.sent).fid!==U){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(e){return de(e||{fid:V(),registrationStatus:0})}function se(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(j.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return ce.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:le(e)}:{installationEntry:t}}function ce(){return(ce=Object(c.a)(y().mark(function e(t,n){var r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(t,n);case 3:return r=e.sent,e.abrupt("return",Z(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!E(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,te(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Z(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function le(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(c.a)(y().mark(function e(t){var n,r,i,a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,M(100);case 6:return e.next=8,he(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,ae(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}},e)}))).apply(this,arguments)}function he(e){return re(e,function(e){if(!e)throw j.create("installation-not-found");return de(e)})}function de(e){return 1===(t=e).registrationStatus&&t.registrationTime+b<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function pe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(c.a)(y().mark(function e(t,n){var r,i,a,o,u,s,c,l,f,h,d;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=ye(r,n),o=N(r,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(s=e.sent)&&o.append("x-firebase-client",s);case 9:return c={installation:{sdkVersion:k,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,P(function(){return fetch(a,l)});case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=T(h),e.abrupt("return",d);case 22:return e.next=24,I("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ye(e,t){var n=t.fid;return"".concat(S(e),"/").concat(n,"/authTokens:generate")}function me(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(c.a)(y().mark(function e(t){var n,r,i,a,o=arguments;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,re(t.appConfig,function(e){if(!xe(e))throw j.create("not-registered");var i,a=e.authToken;if(n||2!==(i=a).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+O}(i)){if(1===a.requestStatus)return r=be(t,n),e;if(!navigator.onLine)throw j.create("app-offline");var o=je(e);return r=_e(t,o),o}return e});case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function be(e,t){return ke.apply(this,arguments)}function ke(){return(ke=Object(c.a)(y().mark(function e(t,n){var r,i;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,M(100);case 6:return e.next=8,we(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",me(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function we(e){return re(e,function(e){if(!xe(e))throw j.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+b<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function _e(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(c.a)(y().mark(function e(t,n){var r,i,a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Z(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!E(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,te(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Z(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function xe(e){return void 0!==e&&2===e.registrationStatus}function je(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Ee(){return(Ee=Object(c.a)(y().mark(function e(t){var n,r,i,a;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,ae(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):me(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Se(){return(Se=Object(c.a)(y().mark(function e(t){var n,r,i,a=arguments;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Te(r);case 4:return e.next=6,me(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Te(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(c.a)(y().mark(function e(t){var n,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ce(e){return j.create("missing-app-config-values",{valueName:e})}var Ae,Ne="installations",Pe="installations-internal",Re=function(e){var t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw Ce("App Configuration");if(!e.name)throw Ce("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Ce(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),heartbeatServiceProvider:Object(l._getProvider)(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Le=function(e){var t=e.getProvider("app").getImmediate(),n=Object(l._getProvider)(t,Ne).getImmediate();return{getId:function(){return function(e){return Ee.apply(this,arguments)}(n)},getToken:function(e){return function(e){return Se.apply(this,arguments)}(n,e)}}};function De(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(){Fe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}Object(l._registerComponent)(new d.a(Ne,Re,"PUBLIC")),Object(l._registerComponent)(new d.a(Pe,Le,"PRIVATE")),Object(l.registerVersion)("@firebase/installations","0.5.10"),Object(l.registerVersion)("@firebase/installations","0.5.10","esm2017");var Ue="analytics",Ve="firebase_id",Be="origin",ze=6e4,qe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ge="https://www.googletagmanager.com/gtag/js",We=new f.b("@firebase/analytics");function Ke(e){return Promise.all(e.map(function(e){return e.catch(function(e){return e})}))}function He(e,t){var n=document.createElement("script");n.src="".concat(Ge,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function Qe(e,t,n,r,i,a){return $e.apply(this,arguments)}function $e(){return($e=Object(c.a)(Fe().mark(function e(t,n,r,i,a,o){var u,s,c;return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[a],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,Ke(r);case 9:if(s=e.sent,!(c=s.find(function(e){return e.measurementId===a}))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),We.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}function Ye(e,t,n,r,i){return Je.apply(this,arguments)}function Je(){return(Je=Object(c.a)(Fe().mark(function e(t,n,r,i,a){var o,u,s,c,l,f;return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,Ke(r);case 7:s=e.sent,c=De(u),e.prev=9,f=function(){var e=l.value,t=s.find(function(t){return t.measurementId===e}),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),We.error(e.t1);case 35:case"end":return e.stop()}},e,null,[[0,32],[9,20,23,26]])}))).apply(this,arguments)}function Xe(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=Object(c.a)(Fe().mark(function i(a,o,u){return Fe().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,Ye(e,t,n,o,u);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,Qe(e,t,n,r,o,u);case 9:i.next=12;break;case 11:e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),We.error(i.t0);case 17:case"end":return i.stop()}},i,null,[[0,14]])}))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function Ze(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Ge))return r}return null}var et=(Ae={},Object(s.a)(Ae,"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),Object(s.a)(Ae,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),Object(s.a)(Ae,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),Object(s.a)(Ae,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),Object(s.a)(Ae,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Object(s.a)(Ae,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Object(s.a)(Ae,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),Object(s.a)(Ae,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),Object(s.a)(Ae,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),Object(s.a)(Ae,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Ae),tt=new h.b("analytics","Analytics",et),nt=30,rt=1e3,it=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt;Object(a.a)(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Object(o.a)(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}());function at(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function ot(e){return ut.apply(this,arguments)}function ut(){return(ut=Object(c.a)(Fe().mark(function e(t){var n,r,i,a,o,u,s,c;return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:at(i)},o=qe.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return s="",e.prev=8,e.next=11,u.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(s=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw tt.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}},e,null,[[8,15]])}))).apply(this,arguments)}function st(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(c.a)(Fe().mark(function e(t){var n,r,i,a,o,u,s,l,f=arguments;return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:it,r=f.length>2?f[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,u=i.measurementId,a){e.next=5;break}throw tt.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:a});case 8:throw tt.create("no-api-key");case 9:return s=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new pt,setTimeout(Object(c.a)(Fe().mark(function e(){return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.abort();case 1:case"end":return e.stop()}},e)})),void 0!==r?r:ze),e.abrupt("return",lt({appId:a,apiKey:o,measurementId:u},s,l,n));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lt(e,t,n){return ft.apply(this,arguments)}function ft(){return(ft=Object(c.a)(Fe().mark(function e(t,n,r){var i,a,o,u,s,c,l,f,d=arguments;return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=d.length>3&&void 0!==d[3]?d[3]:it,u=t.appId,s=t.measurementId,e.prev=3,e.next=6,ht(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!s){e.next=13;break}return We.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:s});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,ot(t);case 17:return c=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",c);case 22:if(e.prev=22,e.t1=e.catch(14),dt(e.t1)){e.next=32;break}if(o.deleteThrottleMetadata(u),!s){e.next=31;break}return We.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(e.t1.message,"]")),e.abrupt("return",{appId:u,measurementId:s});case 31:throw e.t1;case 32:return l=503===Number(e.t1.customData.httpStatus)?Object(h.l)(a,o.intervalMillis,nt):Object(h.l)(a,o.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:a+1},o.setThrottleMetadata(u,f),We.debug("Calling attemptFetch again in ".concat(l," millis")),e.abrupt("return",lt(t,f,r,o));case 37:case"end":return e.stop()}},e,null,[[3,8],[14,22]])}))).apply(this,arguments)}function ht(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(function(){clearTimeout(a),r(tt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function dt(e){if(!(e instanceof h.c)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var pt=function(){function e(){Object(a.a)(this,e),this.listeners=[]}return Object(o.a)(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach(function(e){return e()})}}]),e}();function vt(){return yt.apply(this,arguments)}function yt(){return(yt=Object(c.a)(Fe().mark(function e(){return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(h.D)()){e.next=5;break}return We.warn(tt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Object(h.X)();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),We.warn(tt.create("indexeddb-unavailable",{errorInfo:e.t0}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}},e,null,[[5,10]])}))).apply(this,arguments)}function mt(){return(mt=Object(c.a)(Fe().mark(function e(t,n,r,i,a,o,s){var c,l,f,h,d,p,v,y;return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(l=st(t)).then(function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&We.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(e){return We.error(e)}),n.push(l),f=vt().then(function(e){return e?i.getId():void 0}),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=Object(u.a)(h,2),p=d[0],v=d[1],Ze()||He(o,p.measurementId),a("js",new Date),(y=null!==(c=null===s||void 0===s?void 0:s.config)&&void 0!==c?c:{})[Be]="firebase",y.update=!0,null!=v&&(y[Ve]=v),a("config",p.measurementId,y),e.abrupt("return",p.measurementId);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}var gt,bt,kt=function(){function e(t){Object(a.a)(this,e),this.app=t}return Object(o.a)(e,[{key:"_delete",value:function(){return delete wt[this.app.options.appId],Promise.resolve()}}]),e}(),wt={},_t=[],Ot={},xt="dataLayer",jt="gtag",Et=!1;function St(e){if(Et)throw tt.create("already-initialized");e.dataLayerName&&(xt=e.dataLayerName),e.gtagName&&(jt=e.gtagName)}function Tt(e,t,n){!function(){var e=[];if(Object(h.z)()&&e.push("This is a browser extension environment."),Object(h.e)()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(e,t){return"(".concat(t+1,") ").concat(e)}).join(" "),n=tt.create("invalid-analytics-context",{errorInfo:t});We.warn(n.message)}}();var r=e.options.appId;if(!r)throw tt.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw tt.create("no-api-key");We.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=wt[r])throw tt.create("already-exists",{id:r});if(!Et){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(xt);var i=Xe(wt,_t,Ot,xt,jt),a=i.wrappedGtag,o=i.gtagCore;bt=a,gt=o,Et=!0}return wt[r]=function(e,t,n,r,i,a,o){return mt.apply(this,arguments)}(e,_t,Ot,t,gt,xt,n),new kt(e)}function It(){return(It=Object(c.a)(Fe().mark(function e(t,n,r,i,a){var o,u;return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ct(){return(Ct=Object(c.a)(Fe().mark(function e(t,n,r,i){var a;return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{screen_name:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,screen_name:r});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function At(){return(At=Object(c.a)(Fe().mark(function e(t,n,r,i){var a;return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{user_id:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,user_id:r});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nt(){return(Nt=Object(c.a)(Fe().mark(function e(t,n,r,i){var a,o,u,s,c;return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=7;break}for(a={},o=0,u=Object.keys(r);o<u.length;o++)s=u[o],a["user_properties.".concat(s)]=r[s];return t("set",a),e.abrupt("return",Promise.resolve());case 7:return e.next=9,n;case 9:c=e.sent,t("config",c,{update:!0,user_properties:r});case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pt(){return(Pt=Object(c.a)(Fe().mark(function e(t,n){var r;return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,window["ga-disable-".concat(r)]=!n;case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rt(){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(c.a)(Fe().mark(function e(){var t;return Fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(h.z)()){e.next=2;break}return e.abrupt("return",!1);case 2:if(Object(h.e)()){e.next=4;break}return e.abrupt("return",!1);case 4:if(Object(h.D)()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,Object(h.X)();case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,null,[[6,13]])}))).apply(this,arguments)}function Dt(e,t,n){e=Object(h.v)(e),function(e,t,n,r){return Ct.apply(this,arguments)}(bt,wt[e.app.options.appId],t,n).catch(function(e){return We.error(e)})}function Mt(e,t,n){e=Object(h.v)(e),function(e,t,n,r){return At.apply(this,arguments)}(bt,wt[e.app.options.appId],t,n).catch(function(e){return We.error(e)})}function Ft(e,t,n){e=Object(h.v)(e),function(e,t,n,r){return Nt.apply(this,arguments)}(bt,wt[e.app.options.appId],t,n).catch(function(e){return We.error(e)})}function Ut(e,t){e=Object(h.v)(e),function(e,t){return Pt.apply(this,arguments)}(wt[e.app.options.appId],t).catch(function(e){return We.error(e)})}function Vt(e,t,n,r){e=Object(h.v)(e),function(e,t,n,r,i){return It.apply(this,arguments)}(bt,wt[e.app.options.appId],t,n,r).catch(function(e){return We.error(e)})}var Bt="@firebase/analytics",zt="0.7.10";Object(l._registerComponent)(new d.a(Ue,function(e,t){var n=t.options;return Tt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Object(l._registerComponent)(new d.a("analytics-internal",function(e){try{var t=e.getProvider(Ue).getImmediate();return{logEvent:function(e,n,r){return Vt(t,e,n,r)}}}catch(n){throw tt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Object(l.registerVersion)(Bt,zt),Object(l.registerVersion)(Bt,zt,"esm2017");var qt,Gt=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"logEvent",value:function(e,t,n){Vt(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){Dt(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){Mt(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){Ft(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){Ut(this._delegate,e)}}]),e}();!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(qt||(qt={}));var Wt,Kt=function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new Gt(t,n)};function Ht(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $t(){$t=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}!function(){var e={Analytics:Gt,settings:St,isSupported:Rt,EventName:qt};i.a.INTERNAL.registerComponent(new d.a("analytics-compat",Kt,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),i.a.registerVersion("@firebase/analytics-compat","0.1.11");var Yt=new Map,Jt={activated:!1,tokenObservers:[]},Xt={initialized:!1,enabled:!1};function Zt(e){return Yt.get(e)||Jt}function en(e,t){Yt.set(e,t)}function tn(){return Xt}var nn="https://content-firebaseappcheck.googleapis.com/v1",rn="exchangeRecaptchaV3Token",an="exchangeRecaptchaEnterpriseToken",on="exchangeDebugToken",un={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},sn=864e5,cn=function(){function e(t,n,r,i,o){if(Object(a.a)(this,e),this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return Object(o.a)(e,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:function(){var e=Object(c.a)($t().mark(function e(t){return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.stop(),e.prev=1,this.pending=new h.a,e.next=5,ln(this.getNextRun(t));case 5:return this.pending.resolve(),e.next=8,this.pending.promise;case 8:return this.pending=new h.a,e.next=11,this.operation();case 11:return this.pending.resolve(),e.next=14,this.pending.promise;case 14:this.process(!0).catch(function(){}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),this.retryPolicy(e.t0)?this.process(!1).catch(function(){}):this.stop();case 20:case"end":return e.stop()}},e,this,[[1,17]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getNextRun",value:function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}]),e}();function ln(e){return new Promise(function(t){setTimeout(t,e)})}var fn=(Wt={},Object(s.a)(Wt,"already-initialized","You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance."),Object(s.a)(Wt,"use-before-activation","App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services."),Object(s.a)(Wt,"fetch-network-error","Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),Object(s.a)(Wt,"fetch-parse-error","Fetch client could not parse response. Original error: {$originalErrorMessage}."),Object(s.a)(Wt,"fetch-status-error","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),Object(s.a)(Wt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Object(s.a)(Wt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Object(s.a)(Wt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Object(s.a)(Wt,"recaptcha-error","ReCAPTCHA error."),Object(s.a)(Wt,"throttled","Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"),Wt),hn=new h.b("appCheck","AppCheck",fn);function dn(){var e;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function pn(e){if(!Zt(e).activated)throw hn.create("use-before-activation",{appName:e.name})}function vn(e){var t=Math.round(e/1e3),n=Math.floor(t/86400),r=Math.floor((t-3600*n*24)/3600),i=Math.floor((t-3600*n*24-3600*r)/60),a=t-3600*n*24-3600*r-60*i,o="";return n&&(o+=yn(n)+"d:"),r&&(o+=yn(r)+"h:"),o+=yn(i)+"m:"+yn(a)+"s"}function yn(e){return 0===e?"00":e>=10?e.toString():"0"+e}function mn(e,t){return gn.apply(this,arguments)}function gn(){return(gn=Object(c.a)($t().mark(function e(t,n){var r,i,a,o,u,s,c,l,f,h,d,p,v;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,i=t.body,u={"Content-Type":"application/json"},!(s=n.getImmediate({optional:!0}))){e.next=8;break}return e.next=6,s.getHeartbeatsHeader();case 6:(c=e.sent)&&(u["X-Firebase-Client"]=c);case 8:return l={method:"POST",body:JSON.stringify(i),headers:u},e.prev=9,e.next=12,fetch(r,l);case 12:f=e.sent,e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(9),hn.create("fetch-network-error",{originalErrorMessage:null===(a=e.t0)||void 0===a?void 0:a.message});case 18:if(200===f.status){e.next=20;break}throw hn.create("fetch-status-error",{httpStatus:f.status});case 20:return e.prev=20,e.next=23,f.json();case 23:h=e.sent,e.next=29;break;case 26:throw e.prev=26,e.t1=e.catch(20),hn.create("fetch-parse-error",{originalErrorMessage:null===(o=e.t1)||void 0===o?void 0:o.message});case 29:if((d=h.ttl.match(/^([\d.]+)(s)$/))&&d[2]&&!isNaN(Number(d[1]))){e.next=32;break}throw hn.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+"format: ".concat(h.ttl)});case 32:return p=1e3*Number(d[1]),v=Date.now(),e.abrupt("return",{token:h.token,expireTimeMillis:v+p,issuedAtTimeMillis:v});case 35:case"end":return e.stop()}},e,null,[[9,15],[20,26]])}))).apply(this,arguments)}function bn(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat(nn,"/projects/").concat(r,"/apps/").concat(i,":").concat(rn,"?key=").concat(a),body:{recaptcha_v3_token:t}}}function kn(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat(nn,"/projects/").concat(r,"/apps/").concat(i,":").concat(an,"?key=").concat(a),body:{recaptcha_enterprise_token:t}}}function wn(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat(nn,"/projects/").concat(r,"/apps/").concat(i,":").concat(on,"?key=").concat(a),body:{debug_token:t}}}var _n="firebase-app-check-database",On=1,xn="firebase-app-check-store",jn="debug-token",En=null;function Sn(){return En||(En=new Promise(function(e,t){var n;try{var r=indexedDB.open(_n,On);r.onsuccess=function(t){e(t.target.result)},r.onerror=function(e){var n;t(hn.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},r.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(xn,{keyPath:"compositeKey"})}}}catch(i){t(hn.create("storage-open",{originalErrorMessage:null===(n=i)||void 0===n?void 0:n.message}))}}))}function Tn(e){return An(Pn(e))}function In(e,t){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(c.a)($t().mark(function e(t,n){var r,i,a,o;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn();case 2:return r=e.sent,i=r.transaction(xn,"readwrite"),a=i.objectStore(xn),o=a.put({compositeKey:t,value:n}),e.abrupt("return",new Promise(function(e,t){o.onsuccess=function(t){e()},i.onerror=function(e){var n;t(hn.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function An(e){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(c.a)($t().mark(function e(t){var n,r,i,a;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn();case 2:return n=e.sent,r=n.transaction(xn,"readonly"),i=r.objectStore(xn),a=i.get(t),e.abrupt("return",new Promise(function(e,t){a.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},r.onerror=function(e){var n;t(hn.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pn(e){return"".concat(e.options.appId,"-").concat(e.name)}var Rn=new f.b("@firebase/app-check");function Ln(){return(Ln=Object(c.a)($t().mark(function e(t){var n;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(h.D)()){e.next=12;break}return n=void 0,e.prev=2,e.next=5,Tn(t);case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),Rn.warn("Failed to read token from IndexedDB. Error: ".concat(e.t0));case 11:return e.abrupt("return",n);case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}function Dn(e,t){return Object(h.D)()?function(e,t){return In(Pn(e),t)}(e,t).catch(function(e){Rn.warn("Failed to write token to IndexedDB. Error: ".concat(e))}):Promise.resolve()}function Mn(){return(Mn=Object(c.a)($t().mark(function e(){var t,n;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,An(jn);case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if(t){e.next=15;break}return n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),(r=n,In(jn,r)).catch(function(e){return Rn.warn("Failed to persist debug token to IndexedDB. Error: ".concat(e))}),e.abrupt("return",n);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}var r},e,null,[[1,7]])}))).apply(this,arguments)}function Fn(){return tn().enabled}function Un(){return Vn.apply(this,arguments)}function Vn(){return(Vn=Object(c.a)($t().mark(function e(){var t;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=tn()).enabled||!t.token){e.next=5;break}return e.abrupt("return",t.token.promise);case 5:throw Error("\n            Can't get debug token in production mode.\n        ");case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bn(){var e=Object(h.u)(),t=tn();if(t.initialized=!0,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){t.enabled=!0;var n=new h.a;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(function(){return Mn.apply(this,arguments)}())}}var zn={error:"UNKNOWN_ERROR"};function qn(e){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(c.a)($t().mark(function e(t){var n,r,i,a,o,u,s,c,l,f=arguments;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]&&f[1],pn(r=t.app),i=Zt(r),a=i.token,o=void 0,a){e.next=11;break}return e.next=9,i.cachedTokenPromise;case 9:(u=e.sent)&&$n(u)&&(a=u);case 11:if(n||!a||!$n(a)){e.next=13;break}return e.abrupt("return",{token:a.token});case 13:if(s=!1,!Fn()){e.next=33;break}if(i.exchangeTokenPromise){e.next=26;break}return e.t0=mn,e.t1=wn,e.t2=r,e.next=21,Un();case 21:e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5=t.heartbeatServiceProvider,i.exchangeTokenPromise=(0,e.t0)(e.t4,e.t5).then(function(e){return i.exchangeTokenPromise=void 0,e}),s=!0;case 26:return e.next=28,i.exchangeTokenPromise;case 28:return c=e.sent,e.next=31,Dn(r,c);case 31:return en(r,Object.assign(Object.assign({},i),{token:c})),e.abrupt("return",{token:c.token});case 33:return e.prev=33,i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(function(e){return i.exchangeTokenPromise=void 0,e}),s=!0),e.next=37,i.exchangeTokenPromise;case 37:a=e.sent,e.next=44;break;case 40:e.prev=40,e.t6=e.catch(33),e.t6.code==="appCheck/".concat("throttled")?Rn.warn(e.t6.message):Rn.error(e.t6),o=e.t6;case 44:if(a){e.next=48;break}l=Yn(o),e.next=52;break;case 48:return l={token:a.token},en(r,Object.assign(Object.assign({},i),{token:a})),e.next=52,Dn(r,a);case 52:return s&&Qn(r,l),e.abrupt("return",l);case 54:case"end":return e.stop()}},e,null,[[33,40]])}))).apply(this,arguments)}function Wn(e,t,n,r){var i=e.app,a=Zt(i),o={next:n,error:r,type:t};if(en(i,Object.assign(Object.assign({},a),{tokenObservers:[].concat(Object(p.a)(a.tokenObservers),[o])})),a.token&&$n(a.token)){var u=a.token;Promise.resolve().then(function(){n({token:u.token}),Hn(e)}).catch(function(){})}a.cachedTokenPromise.then(function(){return Hn(e)})}function Kn(e,t){var n=Zt(e),r=n.tokenObservers.filter(function(e){return e.next!==t});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),en(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Hn(e){var t=e.app,n=Zt(t),r=n.tokenRefresher;r||(r=function(e){var t=e.app;return new cn(Object(c.a)($t().mark(function n(){var r;return $t().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(Zt(t).token){n.next=7;break}return n.next=4,qn(e);case 4:r=n.sent,n.next=10;break;case 7:return n.next=9,qn(e,!0);case 9:r=n.sent;case 10:if(!r.error){n.next=12;break}throw r.error;case 12:case"end":return n.stop()}},n)})),function(){return!0},function(){var e=Zt(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0},un.RETRIAL_MIN_WAIT,un.RETRIAL_MAX_WAIT)}(e),en(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Qn(e,t){var n,r=Ht(Zt(e).tokenObservers);try{for(r.s();!(n=r.n()).done;){var i=n.value;try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(a){}}}catch(o){r.e(o)}finally{r.f()}}function $n(e){return e.expireTimeMillis-Date.now()>0}function Yn(e){return{token:(t=zn,h.h.encodeString(JSON.stringify(t),!1)),error:e};var t}var Jn=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this.heartbeatServiceProvider=n}return Object(o.a)(e,[{key:"_delete",value:function(){var e,t=Ht(Zt(this.app).tokenObservers);try{for(t.s();!(e=t.n()).done;){var n=e.value;Kn(this.app,n.next)}}catch(r){t.e(r)}finally{t.f()}return Promise.resolve()}}]),e}();var Xn="@firebase/app-check",Zn="0.5.9",er="https://www.google.com/recaptcha/api.js",tr="https://www.google.com/recaptcha/enterprise.js";function nr(e,t){var n=Zt(e),r=new h.a;en(e,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));var i=ar(e),a=dn(!1);return a?ir(e,t,a,i,r):function(e){var t=document.createElement("script");t.src=er,t.onload=e,document.head.appendChild(t)}(function(){var n=dn(!1);if(!n)throw new Error("no recaptcha");ir(e,t,n,i,r)}),r.promise}function rr(e,t){var n=Zt(e),r=new h.a;en(e,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));var i=ar(e),a=dn(!0);return a?ir(e,t,a,i,r):function(e){var t=document.createElement("script");t.src=tr,t.onload=e,document.head.appendChild(t)}(function(){var n=dn(!0);if(!n)throw new Error("no recaptcha");ir(e,t,n,i,r)}),r.promise}function ir(e,t,n,r,i){n.ready(function(){!function(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=Zt(e);en(e,Object.assign(Object.assign({},a),{reCAPTCHAState:Object.assign(Object.assign({},a.reCAPTCHAState),{widgetId:i})}))}(e,t,n,r),i.resolve(n)})}function ar(e){var t="fire_app_check_".concat(e.name),n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}function or(e){return ur.apply(this,arguments)}function ur(){return(ur=Object(c.a)($t().mark(function e(t){var n,r;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return pn(t),n=Zt(t).reCAPTCHAState,e.next=4,n.initialized.promise;case 4:return r=e.sent,e.abrupt("return",new Promise(function(e,n){var i=Zt(t).reCAPTCHAState;r.ready(function(){e(r.execute(i.widgetId,{action:"fire_app_check"}))})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var sr=function(){function e(t){Object(a.a)(this,e),this._siteKey=t,this._throttleData=null}return Object(o.a)(e,[{key:"getToken",value:function(){var e=Object(c.a)($t().mark(function e(){var t,n,r;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return hr(this._throttleData),e.next=3,or(this._app).catch(function(e){throw hn.create("recaptcha-error")});case 3:return n=e.sent,e.prev=4,e.next=7,mn(bn(this._app,n),this._heartbeatServiceProvider);case 7:r=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),"fetch-status-error"!==e.t0.code){e.next=17;break}throw this._throttleData=fr(Number(null===(t=e.t0.customData)||void 0===t?void 0:t.httpStatus),this._throttleData),hn.create("throttled",{time:vn(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw e.t0;case 18:return this._throttleData=null,e.abrupt("return",r);case 20:case"end":return e.stop()}},e,this,[[4,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._heartbeatServiceProvider=Object(l._getProvider)(e,"heartbeat"),nr(e,this._siteKey).catch(function(){})}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),cr=function(){function e(t){Object(a.a)(this,e),this._siteKey=t,this._throttleData=null}return Object(o.a)(e,[{key:"getToken",value:function(){var e=Object(c.a)($t().mark(function e(){var t,n,r;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return hr(this._throttleData),e.next=3,or(this._app).catch(function(e){throw hn.create("recaptcha-error")});case 3:return n=e.sent,e.prev=4,e.next=7,mn(kn(this._app,n),this._heartbeatServiceProvider);case 7:r=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),"fetch-status-error"!==e.t0.code){e.next=17;break}throw this._throttleData=fr(Number(null===(t=e.t0.customData)||void 0===t?void 0:t.httpStatus),this._throttleData),hn.create("throttled",{time:vn(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw e.t0;case 18:return this._throttleData=null,e.abrupt("return",r);case 20:case"end":return e.stop()}},e,this,[[4,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._heartbeatServiceProvider=Object(l._getProvider)(e,"heartbeat"),rr(e,this._siteKey).catch(function(){})}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),lr=function(){function e(t){Object(a.a)(this,e),this._customProviderOptions=t}return Object(o.a)(e,[{key:"getToken",value:function(){var e=Object(c.a)($t().mark(function e(){var t,n,r;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._customProviderOptions.getToken();case 2:return t=e.sent,n=Object(h.L)(t.token),r=null!==n&&n<Date.now()&&n>0?1e3*n:Date.now(),e.abrupt("return",Object.assign(Object.assign({},t),{issuedAtTimeMillis:r}));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e}},{key:"isEqual",value:function(t){return t instanceof e&&this._customProviderOptions.getToken.toString()===t._customProviderOptions.getToken.toString()}}]),e}();function fr(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+sn,httpStatus:e};var n=t?t.backoffCount:0,r=Object(h.l)(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}function hr(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw hn.create("throttled",{time:vn(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}function dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.getApp)(),t=arguments.length>1?arguments[1]:void 0;e=Object(h.v)(e);var n=Object(l._getProvider)(e,"app-check");if(tn().initialized||Bn(),Fn()&&Un().then(function(e){return console.log("App Check debug token: ".concat(e,". You will need to add it to your app's App Check settings in the Firebase console for it to work."))}),n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw hn.create("already-initialized",{appName:e.name})}var a=n.initialize({options:t});return function(e,t,n){var r=Zt(e),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=t,i.cachedTokenPromise=function(e){return Ln.apply(this,arguments)}(e).then(function(t){return t&&$n(t)&&(en(e,Object.assign(Object.assign({},Zt(e)),{token:t})),Qn(e,{token:t.token})),t}),i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,en(e,i),i.provider.initialize(e)}(e,t.provider,t.isTokenAutoRefreshEnabled),Zt(e).isTokenAutoRefreshEnabled&&Wn(a,"INTERNAL",function(){}),a}function pr(){return(pr=Object(c.a)($t().mark(function e(t,n){var r;return $t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(t,n);case 2:if(!(r=e.sent).error){e.next=5;break}throw r.error;case 5:return e.abrupt("return",{token:r.token});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var vr="app-check",yr="app-check-internal";Object(l._registerComponent)(new d.a(vr,function(e){return function(e,t){return new Jn(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat"))},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider(yr).initialize()})),Object(l._registerComponent)(new d.a(yr,function(e){return function(e){return{getToken:function(t){return qn(e,t)},addTokenListener:function(t){return Wn(e,"INTERNAL",t)},removeTokenListener:function(t){return Kn(e.app,t)}}}(e.getProvider("app-check").getImmediate())},"PUBLIC").setInstantiationMode("EXPLICIT")),Object(l.registerVersion)(Xn,Zn);var mr=Object(s.a)({},"use-before-activation","App Check is being used before activate() is called for FirebaseApp {$appName}. Call activate() before instantiating other Firebase services."),gr=new h.b("appCheck","AppCheck",mr),br=function(){function e(t){Object(a.a)(this,e),this.app=t}return Object(o.a)(e,[{key:"activate",value:function(e,t){var n;n="string"===typeof e?new sr(e):e instanceof cr||e instanceof sr||e instanceof lr?e:new lr({getToken:e.getToken}),this._delegate=dr(this.app,{provider:n,isTokenAutoRefreshEnabled:t})}},{key:"setTokenAutoRefreshEnabled",value:function(e){if(!this._delegate)throw gr.create("use-before-activation",{appName:this.app.name});!function(e,t){var n=e.app,r=Zt(n);r.tokenRefresher&&(!0===t?r.tokenRefresher.start():r.tokenRefresher.stop()),en(n,Object.assign(Object.assign({},r),{isTokenAutoRefreshEnabled:t}))}(this._delegate,e)}},{key:"getToken",value:function(e){if(!this._delegate)throw gr.create("use-before-activation",{appName:this.app.name});return function(e,t){return pr.apply(this,arguments)}(this._delegate,e)}},{key:"onTokenChanged",value:function(e,t,n){if(!this._delegate)throw gr.create("use-before-activation",{appName:this.app.name});return function(e,t,n,r){var i=function(){},a=function(){};return i=null!=t.next?t.next.bind(t):t,null!=t.error?a=t.error.bind(t):n&&(a=n),Wn(e,"EXTERNAL",i,a),function(){return Kn(e.app,i)}}(this._delegate,e,t)}}]),e}(),kr=function(e){var t=e.getProvider("app-compat").getImmediate();return new br(t)};i.a.INTERNAL.registerComponent(new d.a("appCheck-compat",kr,"PUBLIC").setServiceProps({ReCaptchaEnterpriseProvider:cr,ReCaptchaV3Provider:sr,CustomProvider:lr})),i.a.registerVersion("@firebase/app-check-compat","0.2.9");n(75);var wr=n(9),_r=n(7),Or=n(8),xr=n(15),jr="@firebase/database-compat",Er="0.2.1",Sr=new f.b("@firebase/database-compat"),Tr=function(e){var t="FIREBASE WARNING: "+e;Sr.warn(t)},Ir=function(){function e(t){Object(a.a)(this,e),this._delegate=t}return Object(o.a)(e,[{key:"cancel",value:function(e){Object(h.U)("OnDisconnect.cancel",0,1,arguments.length),Object(h.V)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then(function(){return e(null)},function(t){return e(t)}),t}},{key:"remove",value:function(e){Object(h.U)("OnDisconnect.remove",0,1,arguments.length),Object(h.V)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then(function(){return e(null)},function(t){return e(t)}),t}},{key:"set",value:function(e,t){Object(h.U)("OnDisconnect.set",1,2,arguments.length),Object(h.V)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n}},{key:"setWithPriority",value:function(e,t,n){Object(h.U)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(h.V)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then(function(){return n(null)},function(e){return n(e)}),r}},{key:"update",value:function(e,t){if(Object(h.U)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Tr("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(h.V)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then(function(){return t(null)},function(e){return t(e)}),i}}]),e}(),Cr=function(){function e(t,n){Object(a.a)(this,e),this.committed=t,this.snapshot=n}return Object(o.a)(e,[{key:"toJSON",value:function(){return Object(h.U)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),Ar=function(){function e(t,n){Object(a.a)(this,e),this._database=t,this._delegate=n}return Object(o.a)(e,[{key:"val",value:function(){return Object(h.U)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Object(h.U)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Object(h.U)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Object(h.U)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Object(h.U)("DataSnapshot.child",0,1,arguments.length),t=String(t),Object(xr.g)("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Object(h.U)("DataSnapshot.hasChild",1,1,arguments.length),Object(xr.g)("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Object(h.U)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Object(h.U)("DataSnapshot.forEach",1,1,arguments.length),Object(h.V)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})}},{key:"hasChildren",value:function(){return Object(h.U)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"numChildren",value:function(){return Object(h.U)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Object(h.U)("DataSnapshot.ref",0,0,arguments.length),new Pr(this._database,this._delegate.ref)}},{key:"key",get:function(){return this._delegate.key}},{key:"ref",get:function(){return this.getRef()}}]),e}(),Nr=function(){function e(t,n){Object(a.a)(this,e),this.database=t,this._delegate=n}return Object(o.a)(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Object(h.U)("Query.on",2,4,arguments.length),Object(h.V)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),s=function(e,t){n.call(u.context,new Ar(o.database,e),t)};s.userCallback=n,s.context=u.context;var c=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Object(xr.B)(this._delegate,s,c),n;case"child_added":return Object(xr.x)(this._delegate,s,c),n;case"child_removed":return Object(xr.A)(this._delegate,s,c),n;case"child_changed":return Object(xr.y)(this._delegate,s,c),n;case"child_moved":return Object(xr.z)(this._delegate,s,c),n;default:throw new Error(Object(h.s)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Object(h.U)("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(h.s)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),Object(h.V)("Query.off","callback",t,!0),Object(h.W)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Object(xr.w)(this._delegate,e,r)}else Object(xr.w)(this._delegate,e)}},{key:"get",value:function(){var e=this;return Object(xr.q)(this._delegate).then(function(t){return new Ar(e.database,t)})}},{key:"once",value:function(t,n,r,i){var a=this;Object(h.U)("Query.once",1,4,arguments.length),Object(h.V)("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),u=new h.a,s=function(e,t){var r=new Ar(a.database,e);n&&n.call(o.context,r,t),u.resolve(r)};s.userCallback=n,s.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),u.reject(e)};switch(t){case"value":Object(xr.B)(this._delegate,s,c,{onlyOnce:!0});break;case"child_added":Object(xr.x)(this._delegate,s,c,{onlyOnce:!0});break;case"child_removed":Object(xr.A)(this._delegate,s,c,{onlyOnce:!0});break;case"child_changed":Object(xr.y)(this._delegate,s,c,{onlyOnce:!0});break;case"child_moved":Object(xr.z)(this._delegate,s,c,{onlyOnce:!0});break;default:throw new Error(Object(h.s)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}},{key:"limitToFirst",value:function(t){return Object(h.U)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Object(xr.H)(this._delegate,Object(xr.u)(t)))}},{key:"limitToLast",value:function(t){return Object(h.U)("Query.limitToLast",1,1,arguments.length),new e(this.database,Object(xr.H)(this._delegate,Object(xr.v)(t)))}},{key:"orderByChild",value:function(t){return Object(h.U)("Query.orderByChild",1,1,arguments.length),new e(this.database,Object(xr.H)(this._delegate,Object(xr.C)(t)))}},{key:"orderByKey",value:function(){return Object(h.U)("Query.orderByKey",0,0,arguments.length),new e(this.database,Object(xr.H)(this._delegate,Object(xr.D)()))}},{key:"orderByPriority",value:function(){return Object(h.U)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Object(xr.H)(this._delegate,Object(xr.E)()))}},{key:"orderByValue",value:function(){return Object(h.U)("Query.orderByValue",0,0,arguments.length),new e(this.database,Object(xr.H)(this._delegate,Object(xr.F)()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(h.U)("Query.startAt",0,2,arguments.length),new e(this.database,Object(xr.H)(this._delegate,Object(xr.R)(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(h.U)("Query.startAfter",0,2,arguments.length),new e(this.database,Object(xr.H)(this._delegate,Object(xr.Q)(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(h.U)("Query.endAt",0,2,arguments.length),new e(this.database,Object(xr.H)(this._delegate,Object(xr.l)(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(h.U)("Query.endBefore",0,2,arguments.length),new e(this.database,Object(xr.H)(this._delegate,Object(xr.m)(t,n)))}},{key:"equalTo",value:function(t,n){return Object(h.U)("Query.equalTo",1,2,arguments.length),new e(this.database,Object(xr.H)(this._delegate,Object(xr.n)(t,n)))}},{key:"toString",value:function(){return Object(h.U)("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Object(h.U)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Object(h.U)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new Pr(this.database,new xr.d(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(h.V)(e,"cancel",r.cancel,!0),r.context=n,Object(h.W)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(h.s)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),Pr=function(e){function t(e,n){var r;return Object(a.a)(this,t),(r=Object(wr.a)(this,Object(_r.a)(t).call(this,e,new xr.b(n._repo,n._path,new xr.c,!1)))).database=e,r._delegate=n,r}return Object(Or.a)(t,e),Object(o.a)(t,[{key:"getKey",value:function(){return Object(h.U)("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Object(h.U)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Object(xr.i)(this._delegate,e))}},{key:"getParent",value:function(){Object(h.U)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null}},{key:"getRoot",value:function(){return Object(h.U)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Object(h.U)("Reference.set",1,2,arguments.length),Object(h.V)("Reference.set","onComplete",t,!0);var n=Object(xr.N)(this._delegate,e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n}},{key:"update",value:function(e,t){if(Object(h.U)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Tr("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(xr.h)("Reference.update",this._delegate._path),Object(h.V)("Reference.update","onComplete",t,!0);var i=Object(xr.S)(this._delegate,e);return t&&i.then(function(){return t(null)},function(e){return t(e)}),i}},{key:"setWithPriority",value:function(e,t,n){Object(h.U)("Reference.setWithPriority",2,3,arguments.length),Object(h.V)("Reference.setWithPriority","onComplete",n,!0);var r=Object(xr.P)(this._delegate,e,t);return n&&r.then(function(){return n(null)},function(e){return n(e)}),r}},{key:"remove",value:function(e){Object(h.U)("Reference.remove",0,1,arguments.length),Object(h.V)("Reference.remove","onComplete",e,!0);var t=Object(xr.K)(this._delegate);return e&&t.then(function(){return e(null)},function(t){return e(t)}),t}},{key:"transaction",value:function(e,t,n){var r=this;Object(h.U)("Reference.transaction",1,3,arguments.length),Object(h.V)("Reference.transaction","transactionUpdate",e,!1),Object(h.V)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(h.s)(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=Object(xr.L)(this._delegate,e,{applyLocally:n}).then(function(e){return new Cr(e.committed,new Ar(r.database,e.snapshot))});return t&&i.then(function(e){return t(null,e.committed,e.snapshot)},function(e){return t(e,!1,null)}),i}},{key:"setPriority",value:function(e,t){Object(h.U)("Reference.setPriority",1,2,arguments.length),Object(h.V)("Reference.setPriority","onComplete",t,!0);var n=Object(xr.O)(this._delegate,e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n}},{key:"push",value:function(e,n){var r=this;Object(h.U)("Reference.push",0,2,arguments.length),Object(h.V)("Reference.push","onComplete",n,!0);var i=Object(xr.G)(this._delegate,e),a=i.then(function(e){return new t(r.database,e)});n&&a.then(function(){return n(null)},function(e){return n(e)});var o=new t(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return Object(xr.h)("Reference.onDisconnect",this._delegate._path),new Ir(new xr.a(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),t}(Nr),Rr=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:xr.p,forceLongPolling:xr.o}}return Object(o.a)(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(xr.j)(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Object(h.U)("database.ref",0,1,arguments.length),e instanceof Pr){var t=Object(xr.J)(this._delegate,e.toString());return new Pr(this,t)}var n=Object(xr.I)(this._delegate,e);return new Pr(this,n)}},{key:"refFromURL",value:function(e){Object(h.U)("database.refFromURL",1,1,arguments.length);var t=Object(xr.J)(this._delegate,e);return new Pr(this,t)}},{key:"goOffline",value:function(){return Object(h.U)("database.goOffline",0,0,arguments.length),Object(xr.r)(this._delegate)}},{key:"goOnline",value:function(){return Object(h.U)("database.goOnline",0,0,arguments.length),Object(xr.s)(this._delegate)}}]),e}();Rr.ServerValue={TIMESTAMP:Object(xr.M)(),increment:function(e){return Object(xr.t)(e)}};var Lr,Dr=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,u=void 0!==o&&o;Object(xr.f)(r);var s=new d.c("auth-internal",new d.b("database-standalone"));return s.setComponent(new d.a("auth-internal",function(){return i},"PRIVATE")),{instance:new Rr(Object(xr.e)(t,s,void 0,n,u),t),namespace:a}}}),Mr=Rr.ServerValue;(Lr=i.a).INTERNAL.registerComponent(new d.a("database-compat",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Rr(i,r)},"PUBLIC").setServiceProps({Reference:Pr,Query:Nr,Database:Rr,DataSnapshot:Ar,enableLogging:xr.k,INTERNAL:Dr,ServerValue:Mr}).setMultipleInstances(!0)),Lr.registerVersion(jr,Er);n(76);function Fr(){Fr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Ur="type.googleapis.com/google.protobuf.Int64Value",Vr="type.googleapis.com/google.protobuf.UInt64Value";function Br(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function zr(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(e){return zr(e)});if("function"===typeof e||"object"===typeof e)return Br(e,function(e){return zr(e)});throw new Error("Data cannot be encoded in JSON: "+e)}function qr(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case Ur:case Vr:var t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(e){return qr(e)}):"function"===typeof e||"object"===typeof e?Br(e,function(e){return qr(e)}):e}var Gr="functions",Wr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Kr=function(e){function t(e,n,r){var i;return Object(a.a)(this,t),(i=Object(wr.a)(this,Object(_r.a)(t).call(this,"".concat(Gr,"/").concat(e),n||""))).details=r,i}return Object(Or.a)(t,e),t}(h.c);function Hr(e,t){var n=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=n,i=void 0;try{var a=t&&t.error;if(a){var o=a.status;if("string"===typeof o){if(!Wr[o])return new Kr("internal","internal");n=Wr[o],r=o}var u=a.message;"string"===typeof u&&(r=u),void 0!==(i=a.details)&&(i=qr(i))}}catch(s){}return"ok"===n?null:new Kr(n,r,i)}var Qr=function(){function e(t,n,r){var i=this;Object(a.a)(this,e),this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(e){return i.auth=e},function(){}),this.messaging||n.get().then(function(e){return i.messaging=e},function(){}),this.appCheck||r.get().then(function(e){return i.appCheck=e},function(){})}return Object(o.a)(e,[{key:"getAuthToken",value:function(){var e=Object(c.a)(Fr().mark(function e(){var t;return Fr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.auth.getToken();case 5:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.accessToken);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",void 0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"getMessagingToken",value:function(){var e=Object(c.a)(Fr().mark(function e(){return Fr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messaging&&"Notification"in self&&"granted"===Notification.permission){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.messaging.getToken();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",void 0);case 11:case"end":return e.stop()}},e,this,[[2,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"getAppCheckToken",value:function(){var e=Object(c.a)(Fr().mark(function e(){var t;return Fr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appCheck){e.next=7;break}return e.next=3,this.appCheck.getToken();case 3:if(!(t=e.sent).error){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",t.token);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=Object(c.a)(Fr().mark(function e(){var t,n,r;return Fr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAuthToken();case 2:return t=e.sent,e.next=5,this.getMessagingToken();case 5:return n=e.sent,e.next=8,this.getAppCheckToken();case 8:return r=e.sent,e.abrupt("return",{authToken:t,messagingToken:n,appCheckToken:r});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),$r="us-central1";function Yr(e){var t=null;return{promise:new Promise(function(n,r){t=setTimeout(function(){r(new Kr("deadline-exceeded","deadline-exceeded"))},e)}),cancel:function(){t&&clearTimeout(t)}}}var Jr=function(){function e(t,n,r,i){var o=this,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$r,s=arguments.length>5?arguments[5]:void 0;Object(a.a)(this,e),this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Qr(n,r,i),this.cancelAllRequests=new Promise(function(e){o.deleteService=function(){return Promise.resolve(e())}});try{var c=new URL(u);this.customDomain=c.origin,this.region=$r}catch(l){this.customDomain=null,this.region=u}}return Object(o.a)(e,[{key:"_delete",value:function(){return this.deleteService()}},{key:"_url",value:function(e){var t=this.app.options.projectId;if(null!==this.emulatorOrigin){var n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}]),e}();function Xr(e,t,n){return function(r){return function(e,t,n,r){var i=e._url(t);return ti(e,i,n,r)}(e,t,r,n||{})}}function Zr(e,t,n,r){return ei.apply(this,arguments)}function ei(){return(ei=Object(c.a)(Fr().mark(function e(t,n,r,i){var a,o;return Fr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r["Content-Type"]="application/json",e.prev=1,e.next=4,i(t,{method:"POST",body:JSON.stringify(n),headers:r});case 4:a=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{status:0,json:null});case 10:return o=null,e.prev=11,e.next=14,a.json();case 14:o=e.sent,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(11);case 19:return e.abrupt("return",{status:a.status,json:o});case 20:case"end":return e.stop()}},e,null,[[1,7],[11,17]])}))).apply(this,arguments)}function ti(e,t,n,r){return ni.apply(this,arguments)}function ni(){return(ni=Object(c.a)(Fr().mark(function e(t,n,r,i){var a,o,u,s,c,l,f,h,d;return Fr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=zr(r),a={data:r},o={},e.next=5,t.contextProvider.getContext();case 5:return(u=e.sent).authToken&&(o.Authorization="Bearer "+u.authToken),u.messagingToken&&(o["Firebase-Instance-ID-Token"]=u.messagingToken),null!==u.appCheckToken&&(o["X-Firebase-AppCheck"]=u.appCheckToken),s=i.timeout||7e4,c=Yr(s),e.next=13,Promise.race([Zr(n,a,o,t.fetchImpl),c.promise,t.cancelAllRequests]);case 13:if(l=e.sent,c.cancel(),l){e.next=17;break}throw new Kr("cancelled","Firebase Functions instance was deleted.");case 17:if(!(f=Hr(l.status,l.json))){e.next=20;break}throw f;case 20:if(l.json){e.next=22;break}throw new Kr("internal","Response is not valid JSON object.");case 22:if("undefined"===typeof(h=l.json.data)&&(h=l.json.result),"undefined"!==typeof h){e.next=26;break}throw new Kr("internal","Response is missing data field.");case 26:return d=qr(h),e.abrupt("return",{data:d});case 28:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ri,ii,ai="@firebase/functions",oi="0.8.2",ui="auth-internal",si="app-check-internal",ci="messaging-internal";function li(e,t,n){!function(e,t,n){e.emulatorOrigin="http://".concat(t,":").concat(n)}(Object(h.v)(e),t,n)}function fi(e,t,n){return function(e,t,n){return function(r){return ti(e,t,r,n||{})}}(Object(h.v)(e),t,n)}ri=fetch.bind(self),Object(l._registerComponent)(new d.a(Gr,function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider(ui),a=e.getProvider(ci),o=e.getProvider(si);return new Jr(r,i,a,o,n,ri)},"PUBLIC").setMultipleInstances(!0)),Object(l.registerVersion)(ai,oi,ii),Object(l.registerVersion)(ai,oi,"esm2017");var hi,di=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}return Object(o.a)(e,[{key:"httpsCallable",value:function(e,t){return function(e,t,n){return Xr(Object(h.v)(e),t,n)}(this._delegate,e,t)}},{key:"httpsCallableFromURL",value:function(e,t){return fi(this._delegate,e,t)}},{key:"useFunctionsEmulator",value:function(e){var t=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==t)throw new h.c("functions","No origin provided to useFunctionsEmulator()");if(null==t[2])throw new h.c("functions","Port missing in origin provided to useFunctionsEmulator()");return li(this._delegate,t[1],Number(t[2]))}},{key:"useEmulator",value:function(e,t){return li(this._delegate,e,t)}}]),e}(),pi=function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("functions").getImmediate({identifier:null!==n&&void 0!==n?n:"us-central1"});return new di(r,i)};function vi(){vi=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}!function(){var e={Functions:di};i.a.INTERNAL.registerComponent(new d.a("functions-compat",pi,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),i.a.registerVersion("@firebase/functions-compat","0.2.2");var yi,mi,gi="/firebase-messaging-sw.js",bi="/firebase-cloud-messaging-push-scope",ki="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wi="https://fcmregistrations.googleapis.com/v1",_i="google.c.a.c_id",Oi="google.c.a.c_l",xi="google.c.a.ts",ji="google.c.a.e";function Ei(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(p.a)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Si(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(yi||(yi={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(mi||(mi={}));var Ti="fcm_token_details_db",Ii=5,Ci="fcm_token_object_Store";function Ai(e){return Ni.apply(this,arguments)}function Ni(){return(Ni=Object(c.a)(vi().mark(function e(t){var n,r;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,n.map(function(e){return e.name}).includes(Ti)){e.next=7;break}return e.abrupt("return",null);case 7:return r=null,e.next=10,Object(v.b)(Ti,Ii,{upgrade:function(){var e=Object(c.a)(vi().mark(function e(n,i,a,o){var u,s,c,l,f,h;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(Ci)){e.next=4;break}return e.abrupt("return");case 4:return s=o.objectStore(Ci),e.next=7,s.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,s.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==i){e.next=19;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.next=16;break}return e.abrupt("return");case 16:r={token:l.fcmToken,createTime:null!==(u=l.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:Ei(l.vapidKey)}},e.next=20;break;case 19:3===i?r={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Ei(f.auth),p256dh:Ei(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Ei(f.vapidKey)}}:4===i&&(r={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Ei(h.auth),p256dh:Ei(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Ei(h.vapidKey)}});case 20:case"end":return e.stop()}},e)}));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,Object(v.a)(Ti);case 14:return e.next=16,Object(v.a)("fcm_vapid_details_db");case 16:return e.next=18,Object(v.a)("undefined");case 18:return e.abrupt("return",Pi(r)?r:null);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pi(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Ri="firebase-messaging-database",Li=1,Di="firebase-messaging-store",Mi=null;function Fi(){return Mi||(Mi=Object(v.b)(Ri,Li,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(Di)}}})),Mi}function Ui(e){return Vi.apply(this,arguments)}function Vi(){return(Vi=Object(c.a)(vi().mark(function e(t){var n,r,i,a;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wi(t),e.next=3,Fi();case 3:return r=e.sent,e.next=6,r.transaction(Di).objectStore(Di).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,Ai(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,Bi(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bi(e,t){return zi.apply(this,arguments)}function zi(){return(zi=Object(c.a)(vi().mark(function e(t,n){var r,i,a;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wi(t),e.next=3,Fi();case 3:return i=e.sent,a=i.transaction(Di,"readwrite"),e.next=7,a.objectStore(Di).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qi(e){return Gi.apply(this,arguments)}function Gi(){return(Gi=Object(c.a)(vi().mark(function e(t){var n,r,i;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wi(t),e.next=3,Fi();case 3:return r=e.sent,i=r.transaction(Di,"readwrite"),e.next=7,i.objectStore(Di).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wi(e){return e.appConfig.appId}var Ki=(hi={},Object(s.a)(hi,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Object(s.a)(hi,"only-available-in-window","This method is available in a Window context."),Object(s.a)(hi,"only-available-in-sw","This method is available in a service worker context."),Object(s.a)(hi,"permission-default","The notification permission was not granted and dismissed instead."),Object(s.a)(hi,"permission-blocked","The notification permission was not granted and blocked instead."),Object(s.a)(hi,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Object(s.a)(hi,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Object(s.a)(hi,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Object(s.a)(hi,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Object(s.a)(hi,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Object(s.a)(hi,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Object(s.a)(hi,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Object(s.a)(hi,"token-update-no-token","FCM returned no token when updating the user to push."),Object(s.a)(hi,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Object(s.a)(hi,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Object(s.a)(hi,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Object(s.a)(hi,"invalid-vapid-key","The public VAPID key must be a string."),Object(s.a)(hi,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),hi),Hi=new h.b("messaging","Messaging",Ki);function Qi(e,t){return $i.apply(this,arguments)}function $i(){return($i=Object(c.a)(vi().mark(function e(t,n){var r,i,a,o,u,s;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(t);case 2:return r=e.sent,i=ra(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(ea(t.appConfig),a);case 8:return u=e.sent,e.next=11,u.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Hi.create("token-subscribe-failed",{errorInfo:e.t0});case 17:if(!o.error){e.next=20;break}throw s=o.error.message,Hi.create("token-subscribe-failed",{errorInfo:s});case 20:if(o.token){e.next=22;break}throw Hi.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}},e,null,[[5,14]])}))).apply(this,arguments)}function Yi(e,t){return Ji.apply(this,arguments)}function Ji(){return(Ji=Object(c.a)(vi().mark(function e(t,n){var r,i,a,o,u,s;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(t);case 2:return r=e.sent,i=ra(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(ea(t.appConfig),"/").concat(n.token),a);case 8:return u=e.sent,e.next=11,u.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Hi.create("token-update-failed",{errorInfo:e.t0});case 17:if(!o.error){e.next=20;break}throw s=o.error.message,Hi.create("token-update-failed",{errorInfo:s});case 20:if(o.token){e.next=22;break}throw Hi.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}},e,null,[[5,14]])}))).apply(this,arguments)}function Xi(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=Object(c.a)(vi().mark(function e(t,n){var r,i,a,o,u;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(ea(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw u=o.error.message,Hi.create("token-unsubscribe-failed",{errorInfo:u});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),Hi.create("token-unsubscribe-failed",{errorInfo:e.t0});case 19:case"end":return e.stop()}},e,null,[[4,16]])}))).apply(this,arguments)}function ea(e){var t=e.projectId;return"".concat(wi,"/projects/").concat(t,"/registrations")}function ta(e){return na.apply(this,arguments)}function na(){return(na=Object(c.a)(vi().mark(function e(t){var n,r,i;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ra(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==ki&&(a.web.applicationPubKey=i),a}var ia=6048e5;function aa(e){return oa.apply(this,arguments)}function oa(){return(oa=Object(c.a)(vi().mark(function e(t){var n,r,i;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:Ei(n.getKey("auth")),p256dh:Ei(n.getKey("p256dh"))},e.next=6,Ui(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",fa(t.firebaseDependencies,r));case 11:if(va(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,Xi(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",fa(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+ia)){e.next=27;break}return e.abrupt("return",ca(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}},e,null,[[12,17]])}))).apply(this,arguments)}function ua(e){return sa.apply(this,arguments)}function sa(){return(sa=Object(c.a)(vi().mark(function e(t){var n,r;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,Xi(t.firebaseDependencies,n.token);case 6:return e.next=8,qi(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return(la=Object(c.a)(vi().mark(function e(t,n){var r,i;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yi(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,Bi(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,ua(t);case 14:throw e.t0;case 15:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return(ha=Object(c.a)(vi().mark(function e(t,n){var r,i;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qi(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,Bi(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return(pa=Object(c.a)(vi().mark(function e(t,n){var r;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Si(n)}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function va(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function ya(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var u=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;u&&(e.fcmOptions.link=u);var s=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;s&&(e.fcmOptions.analyticsLabel=s)}(t,e),t}function ma(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function ga(e){return Hi.create("missing-app-config-values",{valueName:e})}ma("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ma("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var ba=function(){function e(t,n,r){Object(a.a)(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw ga("App Configuration Object");if(!e.name)throw ga("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw ga(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return Object(o.a)(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function ka(e){return wa.apply(this,arguments)}function wa(){return(wa=Object(c.a)(vi().mark(function e(t){var n;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(gi,{scope:bi});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch(function(){}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Hi.create("failed-service-worker-registration",{browserErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function _a(e,t){return Oa.apply(this,arguments)}function Oa(){return(Oa=Object(c.a)(vi().mark(function e(t,n){return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n||t.swRegistration){e.next=3;break}return e.next=3,ka(t);case 3:if(n||!t.swRegistration){e.next=5;break}return e.abrupt("return");case 5:if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw Hi.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xa(e,t){return ja.apply(this,arguments)}function ja(){return(ja=Object(c.a)(vi().mark(function e(t,n){return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=ki);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ea(e,t){return Sa.apply(this,arguments)}function Sa(){return(Sa=Object(c.a)(vi().mark(function e(t,n){return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Hi.create("only-available-in-window");case 2:if("default"!==Notification.permission){e.next=5;break}return e.next=5,Notification.requestPermission();case 5:if("granted"===Notification.permission){e.next=7;break}throw Hi.create("permission-blocked");case 7:return e.next=9,xa(t,null===n||void 0===n?void 0:n.vapidKey);case 9:return e.next=11,_a(t,null===n||void 0===n?void 0:n.serviceWorkerRegistration);case 11:return e.abrupt("return",aa(t));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ta(e,t,n){return Ia.apply(this,arguments)}function Ia(){return(Ia=Object(c.a)(vi().mark(function e(t,n,r){var i;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ca(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(i,{message_id:r[_i],message_name:r[Oi],message_time:r[xi],message_device_time:Math.floor(Date.now()/1e3)});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ca(e){switch(e){case mi.NOTIFICATION_CLICKED:return"notification_open";case mi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Aa(){return(Aa=Object(c.a)(vi().mark(function e(t,n){var r,i;return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===mi.PUSH_RECEIVED&&("function"===typeof t.onMessageHandler?t.onMessageHandler(ya(r)):t.onMessageHandler.next(ya(r))),i=r.data,!("object"===typeof(a=i)&&a&&_i in a&&"1"===i[ji])){e.next=8;break}return e.next=8,Ta(t,r.messageType,i);case 8:case"end":return e.stop()}var a},e)}))).apply(this,arguments)}var Na,Pa="@firebase/messaging",Ra="0.9.14",La=function(e){var t=new ba(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",function(e){return function(e,t){return Aa.apply(this,arguments)}(t,e)}),t},Da=function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return Ea(t,e)}}};function Ma(){return(Ma=Object(c.a)(vi().mark(function e(t){return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Hi.create("only-available-in-window");case 2:if(t.swRegistration){e.next=5;break}return e.next=5,ka(t);case 5:return e.abrupt("return",ua(t));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fa(e,t){return Ua.apply(this,arguments)}function Ua(){return(Ua=Object(c.a)(vi().mark(function e(t,n){return vi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.v)(t),e.abrupt("return",Ea(t,n));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Va(e){return function(e){return Ma.apply(this,arguments)}(e=Object(h.v)(e))}function Ba(e,t){return function(e,t){if(!navigator)throw Hi.create("only-available-in-window");return e.onMessageHandler=t,function(){e.onMessageHandler=null}}(e=Object(h.v)(e),t)}function za(){za=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function qa(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ga(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object(l._registerComponent)(new d.a("messaging",La,"PUBLIC")),Object(l._registerComponent)(new d.a("messaging-internal",Da,"PRIVATE")),Object(l.registerVersion)(Pa,Ra),Object(l.registerVersion)(Pa,Ra,"esm2017");var Wa,Ka,Ha="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Qa="https://fcmregistrations.googleapis.com/v1",$a="FCM_MSG",Ya="google.c.a.c_id",Ja=3,Xa=1;function Za(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(p.a)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eo(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Wa||(Wa={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Ka||(Ka={}));var to="fcm_token_details_db",no=5,ro="fcm_token_object_Store";function io(e){return ao.apply(this,arguments)}function ao(){return(ao=Object(c.a)(za().mark(function e(t){var n,r;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,n.map(function(e){return e.name}).includes(to)){e.next=7;break}return e.abrupt("return",null);case 7:return r=null,e.next=10,Object(v.b)(to,no,{upgrade:function(){var e=Object(c.a)(za().mark(function e(n,i,a,o){var u,s,c,l,f,h;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(ro)){e.next=4;break}return e.abrupt("return");case 4:return s=o.objectStore(ro),e.next=7,s.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,s.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==i){e.next=19;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.next=16;break}return e.abrupt("return");case 16:r={token:l.fcmToken,createTime:null!==(u=l.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:Za(l.vapidKey)}},e.next=20;break;case 19:3===i?r={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Za(f.auth),p256dh:Za(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Za(f.vapidKey)}}:4===i&&(r={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Za(h.auth),p256dh:Za(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Za(h.vapidKey)}});case 20:case"end":return e.stop()}},e)}));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,Object(v.a)(to);case 14:return e.next=16,Object(v.a)("fcm_vapid_details_db");case 16:return e.next=18,Object(v.a)("undefined");case 18:return e.abrupt("return",oo(r)?r:null);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oo(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var uo="firebase-messaging-database",so=1,co="firebase-messaging-store",lo=null;function fo(){return lo||(lo=Object(v.b)(uo,so,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(co)}}})),lo}function ho(e){return po.apply(this,arguments)}function po(){return(po=Object(c.a)(za().mark(function e(t){var n,r,i,a;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=bo(t),e.next=3,fo();case 3:return r=e.sent,e.next=6,r.transaction(co).objectStore(co).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,io(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,vo(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vo(e,t){return yo.apply(this,arguments)}function yo(){return(yo=Object(c.a)(za().mark(function e(t,n){var r,i,a;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),e.next=3,fo();case 3:return i=e.sent,a=i.transaction(co,"readwrite"),e.next=7,a.objectStore(co).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mo(e){return go.apply(this,arguments)}function go(){return(go=Object(c.a)(za().mark(function e(t){var n,r,i;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=bo(t),e.next=3,fo();case 3:return r=e.sent,i=r.transaction(co,"readwrite"),e.next=7,i.objectStore(co).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bo(e){return e.appConfig.appId}var ko=(Na={},Object(s.a)(Na,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Object(s.a)(Na,"only-available-in-window","This method is available in a Window context."),Object(s.a)(Na,"only-available-in-sw","This method is available in a service worker context."),Object(s.a)(Na,"permission-default","The notification permission was not granted and dismissed instead."),Object(s.a)(Na,"permission-blocked","The notification permission was not granted and blocked instead."),Object(s.a)(Na,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Object(s.a)(Na,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Object(s.a)(Na,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Object(s.a)(Na,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Object(s.a)(Na,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Object(s.a)(Na,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Object(s.a)(Na,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Object(s.a)(Na,"token-update-no-token","FCM returned no token when updating the user to push."),Object(s.a)(Na,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Object(s.a)(Na,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Object(s.a)(Na,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Object(s.a)(Na,"invalid-vapid-key","The public VAPID key must be a string."),Object(s.a)(Na,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),Na),wo=new h.b("messaging","Messaging",ko);function _o(e,t){return Oo.apply(this,arguments)}function Oo(){return(Oo=Object(c.a)(za().mark(function e(t,n){var r,i,a,o,u,s;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(t);case 2:return r=e.sent,i=Ao(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(To(t.appConfig),a);case 8:return u=e.sent,e.next=11,u.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),wo.create("token-subscribe-failed",{errorInfo:e.t0});case 17:if(!o.error){e.next=20;break}throw s=o.error.message,wo.create("token-subscribe-failed",{errorInfo:s});case 20:if(o.token){e.next=22;break}throw wo.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}},e,null,[[5,14]])}))).apply(this,arguments)}function xo(e,t){return jo.apply(this,arguments)}function jo(){return(jo=Object(c.a)(za().mark(function e(t,n){var r,i,a,o,u,s;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(t);case 2:return r=e.sent,i=Ao(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(To(t.appConfig),"/").concat(n.token),a);case 8:return u=e.sent,e.next=11,u.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),wo.create("token-update-failed",{errorInfo:e.t0});case 17:if(!o.error){e.next=20;break}throw s=o.error.message,wo.create("token-update-failed",{errorInfo:s});case 20:if(o.token){e.next=22;break}throw wo.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}},e,null,[[5,14]])}))).apply(this,arguments)}function Eo(e,t){return So.apply(this,arguments)}function So(){return(So=Object(c.a)(za().mark(function e(t,n){var r,i,a,o,u;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(To(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw u=o.error.message,wo.create("token-unsubscribe-failed",{errorInfo:u});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),wo.create("token-unsubscribe-failed",{errorInfo:e.t0});case 19:case"end":return e.stop()}},e,null,[[4,16]])}))).apply(this,arguments)}function To(e){var t=e.projectId;return"".concat(Qa,"/projects/").concat(t,"/registrations")}function Io(e){return Co.apply(this,arguments)}function Co(){return(Co=Object(c.a)(za().mark(function e(t){var n,r,i;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ao(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==Ha&&(a.web.applicationPubKey=i),a}var No=6048e5;function Po(e){return Ro.apply(this,arguments)}function Ro(){return(Ro=Object(c.a)(za().mark(function e(t){var n,r,i;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bo(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:Za(n.getKey("auth")),p256dh:Za(n.getKey("p256dh"))},e.next=6,ho(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",Uo(t.firebaseDependencies,r));case 11:if(qo(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,Eo(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",Uo(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+No)){e.next=27;break}return e.abrupt("return",Mo(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}},e,null,[[12,17]])}))).apply(this,arguments)}function Lo(e){return Do.apply(this,arguments)}function Do(){return(Do=Object(c.a)(za().mark(function e(t){var n,r;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ho(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,Eo(t.firebaseDependencies,n.token);case 6:return e.next=8,mo(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Mo(e,t){return Fo.apply(this,arguments)}function Fo(){return(Fo=Object(c.a)(za().mark(function e(t,n){var r,i;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xo(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,vo(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Lo(t);case 14:throw e.t0;case 15:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function Uo(e,t){return Vo.apply(this,arguments)}function Vo(){return(Vo=Object(c.a)(za().mark(function e(t,n){var r,i;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_o(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,vo(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bo(e,t){return zo.apply(this,arguments)}function zo(){return(zo=Object(c.a)(za().mark(function e(t,n){var r;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eo(n)}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qo(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function Go(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var u=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;u&&(e.fcmOptions.link=u);var s=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;s&&(e.fcmOptions.analyticsLabel=s)}(t,e),t}function Wo(e){return new Promise(function(t){setTimeout(t,e)})}function Ko(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=Object(c.a)(za().mark(function e(t,n){var r;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Qo,e.t1=n,e.next=4,t.firebaseDependencies.installations.getId();case 4:e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2),$o(t,r);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qo(e,t){var n,r,i={};return e.from&&(i.project_number=e.from),e.fcmMessageId&&(i.message_id=e.fcmMessageId),i.instance_id=t,e.notification?i.message_type=Wa.DISPLAY_NOTIFICATION.toString():i.message_type=Wa.DATA_MESSAGE.toString(),i.sdk_platform=Ja.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(i.collapse_key=e.collapse_key),i.event=Xa.toString(),(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)&&(i.analytics_label=null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label),i}function $o(e,t){var n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}function Yo(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Jo(){return(Jo=Object(c.a)(za().mark(function e(t,n){var r,i,a;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.newSubscription){e.next=5;break}return e.next=4,Lo(n);case 4:return e.abrupt("return");case 5:return e.next=7,ho(n.firebaseDependencies);case 7:return a=e.sent,e.next=10,Lo(n);case 10:return n.vapidKey=null!==(i=null===(r=null===a||void 0===a?void 0:a.subscriptionOptions)||void 0===r?void 0:r.vapidKey)&&void 0!==i?i:Ha,e.next=13,Po(n);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xo(){return(Xo=Object(c.a)(za().mark(function e(t,n){var r,i,a;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tu(t)){e.next=3;break}return e.abrupt("return");case 3:if(!n.deliveryMetricsExportedToBigQueryEnabled){e.next=6;break}return e.next=6,Ko(n,r);case 6:return e.next=8,ou();case 8:if(!iu(i=e.sent)){e.next=11;break}return e.abrupt("return",au(i,r));case 11:if(!r.notification){e.next=14;break}return e.next=14,uu(eu(r));case 14:if(n){e.next=16;break}return e.abrupt("return");case 16:if(!n.onBackgroundMessageHandler){e.next=24;break}if(a=Go(r),"function"!==typeof n.onBackgroundMessageHandler){e.next=23;break}return e.next=21,n.onBackgroundMessageHandler(a);case 21:e.next=24;break;case 23:n.onBackgroundMessageHandler.next(a);case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zo(){return(Zo=Object(c.a)(za().mark(function e(t){var n,r,i,a,o,u,s;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(r=null===(n=t.notification)||void 0===n?void 0:n.data)||void 0===r?void 0:r[$a]){e.next=5;break}return e.abrupt("return");case 5:if(!t.action){e.next=7;break}return e.abrupt("return");case 7:if(t.stopImmediatePropagation(),t.notification.close(),a=su(i)){e.next=12;break}return e.abrupt("return");case 12:if(o=new URL(a,self.location.href),u=new URL(self.location.origin),o.host===u.host){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,nu(o);case 18:if(s=e.sent){e.next=27;break}return e.next=22,self.clients.openWindow(a);case 22:return s=e.sent,e.next=25,Wo(3e3);case 25:e.next=30;break;case 27:return e.next=29,s.focus();case 29:s=e.sent;case 30:if(s){e.next=32;break}return e.abrupt("return");case 32:return i.messageType=Ka.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,e.abrupt("return",s.postMessage(i));case 35:case"end":return e.stop()}},e)}))).apply(this,arguments)}function eu(e){var t=Object.assign({},e.notification);return t.data=Object(s.a)({},$a,e),t}function tu(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}function nu(e){return ru.apply(this,arguments)}function ru(){return(ru=Object(c.a)(za().mark(function e(t){var n,r,i,a,o;return za().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou();case 2:n=e.sent,r=qa(n),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=13;break}if(a=i.value,o=new URL(a.url,self.location.href),t.host!==o.host){e.next=11;break}return e.abrupt("return",a);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}},e,null,[[4,15,18,21]])}))).apply(this,arguments)}function iu(e){return e.some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})}function au(e,t){t.isFirebaseMessaging=!0,t.messageType=Ka.PUSH_RECEIVED;var n,r=qa(e);try{for(r.s();!(n=r.n()).done;){n.value.postMessage(t)}}catch(i){r.e(i)}finally{r.f()}}function ou(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function uu(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports ".concat(r," actions. The remaining actions will not be displayed.")),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function su(e){var t,n,r,i,a=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;return a||("object"===typeof(i=e.data)&&i&&Ya in i?self.location.origin:null)}function cu(e){return wo.create("missing-app-config-values",{valueName:e})}Yo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Yo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var lu=function(){function e(t,n,r){Object(a.a)(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw cu("App Configuration Object");if(!e.name)throw cu("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw cu(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return Object(o.a)(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}(),fu=function(e){var t=new lu(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",function(e){e.waitUntil(function(e,t){return Xo.apply(this,arguments)}(e,t))}),self.addEventListener("pushsubscriptionchange",function(e){e.waitUntil(function(e,t){return Jo.apply(this,arguments)}(e,t))}),self.addEventListener("notificationclick",function(e){e.waitUntil(function(e){return Zo.apply(this,arguments)}(e))}),t};function hu(e,t){return function(e,t){if(void 0!==self.document)throw wo.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,function(){e.onBackgroundMessageHandler=null}}(e=Object(h.v)(e),t)}function du(){du=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}Object(l._registerComponent)(new d.a("messaging-sw",fu,"PUBLIC"));var pu=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n,this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"getToken",value:function(){var e=Object(c.a)(du().mark(function e(t){return du().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa(this._delegate,t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteToken",value:function(){var e=Object(c.a)(du().mark(function e(){return du().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Va(this._delegate));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onMessage",value:function(e){return Ba(this._delegate,e)}},{key:"onBackgroundMessage",value:function(e){return hu(this._delegate,e)}}]),e}(),vu=function(e){return self&&"ServiceWorkerGlobalScope"in self?new pu(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new pu(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate())},yu={isSupported:function(){return self&&"ServiceWorkerGlobalScope"in self?Object(h.D)()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!==typeof window&&Object(h.D)()&&Object(h.e)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};i.a.INTERNAL.registerComponent(new d.a("messaging-compat",vu,"PUBLIC").setServiceProps(yu)),i.a.registerVersion("@firebase/messaging-compat","0.1.14");var mu;n(78);function gu(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return bu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bu(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ku,wu,_u="@firebase/performance",Ou="0.5.10",xu=Ou,ju="FB-PERF-TRACE-START",Eu="FB-PERF-TRACE-STOP",Su="FB-PERF-TRACE-MEASURE",Tu="_wt_",Iu="@firebase/performance/config",Cu="@firebase/performance/configexpire",Au=(mu={},Object(s.a)(mu,"trace started","Trace {$traceName} was started before."),Object(s.a)(mu,"trace stopped","Trace {$traceName} is not running."),Object(s.a)(mu,"nonpositive trace startTime","Trace {$traceName} startTime should be positive."),Object(s.a)(mu,"nonpositive trace duration","Trace {$traceName} duration should be positive."),Object(s.a)(mu,"no window","Window is not available."),Object(s.a)(mu,"no app id","App id is not available."),Object(s.a)(mu,"no project id","Project id is not available."),Object(s.a)(mu,"no api key","Api key is not available."),Object(s.a)(mu,"invalid cc log","Attempted to queue invalid cc event"),Object(s.a)(mu,"FB not default","Performance can only start when Firebase app instance is the default one."),Object(s.a)(mu,"RC response not ok","RC response is not ok"),Object(s.a)(mu,"invalid attribute name","Attribute name {$attributeName} is invalid."),Object(s.a)(mu,"invalid attribute value","Attribute value {$attributeValue} is invalid."),Object(s.a)(mu,"invalid custom metric name","Custom metric name {$customMetricName} is invalid"),Object(s.a)(mu,"invalid String merger input","Input for String merger is invalid, contact support team to resolve."),Object(s.a)(mu,"already initialized","initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."),mu),Nu=new h.b("performance","Performance",Au),Pu=new f.b("Performance");Pu.logLevel=f.a.INFO;var Ru,Lu,Du=function(){function e(t){if(Object(a.a)(this,e),this.window=t,!t)throw Nu.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return Object(o.a)(e,[{key:"getUrl",value:function(){return this.windowLocation.href.split("?")[0]}},{key:"mark",value:function(e){this.performance&&this.performance.mark&&this.performance.mark(e)}},{key:"measure",value:function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)}},{key:"getEntriesByType",value:function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}},{key:"getEntriesByName",value:function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}},{key:"getTimeOrigin",value:function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}},{key:"requiredApisAvailable",value:function(){return fetch&&Promise&&Object(h.e)()?!!Object(h.D)()||(Pu.info("IndexedDB is not supported by current browswer"),!1):(Pu.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}},{key:"setupObserver",value:function(e,t){this.PerformanceObserver&&new this.PerformanceObserver(function(e){var n,r=gu(e.getEntries());try{for(r.s();!(n=r.n()).done;){var i=n.value;t(i)}}catch(a){r.e(a)}finally{r.f()}}).observe({entryTypes:[e]})}}],[{key:"getInstance",value:function(){return void 0===ku&&(ku=new e(wu)),ku}}]),e}();function Mu(){return Ru}function Fu(e,t){var n=e.length-t.length;if(n<0||n>1)throw Nu.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var Uu,Vu=function(){function e(){Object(a.a)(this,e),this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Fu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Fu("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return Object(o.a)(e,[{key:"getFlTransportFullUrl",value:function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}}],[{key:"getInstance",value:function(){return void 0===Lu&&(Lu=new e),Lu}}]),e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Uu||(Uu={}));var Bu=["firebase_","google_","ga_"],zu=new RegExp("^[a-zA-Z]\\w*$"),qu=40,Gu=100;function Wu(){var e=Du.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function Ku(){switch(Du.getInstance().document.visibilityState){case"visible":return Uu.VISIBLE;case"hidden":return Uu.HIDDEN;default:return Uu.UNKNOWN}}function Hu(){var e=Du.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Qu(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.appId;if(!n)throw Nu.create("no app id");return n}var $u="0.0.1",Yu={loggingEnabled:!0},Ju="FIREBASE_INSTALLATIONS_AUTH";function Xu(e,t){var n=function(){var e=Du.getInstance().localStorage;if(!e)return;var t=e.getItem(Cu);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(Iu);if(!r)return;try{var i=JSON.parse(r);return i}catch(a){return}}();return n?(es(n),Promise.resolve()):function(e,t){return function(e){var t=e.getToken();return t.then(function(e){}),t}(e.installations).then(function(n){var r=function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.projectId;if(!n)throw Nu.create("no project id");return n}(e.app),i=function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.apiKey;if(!n)throw Nu.create("no api key");return n}(e.app),a="https://firebaseremoteconfig.googleapis.com/v1/projects/".concat(r,"/namespaces/fireperf:fetch?key=").concat(i),o=new Request(a,{method:"POST",headers:{Authorization:"".concat(Ju," ").concat(n)},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:Qu(e.app),app_version:xu,sdk_version:$u})});return fetch(o).then(function(e){if(e.ok)return e.json();throw Nu.create("RC response not ok")})}).catch(function(){Pu.info(Zu)})}(e,t).then(es).then(function(e){return function(e){var t=Du.getInstance().localStorage;if(!e||!t)return;t.setItem(Iu,JSON.stringify(e)),t.setItem(Cu,String(Date.now()+60*Vu.getInstance().configTimeToLive*60*1e3))}(e)},function(){})}var Zu="Could not fetch config, will use default configs";function es(e){if(!e)return e;var t=Vu.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=Yu.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):Yu.logSource&&(t.logSource=Yu.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:Yu.logEndPointUrl&&(t.logEndPointUrl=Yu.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:Yu.transportKey&&(t.transportKey=Yu.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==Yu.networkRequestsSamplingRate&&(t.networkRequestsSamplingRate=Yu.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==Yu.tracesSamplingRate&&(t.tracesSamplingRate=Yu.tracesSamplingRate),t.logTraceAfterSampling=ts(t.tracesSamplingRate),t.logNetworkAfterSampling=ts(t.networkRequestsSamplingRate),e}function ts(e){return Math.random()<=e}var ns,rs=1;function is(e){return rs=2,ns=ns||function(e){return function(){var e=Du.getInstance().document;return new Promise(function(t){if(e&&"complete"!==e.readyState){e.addEventListener("readystatechange",function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())})}else t()})}().then(function(){return function(e){var t=e.getId();return t.then(function(e){Ru=e}),t}(e.installations)}).then(function(t){return Xu(e,t)}).then(function(){return as()},function(){return as()})}(e)}function as(){rs=3}var os,us=1e4,ss=5500,cs=3,ls=1e3,fs=cs,hs=[],ds=!1;function ps(e){setTimeout(function(){if(0!==fs)return hs.length?void function(){var e=hs.splice(0,ls),t=e.map(function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}});(function(e,t){return function(e){var t=Vu.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then(function(e){return e.ok||Pu.info("Call to Firebase backend failed."),e.json()}).then(function(e){var n=Number(e.nextRequestWaitMillis),r=us;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(hs=[].concat(Object(p.a)(t),Object(p.a)(hs)),Pu.info("Retry transport request later.")),fs=cs,ps(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Vu.getInstance().logSource,log_event:t},e).catch(function(){hs=[].concat(Object(p.a)(e),Object(p.a)(hs)),fs--,Pu.info("Tries left: ".concat(fs,".")),ps(us)})}():ps(us)},e)}function vs(e){return function(){!function(e){if(!e.eventTime||!e.message)throw Nu.create("invalid cc log");hs=[].concat(Object(p.a)(hs),[e])}({message:e.apply(void 0,arguments),eventTime:Date.now()})}}function ys(e,t){os||(os=vs(bs)),os(e,t)}function ms(e){var t=Vu.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&Du.getInstance().requiredApisAvailable()&&(e.isAuto&&Ku()!==Uu.VISIBLE||(3===rs?gs(e):is(e.performanceController).then(function(){return gs(e)},function(){return gs(e)})))}function gs(e){if(Mu()){var t=Vu.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout(function(){return ys(e,1)},0)}}function bs(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:ks(e.performanceController.app),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:ks(e.performanceController.app),trace_metric:t};return JSON.stringify(r)}(e)}function ks(e){return{google_app_id:Qu(e),app_instance_id:Mu(),web_app_info:{sdk_version:xu,page_url:Du.getInstance().getUrl(),service_worker_status:Wu(),visibility_state:Ku(),effective_connection_type:Hu()},application_process_state:0}}var ws=100,_s="_",Os=["_fp","_fcp","_fid"];var xs=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;Object(a.a)(this,e),this.performanceController=t,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Du.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="".concat(ju,"-").concat(this.randomId,"-").concat(this.name),this.traceStopMark="".concat(Eu,"-").concat(this.randomId,"-").concat(this.name),this.traceMeasure=i||"".concat(Su,"-").concat(this.randomId,"-").concat(this.name),i&&this.calculateTraceMetrics())}return Object(o.a)(e,[{key:"start",value:function(){if(1!==this.state)throw Nu.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}},{key:"stop",value:function(){if(2!==this.state)throw Nu.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ms(this)}},{key:"record",value:function(e,t,n){if(e<=0)throw Nu.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Nu.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object.assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var a=i[r];isNaN(Number(n.metrics[a]))||(this.counters[a]=Math.floor(Number(n.metrics[a])))}ms(this)}},{key:"incrementMetric",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)}},{key:"putMetric",value:function(e,t){if(n=e,r=this.name,0===n.length||n.length>ws||!(r&&r.startsWith(Tu)&&Os.indexOf(n)>-1)&&n.startsWith(_s))throw Nu.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&Pu.info("Metric value should be an Integer, setting the value as : ".concat(t,".")),t}(null!==t&&void 0!==t?t:0)}},{key:"getMetric",value:function(e){return this.counters[e]||0}},{key:"putAttribute",value:function(e,t){var n,r=!(0===(n=e).length||n.length>qu)&&!Bu.some(function(e){return n.startsWith(e)})&&!!n.match(zu),i=function(e){return 0!==e.length&&e.length<=Gu}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Nu.create("invalid attribute name",{attributeName:e});if(!i)throw Nu.create("invalid attribute value",{attributeValue:t})}}},{key:"getAttribute",value:function(e){return this.customAttributes[e]}},{key:"removeAttribute",value:function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}},{key:"getAttributes",value:function(){return Object.assign({},this.customAttributes)}},{key:"setStartTime",value:function(e){this.startTimeUs=e}},{key:"setDuration",value:function(e){this.durationUs=e}},{key:"calculateTraceMetrics",value:function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}}],[{key:"createOobTrace",value:function(t,n,r,i){var a=Du.getInstance().getUrl();if(a){var o=new e(t,Tu+a,!0),u=Math.floor(1e3*Du.getInstance().getTimeOrigin());o.setStartTime(u),n&&n[0]&&(o.setDuration(Math.floor(1e3*n[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd)));if(r){var s=r.find(function(e){return"first-paint"===e.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var c=r.find(function(e){return"first-contentful-paint"===e.name});c&&c.startTime&&o.putMetric("_fcp",Math.floor(1e3*c.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}ms(o)}}},{key:"createUserTimingTrace",value:function(t,n){ms(new e(t,n,!1,n))}}]),e}();function js(e,t){var n=t;if(n&&void 0!==n.responseStart){var r=Du.getInstance().getTimeOrigin(),i=Math.floor(1e3*(n.startTime+r)),a=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,o=Math.floor(1e3*(n.responseEnd-n.startTime));!function(e){var t=Vu.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(function(){return ys(e,0)},0)}}({performanceController:e,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:a,timeToResponseCompletedUs:o})}}var Es=5e3;function Ss(e){Mu()&&(setTimeout(function(){return function(e){var t=Du.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout(function(){xs.createOobTrace(e,n,r),i=void 0},Es);t.onFirstInputDelay(function(t){i&&(clearTimeout(i),xs.createOobTrace(e,n,r,t))})}else xs.createOobTrace(e,n,r)}(e)},0),setTimeout(function(){return function(e){var t,n=Du.getInstance(),r=gu(n.getEntriesByType("resource"));try{for(r.s();!(t=r.n()).done;){var i=t.value;js(e,i)}}catch(a){r.e(a)}finally{r.f()}n.setupObserver("resource",function(t){return js(e,t)})}(e)},0),setTimeout(function(){return function(e){var t,n=Du.getInstance(),r=gu(n.getEntriesByType("measure"));try{for(r.s();!(t=r.n()).done;){var i=t.value;Ts(e,i)}}catch(a){r.e(a)}finally{r.f()}n.setupObserver("measure",function(t){return Ts(e,t)})}(e)},0))}function Ts(e,t){var n=t.name;n.substring(0,Su.length)!==Su&&xs.createUserTimingTrace(e,n)}var Is=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this.installations=n,this.initialized=!1}return Object(o.a)(e,[{key:"_init",value:function(e){var t=this;this.initialized||(void 0!==(null===e||void 0===e?void 0:e.dataCollectionEnabled)&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==(null===e||void 0===e?void 0:e.instrumentationEnabled)&&(this.instrumentationEnabled=e.instrumentationEnabled),Du.getInstance().requiredApisAvailable()?Object(h.X)().then(function(e){e&&(ds||(ps(ss),ds=!0),is(t).then(function(){return Ss(t)},function(){return Ss(t)}),t.initialized=!0)}).catch(function(e){Pu.info("Environment doesn't support IndexedDB: ".concat(e))}):Pu.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}},{key:"instrumentationEnabled",set:function(e){Vu.getInstance().instrumentationEnabled=e},get:function(){return Vu.getInstance().instrumentationEnabled}},{key:"dataCollectionEnabled",set:function(e){Vu.getInstance().dataCollectionEnabled=e},get:function(){return Vu.getInstance().dataCollectionEnabled}}]),e}();var Cs=function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==r.name)throw Nu.create("FB not default");if("undefined"===typeof window)throw Nu.create("no window");!function(e){wu=e}(window);var a=new Is(r,i);return a._init(n),a};Object(l._registerComponent)(new d.a("performance",Cs,"PUBLIC")),Object(l.registerVersion)(_u,Ou),Object(l.registerVersion)(_u,Ou,"esm2017");var As,Ns,Ps=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"trace",value:function(e){return t=this._delegate,n=e,t=Object(h.v)(t),new xs(t,n);var t,n}},{key:"instrumentationEnabled",get:function(){return this._delegate.instrumentationEnabled},set:function(e){this._delegate.instrumentationEnabled=e}},{key:"dataCollectionEnabled",get:function(){return this._delegate.dataCollectionEnabled},set:function(e){this._delegate.dataCollectionEnabled=e}}]),e}(),Rs="@firebase/performance-compat",Ls="0.1.10";function Ds(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("performance").getImmediate();return new Ps(t,n)}function Ms(){Ms=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},g(m),u(m,o,"Generator"),u(m,i,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(As=i.a).INTERNAL.registerComponent(new d.a("performance-compat",Ds,"PUBLIC")),As.registerVersion(Rs,Ls);var Fs="@firebase/remote-config",Us="0.3.9",Vs=function(){function e(){Object(a.a)(this,e),this.listeners=[]}return Object(o.a)(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach(function(e){return e()})}}]),e}(),Bs="remote-config",zs=(Ns={},Object(s.a)(Ns,"registration-window","Undefined window object. This SDK only supports usage in a browser environment."),Object(s.a)(Ns,"registration-project-id","Undefined project identifier. Check Firebase app initialization."),Object(s.a)(Ns,"registration-api-key","Undefined API key. Check Firebase app initialization."),Object(s.a)(Ns,"registration-app-id","Undefined app identifier. Check Firebase app initialization."),Object(s.a)(Ns,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Object(s.a)(Ns,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Object(s.a)(Ns,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Object(s.a)(Ns,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Object(s.a)(Ns,"fetch-client-network","Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),Object(s.a)(Ns,"fetch-timeout",'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.'),Object(s.a)(Ns,"fetch-throttle",'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.'),Object(s.a)(Ns,"fetch-client-parse","Fetch client could not parse response. Original error: {$originalErrorMessage}."),Object(s.a)(Ns,"fetch-status","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),Object(s.a)(Ns,"indexed-db-unavailable","Indexed DB is not supported by current browser"),Ns),qs=new h.b("remoteconfig","Remote Config",zs);var Gs="",Ws=["1","true","t","yes","y","on"],Ks=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gs;Object(a.a)(this,e),this._source=t,this._value=n}return Object(o.a)(e,[{key:"asString",value:function(){return this._value}},{key:"asBoolean",value:function(){return"static"!==this._source&&Ws.indexOf(this._value.toLowerCase())>=0}},{key:"asNumber",value:function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e}},{key:"getSource",value:function(){return this._source}}]),e}();function Hs(e){return Qs.apply(this,arguments)}function Qs(){return(Qs=Object(c.a)(Ms().mark(function e(t){var n,r,i,a,o;return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(h.v)(t),e.next=3,Promise.all([n._storage.getLastSuccessfulFetchResponse(),n._storage.getActiveConfigEtag()]);case 3:if(r=e.sent,i=Object(u.a)(r,2),a=i[0],o=i[1],a&&a.config&&a.eTag&&a.eTag!==o){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,Promise.all([n._storageCache.setActiveConfig(a.config),n._storage.setActiveConfigEtag(a.eTag)]);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $s(e){var t=Object(h.v)(e);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),t._initializePromise}function Ys(e){return Js.apply(this,arguments)}function Js(){return(Js=Object(c.a)(Ms().mark(function e(t){var n,r,i;return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(h.v)(t),r=new Vs,setTimeout(Object(c.a)(Ms().mark(function e(){return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.abort();case 1:case"end":return e.stop()}},e)})),n.settings.fetchTimeoutMillis),e.prev=3,e.next=6,n._client.fetch({cacheMaxAgeMillis:n.settings.minimumFetchIntervalMillis,signal:r});case 6:return e.next=8,n._storageCache.setLastFetchStatus("success");case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(3),a=e.t0,o="fetch-throttle",i=a instanceof h.c&&-1!==a.code.indexOf(o)?"throttle":"failure",e.next=15,n._storageCache.setLastFetchStatus(i);case 15:throw e.t0;case 16:case"end":return e.stop()}var a,o},e,null,[[3,10]])}))).apply(this,arguments)}function Xs(e){var t=Object(h.v)(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(Object.assign(Object.assign({},e),t))}(t._storageCache.getActiveConfig(),t.defaultConfig).reduce(function(t,n){return t[n]=Zs(e,n),t},{})}function Zs(e,t){var n=Object(h.v)(e);n._isInitializationComplete||n._logger.debug('A value was requested for key "'.concat(t,'" before SDK initialization completed.')+" Await on ensureInitialized if the intent was to get a previously activated value.");var r=n._storageCache.getActiveConfig();return r&&void 0!==r[t]?new Ks("remote",r[t]):n.defaultConfig&&void 0!==n.defaultConfig[t]?new Ks("default",String(n.defaultConfig[t])):(n._logger.debug('Returning static value for key "'.concat(t,'".')+" Define a default or remote value if this is unintentional."),new Ks("static"))}var ec=function(){function e(t,n,r,i){Object(a.a)(this,e),this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return Object(o.a)(e,[{key:"isCachedDataFresh",value:function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check."+" Cache age millis: ".concat(n,".")+" Cache max age millis (minimumFetchIntervalMillis setting): ".concat(e,".")+" Is cache hit: ".concat(r,".")),r}},{key:"fetch",value:function(){var e=Object(c.a)(Ms().mark(function e(t){var n,r,i,a,o,s;return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);case 2:if(n=e.sent,r=Object(u.a)(n,2),i=r[0],!(a=r[1])||!this.isCachedDataFresh(t.cacheMaxAgeMillis,i)){e.next=8;break}return e.abrupt("return",a);case 8:return t.eTag=a&&a.eTag,e.next=11,this.client.fetch(t);case 11:return o=e.sent,s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&s.push(this.storage.setLastSuccessfulFetchResponse(o)),e.next=16,Promise.all(s);case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();function tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return e.languages&&e.languages[0]||e.language}var nc=function(){function e(t,n,r,i,o,u){Object(a.a)(this,e),this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=u}return Object(o.a)(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(c.a)(Ms().mark(function e(t){var n,r,i,a,o,s,c,l,f,h,d,p,v,y,m,g,b,k,w,_,O;return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]);case 2:return a=e.sent,o=Object(u.a)(a,2),s=o[0],c=o[1],l=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",f="".concat(l,"/v1/projects/").concat(this.projectId,"/namespaces/").concat(this.namespace,":fetch?key=").concat(this.apiKey),h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},d={sdk_version:this.sdkVersion,app_instance_id:s,app_instance_id_token:c,app_id:this.appId,language_code:tc()},p={method:"POST",headers:h,body:JSON.stringify(d)},v=fetch(f,p),y=new Promise(function(e,n){t.signal.addEventListener(function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)})}),e.prev=13,e.next=16,Promise.race([v,y]);case 16:return e.next=18,v;case 18:m=e.sent,e.next=26;break;case 21:throw e.prev=21,e.t0=e.catch(13),g="fetch-client-network","AbortError"===(null===(n=e.t0)||void 0===n?void 0:n.name)&&(g="fetch-timeout"),qs.create(g,{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 26:if(b=m.status,k=m.headers.get("ETag")||void 0,200!==m.status){e.next=40;break}return e.prev=29,e.next=32,m.json();case 32:O=e.sent,e.next=38;break;case 35:throw e.prev=35,e.t1=e.catch(29),qs.create("fetch-client-parse",{originalErrorMessage:null===(i=e.t1)||void 0===i?void 0:i.message});case 38:w=O.entries,_=O.state;case 40:if("INSTANCE_STATE_UNSPECIFIED"===_?b=500:"NO_CHANGE"===_?b=304:"NO_TEMPLATE"!==_&&"EMPTY_CONFIG"!==_||(w={}),304===b||200===b){e.next=43;break}throw qs.create("fetch-status",{httpStatus:b});case 43:return e.abrupt("return",{status:b,eTag:k,config:w});case 44:case"end":return e.stop()}},e,this,[[13,21],[29,35]])}));return function(t){return e.apply(this,arguments)}}())}]),e}();function rc(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(function(){clearTimeout(a),r(qs.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ic(e){if(!(e instanceof h.c)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var ac=function(){function e(t,n){Object(a.a)(this,e),this.client=t,this.storage=n}return Object(o.a)(e,[{key:"fetch",value:function(){var e=Object(c.a)(Ms().mark(function e(t){var n;return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getThrottleMetadata();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={backoffCount:0,throttleEndTimeMillis:Date.now()};case 5:return n=e.t0,e.abrupt("return",this.attemptFetch(t,n));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"attemptFetch",value:function(){var e=Object(c.a)(Ms().mark(function e(t,n){var r,i,a,o;return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.throttleEndTimeMillis,i=n.backoffCount,e.next=3,rc(t.signal,r);case 3:return e.prev=3,e.next=6,this.client.fetch(t);case 6:return a=e.sent,e.next=9,this.storage.deleteThrottleMetadata();case 9:return e.abrupt("return",a);case 12:if(e.prev=12,e.t0=e.catch(3),ic(e.t0)){e.next=16;break}throw e.t0;case 16:return o={throttleEndTimeMillis:Date.now()+Object(h.l)(i),backoffCount:i+1},e.next=19,this.storage.setThrottleMetadata(o);case 19:return e.abrupt("return",this.attemptFetch(t,o));case 20:case"end":return e.stop()}},e,this,[[3,12]])}));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),oc=6e4,uc=432e5,sc=function(){function e(t,n,r,i,o){Object(a.a)(this,e),this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:oc,minimumFetchIntervalMillis:uc},this.defaultConfig={}}return Object(o.a)(e,[{key:"fetchTimeMillis",get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}},{key:"lastFetchStatus",get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}]),e}();function cc(e,t){var n,r=e.target.error||void 0;return qs.create(t,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}var lc="app_namespace_store",fc="firebase_remote_config",hc=1;var dc=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Promise(function(e,t){var n;try{var r=indexedDB.open(fc,hc);r.onerror=function(e){t(cc(e,"storage-open"))},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(lc,{keyPath:"compositeKey"})}}}catch(i){t(qs.create("storage-open",{originalErrorMessage:null===(n=i)||void 0===n?void 0:n.message}))}});Object(a.a)(this,e),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return Object(o.a)(e,[{key:"getLastFetchStatus",value:function(){return this.get("last_fetch_status")}},{key:"setLastFetchStatus",value:function(e){return this.set("last_fetch_status",e)}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.get("last_successful_fetch_timestamp_millis")}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.set("last_successful_fetch_timestamp_millis",e)}},{key:"getLastSuccessfulFetchResponse",value:function(){return this.get("last_successful_fetch_response")}},{key:"setLastSuccessfulFetchResponse",value:function(e){return this.set("last_successful_fetch_response",e)}},{key:"getActiveConfig",value:function(){return this.get("active_config")}},{key:"setActiveConfig",value:function(e){return this.set("active_config",e)}},{key:"getActiveConfigEtag",value:function(){return this.get("active_config_etag")}},{key:"setActiveConfigEtag",value:function(e){return this.set("active_config_etag",e)}},{key:"getThrottleMetadata",value:function(){return this.get("throttle_metadata")}},{key:"setThrottleMetadata",value:function(e){return this.set("throttle_metadata",e)}},{key:"deleteThrottleMetadata",value:function(){return this.delete("throttle_metadata")}},{key:"get",value:function(){var e=Object(c.a)(Ms().mark(function e(t){var n,r=this;return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise(function(e,i){var a,o=n.transaction([lc],"readonly").objectStore(lc),u=r.createCompositeKey(t);try{var s=o.get(u);s.onerror=function(e){i(cc(e,"storage-get"))},s.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)}}catch(c){i(qs.create("storage-get",{originalErrorMessage:null===(a=c)||void 0===a?void 0:a.message}))}}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=Object(c.a)(Ms().mark(function e(t,n){var r,i=this;return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return r=e.sent,e.abrupt("return",new Promise(function(e,a){var o,u=r.transaction([lc],"readwrite").objectStore(lc),s=i.createCompositeKey(t);try{var c=u.put({compositeKey:s,value:n});c.onerror=function(e){a(cc(e,"storage-set"))},c.onsuccess=function(){e()}}catch(l){a(qs.create("storage-set",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}}));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(c.a)(Ms().mark(function e(t){var n,r=this;return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise(function(e,i){var a,o=n.transaction([lc],"readwrite").objectStore(lc),u=r.createCompositeKey(t);try{var s=o.delete(u);s.onerror=function(e){i(cc(e,"storage-delete"))},s.onsuccess=function(){e()}}catch(c){i(qs.create("storage-delete",{originalErrorMessage:null===(a=c)||void 0===a?void 0:a.message}))}}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createCompositeKey",value:function(e){return[this.appId,this.appName,this.namespace,e].join()}}]),e}(),pc=function(){function e(t){Object(a.a)(this,e),this.storage=t}return Object(o.a)(e,[{key:"getLastFetchStatus",value:function(){return this.lastFetchStatus}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.lastSuccessfulFetchTimestampMillis}},{key:"getActiveConfig",value:function(){return this.activeConfig}},{key:"loadFromStorage",value:function(){var e=Object(c.a)(Ms().mark(function e(){var t,n,r,i,a,o;return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),e.next=5,t;case 5:return(i=e.sent)&&(this.lastFetchStatus=i),e.next=9,n;case 9:return(a=e.sent)&&(this.lastSuccessfulFetchTimestampMillis=a),e.next=13,r;case 13:(o=e.sent)&&(this.activeConfig=o);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setLastFetchStatus",value:function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}},{key:"setActiveConfig",value:function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}]),e}();function vc(){return(vc=Object(c.a)(Ms().mark(function e(t){return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.v)(t),e.next=3,Ys(t);case 3:return e.abrupt("return",Hs(t));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yc(){return mc.apply(this,arguments)}function mc(){return(mc=Object(c.a)(Ms().mark(function e(){var t;return Ms().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(h.D)()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,Object(h.X)();case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}Object(l._registerComponent)(new d.a(Bs,function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"===typeof window)throw qs.create("registration-window");if(!Object(h.D)())throw qs.create("indexed-db-unavailable");var a=r.options,o=a.projectId,u=a.apiKey,s=a.appId;if(!o)throw qs.create("registration-project-id");if(!u)throw qs.create("registration-api-key");if(!s)throw qs.create("registration-app-id");n=n||"firebase";var c=new dc(s,r.name,n),d=new pc(c),p=new f.b(Fs);p.logLevel=f.a.ERROR;var v=new nc(i,l.SDK_VERSION,n,o,u,s),y=new ac(v,c),m=new ec(y,c,d,p),g=new sc(r,m,d,c,p);return $s(g),g},"PUBLIC").setMultipleInstances(!0)),Object(l.registerVersion)(Fs,Us),Object(l.registerVersion)(Fs,Us,"esm2017");var gc=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"activate",value:function(){return Hs(this._delegate)}},{key:"ensureInitialized",value:function(){return $s(this._delegate)}},{key:"fetch",value:function(){return Ys(this._delegate)}},{key:"fetchAndActivate",value:function(){return function(e){return vc.apply(this,arguments)}(this._delegate)}},{key:"getAll",value:function(){return Xs(this._delegate)}},{key:"getBoolean",value:function(e){return function(e,t){return Zs(Object(h.v)(e),t).asBoolean()}(this._delegate,e)}},{key:"getNumber",value:function(e){return function(e,t){return Zs(Object(h.v)(e),t).asNumber()}(this._delegate,e)}},{key:"getString",value:function(e){return function(e,t){return Zs(Object(h.v)(e),t).asString()}(this._delegate,e)}},{key:"getValue",value:function(e){return Zs(this._delegate,e)}},{key:"setLogLevel",value:function(e){!function(e,t){var n=Object(h.v)(e);switch(t){case"debug":n._logger.logLevel=f.a.DEBUG;break;case"silent":n._logger.logLevel=f.a.SILENT;break;default:n._logger.logLevel=f.a.ERROR}}(this._delegate,e)}},{key:"defaultConfig",get:function(){return this._delegate.defaultConfig},set:function(e){this._delegate.defaultConfig=e}},{key:"fetchTimeMillis",get:function(){return this._delegate.fetchTimeMillis}},{key:"lastFetchStatus",get:function(){return this._delegate.lastFetchStatus}},{key:"settings",get:function(){return this._delegate.settings},set:function(e){this._delegate.settings=e}}]),e}(),bc="@firebase/remote-config-compat",kc="0.1.10";function wc(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("remote-config").getImmediate({identifier:n});return new gc(r,i)}!function(e){e.INTERNAL.registerComponent(new d.a("remoteConfig-compat",wc,"PUBLIC").setMultipleInstances(!0).setServiceProps({isSupported:yc})),e.registerVersion(bc,kc)}(i.a),n.d(t,"a",function(){return i.a});i.a.registerVersion("firebase","9.8.3","app-compat");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),i.a.registerVersion("firebase","9.8.3","compat")},,function(e,t,n){"use strict";t.a=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},function(e,t,n){"use strict";var r=n(112),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(b){}}}}return t}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(99);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(60);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(22),a=n(151),o=n(6),u=["xs","sm","md","lg","xl"];function s(e,t,n){var i;return Object(o.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),Object(o.a)({paddingLeft:t(2),paddingRight:t(2)},n,r({},e.up("sm"),Object(o.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},r(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),r(i,e.up("sm"),{minHeight:64}),i)},n)}var c=n(152),l={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},h={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},d={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},y={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},m={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function b(e){if(e.type)return e;if("#"===e.charAt(0))return b(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(function(e){return e+e})),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3}).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(c.a)(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map(function(e){return parseFloat(e)})}}function k(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map(function(e,t){return t<3?parseInt(e,10):e}):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function w(e){var t="hsl"===(e=b(e)).type?b(function(e){var t=(e=b(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),k({type:u,values:s})}(e)).values:e.values;return t=t.map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function _(e,t){if(e=b(e),t=g(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return k(e)}function O(e,t){if(e=b(e),t=g(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return k(e)}var x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},j={text:{primary:l.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:l.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function E(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=O(e.main,i):"dark"===t&&(e.dark=_(e.main,a)))}function S(e){var t=e.primary,n=void 0===t?{light:h[300],main:h[500],dark:h[700]}:t,r=e.secondary,u=void 0===r?{light:d.A200,main:d.A400,dark:d.A700}:r,s=e.error,g=void 0===s?{light:p[300],main:p[500],dark:p[700]}:s,b=e.warning,k=void 0===b?{light:v[300],main:v[500],dark:v[700]}:b,_=e.info,O=void 0===_?{light:y[300],main:y[500],dark:y[700]}:_,S=e.success,T=void 0===S?{light:m[300],main:m[500],dark:m[700]}:S,I=e.type,C=void 0===I?"light":I,A=e.contrastThreshold,N=void 0===A?3:A,P=e.tonalOffset,R=void 0===P?.2:P,L=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function D(e){return function(e,t){var n=w(e),r=w(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,j.text.primary)>=N?j.text.primary:x.text.primary}var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(o.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(c.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(c.a)(5,JSON.stringify(e.main)));return E(e,"light",n,R),E(e,"dark",r,R),e.contrastText||(e.contrastText=D(e.main)),e},F={dark:j,light:x};return Object(a.a)(Object(o.a)({common:l,type:C,primary:M(n),secondary:M(u,"A400","A200","A700"),error:M(g),warning:M(k),info:M(O),success:M(T),grey:f,contrastThreshold:N,getContrastText:D,augmentColor:M,tonalOffset:R},F[C]),L)}function T(e){return Math.round(1e5*e)/1e5}function I(e){return T(e)}var C={textTransform:"uppercase"},A='"Roboto", "Helvetica", "Arial", sans-serif';function N(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,u=void 0===r?A:r,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,y=n.fontWeightBold,m=void 0===y?700:y,g=n.htmlFontSize,b=void 0===g?16:g,k=n.allVariants,w=n.pxToRem,_=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var O=c/14,x=w||function(e){return"".concat(e/b*O,"rem")},j=function(e,t,n,r,i){return Object(o.a)({fontFamily:u,fontWeight:e,fontSize:x(t),lineHeight:n},u===A?{letterSpacing:"".concat(T(r/t),"em")}:{},i,k)},E={h1:j(f,96,1.167,-1.5),h2:j(f,60,1.2,-.5),h3:j(d,48,1.167,0),h4:j(d,34,1.235,.25),h5:j(d,24,1.334,0),h6:j(v,20,1.6,.15),subtitle1:j(d,16,1.75,.15),subtitle2:j(v,14,1.57,.1),body1:j(d,16,1.5,.15),body2:j(d,14,1.43,.15),button:j(v,14,1.75,.4,C),caption:j(d,12,1.66,.4),overline:j(d,12,2.66,1,C)};return Object(a.a)(Object(o.a)({htmlFontSize:b,pxToRem:x,round:I,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:m},E),_,{clone:!1})}var P=.2,R=.14,L=.12;function D(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(P,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(R,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(L,")")].join(",")}var M=["none",D(0,2,1,-1,0,1,1,0,0,1,3,0),D(0,3,1,-2,0,2,2,0,0,1,5,0),D(0,3,3,-2,0,3,4,0,0,1,8,0),D(0,2,4,-1,0,4,5,0,0,1,10,0),D(0,3,5,-1,0,5,8,0,0,1,14,0),D(0,3,5,-1,0,6,10,0,0,1,18,0),D(0,4,5,-2,0,7,10,1,0,2,16,1),D(0,5,5,-3,0,8,10,1,0,3,14,2),D(0,5,6,-3,0,9,12,1,0,3,16,2),D(0,6,6,-3,0,10,14,1,0,4,18,3),D(0,6,7,-4,0,11,15,1,0,4,20,3),D(0,7,8,-4,0,12,17,2,0,5,22,4),D(0,7,8,-4,0,13,19,2,0,5,24,4),D(0,7,9,-4,0,14,21,2,0,5,26,4),D(0,8,9,-5,0,15,22,2,0,6,28,5),D(0,8,10,-5,0,16,24,2,0,6,30,5),D(0,8,11,-5,0,17,26,2,0,6,32,5),D(0,9,11,-5,0,18,28,2,0,7,34,6),D(0,9,12,-6,0,19,29,2,0,7,36,6),D(0,10,13,-6,0,20,31,3,0,8,38,7),D(0,10,13,-6,0,21,33,3,0,8,40,7),D(0,10,14,-6,0,22,35,3,0,8,42,7),D(0,11,14,-7,0,23,36,3,0,9,44,8),D(0,11,15,-7,0,24,38,3,0,9,46,8)],F={borderRadius:4},U=n(104);var V=n(64),B=n(105);function z(e,t){return Object(U.a)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Object(V.a)(e,t)||Object(B.a)()}n(49);var q=n(57);var G=function(e,t){return t?Object(a.a)(e,t,{clone:!1}):e},W={xs:0,sm:600,md:960,lg:1280,xl:1920},K={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(W[e],"px)")}};var H={m:"margin",p:"padding"},Q={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},$={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Y=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){if(e.length>2){if(!$[e])return[e];e=$[e]}var t=z(e.split(""),2),n=t[0],r=t[1],i=H[n],a=Q[r]||"";return Array.isArray(a)?a.map(function(e){return i+e}):[i+a]}),J=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function X(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function Z(e,t){return function(n){return e.reduce(function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e},{})}}function ee(e){var t=X(e.theme);return Object.keys(e).map(function(n){if(-1===J.indexOf(n))return null;var r=Z(Y(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||K;return t.reduce(function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e},{})}if("object"===Object(q.a)(t)){var i=e.theme.breakpoints||K;return Object.keys(t).reduce(function(e,r){return e[i.up(r)]=n(t[r]),e},{})}return n(t)}(e,i,r)}).reduce(G,{})}ee.propTypes={},ee.filterProps=J;var te={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function re(e){return"".concat(Math.round(e),"ms")}var ie={easing:te,duration:ne,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?ne.standard:n,a=t.easing,o=void 0===a?te.easeInOut:a,u=t.delay,s=void 0===u?0:u;Object(i.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map(function(e){return"".concat(e," ").concat("string"===typeof r?r:re(r)," ").concat(o," ").concat("string"===typeof s?s:re(s))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},ae=n(65);function oe(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,c=void 0===r?{}:r,l=e.palette,f=void 0===l?{}:l,h=e.spacing,d=e.typography,p=void 0===d?{}:d,v=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),y=S(f),m=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,a=void 0===r?"px":r,s=e.step,c=void 0===s?5:s,l=Object(i.a)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function h(e,t){var r=u.indexOf(t);return r===u.length-1?f(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[u[r+1]]?n[u[r+1]]:t)-c/100).concat(a,")")}return Object(o.a)({keys:u,values:n,up:f,down:function(e){var t=u.indexOf(e)+1,r=n[u[t]];return t===u.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(a,")")},between:h,only:function(e){return h(e,e)},width:function(e){return n[e]}},l)}(n),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=X({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map(function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(h),b=Object(a.a)({breakpoints:m,direction:"ltr",mixins:s(m,g,c),overrides:{},palette:y,props:{},shadows:M,typography:N(y,p),spacing:g,shape:F,transitions:ie,zIndex:ae.a},v),k=arguments.length,w=new Array(k>1?k-1:0),_=1;_<k;_++)w[_-1]=arguments[_];return b=w.reduce(function(e,t){return Object(a.a)(e,t)},b)}var ue=oe();t.a=ue},function(e,t,n){"use strict";var r=n(4),i=n(6),a=n(20),o=n(147),u=n(160);function s(e,t){var n;return Object(i.a)({toolbar:(n={minHeight:56},Object(r.a)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),Object(r.a)(n,e.up("sm"),{minHeight:64}),n)},t)}var c=n(97),l=n(148),f={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},y={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},m={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],k={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(l.d)(e.main,i):"dark"===t&&(e.dark=Object(l.b)(e.main,a)))}function O(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,u=void 0===r?3:r,s=e.tonalOffset,O=void 0===s?.2:s,x=Object(a.a)(e,b),j=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[200],light:y[50],dark:y[400]}:{main:y[700],light:y[400],dark:y[800]}}(n),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(n),S=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),T=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:m[700],light:m[500],dark:m[900]}}(n),I=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[800],light:g[500],dark:g[900]}}(n),C=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function A(e){return Object(l.c)(e,w.text.primary)>=u?w.text.primary:k.text.primary}var N=function(e){var t=e.color,n=e.name,r=e.mainShade,a=void 0===r?500:r,o=e.lightShade,u=void 0===o?300:o,s=e.darkShade,l=void 0===s?700:s;if(!(t=Object(i.a)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(Object(c.a)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error(Object(c.a)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return _(t,"light",u,O),_(t,"dark",l,O),t.contrastText||(t.contrastText=A(t.main)),t},P={dark:w,light:k};return Object(o.a)(Object(i.a)({common:Object(i.a)({},f),mode:n,primary:N({color:j,name:"primary"}),secondary:N({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:S,name:"error"}),warning:N({color:C,name:"warning"}),info:N({color:T,name:"info"}),success:N({color:I,name:"success"}),grey:h,contrastThreshold:u,getContrastText:A,augmentColor:N,tonalOffset:O},P[n]),x)}var x=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var j={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function S(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,u=void 0===r?E:r,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,y=n.fontWeightBold,m=void 0===y?700:y,g=n.htmlFontSize,b=void 0===g?16:g,k=n.allVariants,w=n.pxToRem,_=Object(a.a)(n,x);var O=c/14,S=w||function(e){return"".concat(e/b*O,"rem")},T=function(e,t,n,r,a){return Object(i.a)({fontFamily:u,fontWeight:e,fontSize:S(t),lineHeight:n},u===E?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},I={h1:T(f,96,1.167,-1.5),h2:T(f,60,1.2,-.5),h3:T(d,48,1.167,0),h4:T(d,34,1.235,.25),h5:T(d,24,1.334,0),h6:T(v,20,1.6,.15),subtitle1:T(d,16,1.75,.15),subtitle2:T(v,14,1.57,.1),body1:T(d,16,1.5,.15),body2:T(d,14,1.43,.15),button:T(v,14,1.75,.4,j),caption:T(d,12,1.66,.4),overline:T(d,12,2.66,1,j)};return Object(o.a)(Object(i.a)({htmlFontSize:b,pxToRem:S,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:m},I),_,{clone:!1})}var T=.2,I=.14,C=.12;function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(T,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(I,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(C,")")].join(",")}var N=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],P=["duration","easing","delay"],R={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},L={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D(e){return"".concat(Math.round(e),"ms")}function M(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function F(e){var t=Object(i.a)({},R,e.easing),n=Object(i.a)({},L,e.duration);return Object(i.a)({getAutoHeightDuration:M,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,o=void 0===i?n.standard:i,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;Object(a.a)(r,P);return(Array.isArray(e)?e:[e]).map(function(e){return"".concat(e," ").concat("string"===typeof o?o:D(o)," ").concat(s," ").concat("string"===typeof l?l:D(l))}).join(",")}},e,{easing:t,duration:n})}var U={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},V=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,c=void 0===r?{}:r,l=e.transitions,f=void 0===l?{}:l,h=e.typography,d=void 0===h?{}:h,p=Object(a.a)(e,V),v=O(c),y=Object(u.a)(e),m=Object(o.a)(y,{mixins:s(y.breakpoints,n),palette:v,shadows:N.slice(),typography:S(v,d),transitions:F(f),zIndex:Object(i.a)({},U)});m=Object(o.a)(m,p);for(var g=arguments.length,b=new Array(g>1?g-1:0),k=1;k<g;k++)b[k-1]=arguments[k];return m=b.reduce(function(e,t){return Object(o.a)(e,t)},m)}var z=B();t.a=z},,function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(56),i=n.n(r);t.a=function(e,t){return i()(e,t)}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,o,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in n=Object(arguments[s]))i.call(n,c)&&(u[c]=n[c]);if(r){o=r(n);for(var l=0;l<o.length;l++)a.call(n,o[l])&&(u[o[l]]=n[o[l]])}}return u}},function(e,t,n){"use strict";var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}(),i="-ms-",a="-moz-",o="-webkit-",u="comm",s="rule",c="decl",l="@import",f="@keyframes",h=Math.abs,d=String.fromCharCode,p=Object.assign;function v(e){return e.trim()}function y(e,t,n){return e.replace(t,n)}function m(e,t){return e.indexOf(t)}function g(e,t){return 0|e.charCodeAt(t)}function b(e,t,n){return e.slice(t,n)}function k(e){return e.length}function w(e){return e.length}function _(e,t){return t.push(e),e}function O(e,t){return e.map(t).join("")}var x=1,j=1,E=0,S=0,T=0,I="";function C(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:x,column:j,length:o,return:""}}function A(e,t){return p(C("",null,null,"",null,null,0),e,{length:-e.length},t)}function N(){return T=S>0?g(I,--S):0,j--,10===T&&(j=1,x--),T}function P(){return T=S<E?g(I,S++):0,j++,10===T&&(j=1,x++),T}function R(){return g(I,S)}function L(){return S}function D(e,t){return b(I,e,t)}function M(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F(e){return x=j=1,E=k(I=e),S=0,[]}function U(e){return I="",e}function V(e){return v(D(S-1,function e(t){for(;P();)switch(T){case t:return S;case 34:case 39:34!==t&&39!==t&&e(T);break;case 40:41===t&&e(t);break;case 92:P()}return S}(91===e?e+2:40===e?e+1:e)))}function B(e){for(;(T=R())&&T<33;)P();return M(e)>2||M(T)>3?"":" "}function z(e,t){for(;--t&&P()&&!(T<48||T>102||T>57&&T<65||T>70&&T<97););return D(e,L()+(t<6&&32==R()&&32==P()))}function q(e,t){for(;P()&&e+T!==57&&(e+T!==84||47!==R()););return"/*"+D(t,S-1)+"*"+d(47===e?e:P())}function G(e){for(;!M(R());)P();return D(e,S)}function W(e){return U(function e(t,n,r,i,a,o,u,s,c){var l=0;var f=0;var h=u;var p=0;var v=0;var g=0;var b=1;var w=1;var O=1;var x=0;var j="";var E=a;var S=o;var T=i;var I=j;for(;w;)switch(g=x,x=P()){case 40:if(108!=g&&58==I.charCodeAt(h-1)){-1!=m(I+=y(V(x),"&","&\f"),"&\f")&&(O=-1);break}case 34:case 39:case 91:I+=V(x);break;case 9:case 10:case 13:case 32:I+=B(g);break;case 92:I+=z(L()-1,7);continue;case 47:switch(R()){case 42:case 47:_(H(q(P(),L()),n,r),c);break;default:I+="/"}break;case 123*b:s[l++]=k(I)*O;case 125*b:case 59:case 0:switch(x){case 0:case 125:w=0;case 59+f:v>0&&k(I)-h&&_(v>32?Q(I+";",i,r,h-1):Q(y(I," ","")+";",i,r,h-2),c);break;case 59:I+=";";default:if(_(T=K(I,n,r,l,f,a,s,j,E=[],S=[],h),o),123===x)if(0===f)e(I,n,T,T,E,o,h,s,S);else switch(p){case 100:case 109:case 115:e(t,T,T,i&&_(K(t,T,T,0,0,a,s,j,a,E=[],h),S),a,S,h,s,i?E:S);break;default:e(I,T,T,T,[""],S,0,s,S)}}l=f=v=0,b=O=1,j=I="",h=u;break;case 58:h=1+k(I),v=g;default:if(b<1)if(123==x)--b;else if(125==x&&0==b++&&125==N())continue;switch(I+=d(x),x*b){case 38:O=f>0?1:(I+="\f",-1);break;case 44:s[l++]=(k(I)-1)*O,O=1;break;case 64:45===R()&&(I+=V(P())),p=R(),f=h=k(j=I+=G(L())),x++;break;case 45:45===g&&2==k(I)&&(b=0)}}return o}("",null,null,null,[""],e=F(e),0,[0],e))}function K(e,t,n,r,i,a,o,u,c,l,f){for(var d=i-1,p=0===i?a:[""],m=w(p),g=0,k=0,_=0;g<r;++g)for(var O=0,x=b(e,d+1,d=h(k=o[g])),j=e;O<m;++O)(j=v(k>0?p[O]+" "+x:y(x,/&\f/g,p[O])))&&(c[_++]=j);return C(e,t,n,0===i?s:u,c,l,f)}function H(e,t,n){return C(e,t,n,u,d(T),b(e,2,-2),0)}function Q(e,t,n,r){return C(e,t,n,c,b(e,0,r),b(e,r+1,-1),r)}function $(e,t){switch(function(e,t){return(((t<<2^g(e,0))<<2^g(e,1))<<2^g(e,2))<<2^g(e,3)}(e,t)){case 5103:return o+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return o+e+a+e+i+e+e;case 6828:case 4268:return o+e+i+e+e;case 6165:return o+e+i+"flex-"+e+e;case 5187:return o+e+y(e,/(\w+).+(:[^]+)/,o+"box-$1$2"+i+"flex-$1$2")+e;case 5443:return o+e+i+"flex-item-"+y(e,/flex-|-self/,"")+e;case 4675:return o+e+i+"flex-line-pack"+y(e,/align-content|flex-|-self/,"")+e;case 5548:return o+e+i+y(e,"shrink","negative")+e;case 5292:return o+e+i+y(e,"basis","preferred-size")+e;case 6060:return o+"box-"+y(e,"-grow","")+o+e+i+y(e,"grow","positive")+e;case 4554:return o+y(e,/([^-])(transform)/g,"$1"+o+"$2")+e;case 6187:return y(y(y(e,/(zoom-|grab)/,o+"$1"),/(image-set)/,o+"$1"),e,"")+e;case 5495:case 3959:return y(e,/(image-set\([^]*)/,o+"$1$`$1");case 4968:return y(y(e,/(.+:)(flex-)?(.*)/,o+"box-pack:$3"+i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+o+e+e;case 4095:case 3583:case 4068:case 2532:return y(e,/(.+)-inline(.+)/,o+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(k(e)-1-t>6)switch(g(e,t+1)){case 109:if(45!==g(e,t+4))break;case 102:return y(e,/(.+:)(.+)-([^]+)/,"$1"+o+"$2-$3$1"+a+(108==g(e,t+3)?"$3":"$2-$3"))+e;case 115:return~m(e,"stretch")?$(y(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==g(e,t+1))break;case 6444:switch(g(e,k(e)-3-(~m(e,"!important")&&10))){case 107:return y(e,":",":"+o)+e;case 101:return y(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+o+(45===g(e,14)?"inline-":"")+"box$3$1"+o+"$2$3$1"+i+"$2box$3")+e}break;case 5936:switch(g(e,t+11)){case 114:return o+e+i+y(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return o+e+i+y(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return o+e+i+y(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return o+e+i+e+e}return e}function Y(e,t){for(var n="",r=w(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function J(e,t,n,r){switch(e.type){case l:case c:return e.return=e.return||e.value;case u:return"";case f:return e.return=e.value+"{"+Y(e.children,r)+"}";case s:e.value=e.props.join(",")}return k(n=Y(e.children,r))?e.return=e.value+"{"+n+"}":""}n(55),n(54);var X=function(e,t,n){for(var r=0,i=0;r=i,i=R(),38===r&&12===i&&(t[n]=1),!M(i);)P();return D(e,S)},Z=function(e,t){return U(function(e,t){var n=-1,r=44;do{switch(M(r)){case 0:38===r&&12===R()&&(t[n]=1),e[n]+=X(S-1,t,n);break;case 2:e[n]+=V(r);break;case 4:if(44===r){e[++n]=58===R()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=d(r)}}while(r=P());return e}(F(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],a=Z(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case c:e.return=$(e.value,e.length);break;case f:return Y([A(e,{value:y(e.value,"@","@"+o)})],r);case s:if(e.length)return O(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Y([A(e,{props:[y(t,/:(read-\w+)/,":"+a+"$1")]})],r);case"::placeholder":return Y([A(e,{props:[y(t,/:(plac\w+)/,":"+o+"input-$1")]}),A(e,{props:[y(t,/:(plac\w+)/,":"+a+"$1")]}),A(e,{props:[y(t,/:(plac\w+)/,i+"input-$1")]})],r)}return""})}}];t.a=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var i=e.stylisPlugins||re;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)});var c,l,f=[J,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],h=function(e){var t=w(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([te,ne].concat(i,f));o=function(e,t,n,r){c=n,Y(W(e?e+"{"+t.styles+"}":t.styles),h),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return d.sheet.hydrate(s),d}},,,function(e,t,n){"use strict";(function(e){var t=n(1),r=n(3),i=n(2),a=n(19),o=n(11),u=n(16),s=n(0);function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};u(v,i,function(){return this});var y=Object.getPrototypeOf,m=y&&y(y(j([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=p,u(g,"constructor",p),u(p,"constructor",d),d.displayName=u(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),u(g,o,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var l="@firebase/auth-compat",f="0.2.16",h=1e3;function d(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.w)();return!("file:"!==d()&&"ionic:"!==d()&&"capacitor:"!==d()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.w)();return Object(s.C)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.w)();return/Edge\/\d+/.test(e)}(e)}function y(){try{var e=self.localStorage,t=o.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!v()||Object(s.D)()}catch(n){return m()&&Object(s.D)()}return!1}function m(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function g(){return("http:"===d()||"https:"===d()||Object(s.z)()||p())&&!(Object(s.H)()||Object(s.F)())&&y()&&!m()}function b(){return p()&&"undefined"!==typeof document}function k(){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise(function(e){var t=setTimeout(function(){e(!1)},h);document.addEventListener("deviceready",function(){clearTimeout(t),e(!0)})}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _={LOCAL:"local",NONE:"none",SESSION:"session"},O=o.p,x="persistence";function j(e,t){O(Object.values(_).includes(t),e,"invalid-persistence-type"),Object(s.H)()?O(t!==_.SESSION,e,"unsupported-persistence-type"):Object(s.F)()?O(t===_.NONE,e,"unsupported-persistence-type"):m()?O(t===_.NONE||t===_.LOCAL&&Object(s.D)(),e,"unsupported-persistence-type"):O(t===_.NONE||y(),e,"unsupported-persistence-type")}function E(e){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(c().mark(function e(t){var n,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=T(),r=o.w(x,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var I=o.p,C=function(){function e(){Object(t.a)(this,e),this.browserResolver=o.t(o.A),this.cordovaResolver=o.t(o.F),this.underlyingResolver=null,this._redirectPersistence=o.B,this._completeRedirectFn=o.u,this._overrideRedirectResult=o.v}return Object(r.a)(e,[{key:"_initialize",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Object(i.a)(c().mark(function e(t,n,r,i){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(i.a)(c().mark(function e(t,n,r,i){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"selectUnderlyingResolver",value:function(){var e=Object(i.a)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_shouldInitProactively",get:function(){return b()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return I(this.underlyingResolver,"internal-error"),this.underlyingResolver}}]),e}();function A(e){return e.unwrap()}function N(e){var t=(e instanceof s.c?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof s.c)&&"temporaryProof"in t&&"phoneNumber"in t)return o.i.credentialFromResult(e);var n,r=t.providerId;if(!r||r===o.k.PASSWORD)return null;switch(r){case o.k.GOOGLE:n=o.f;break;case o.k.FACEBOOK:n=o.d;break;case o.k.GITHUB:n=o.e;break;case o.k.TWITTER:n=o.o;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,u=t.oauthTokenSecret,c=t.pendingToken,l=t.nonce;return a||u||i||c?c?r.startsWith("saml.")?o.m._create(r,c):o.g._fromParams({providerId:r,signInMethod:r,pendingToken:c,idToken:i,accessToken:a}):new o.h(r).credential({idToken:i,accessToken:a,rawNonce:l}):null}return e instanceof s.c?n.credentialFromError(e):n.credentialFromResult(e)}function P(e,t){return t.catch(function(t){throw t instanceof s.c&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new D(e,o.K(e,t));else if(r){var i=N(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,N(t)),additionalUserInfo:o.J(e),user:M.getOrCreate(r)}})}function R(e,t){return L.apply(this,arguments)}function L(){return(L=Object(i.a)(c().mark(function e(t,n){var r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return P(t,r.confirm(e))}});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var D=function(){function e(n,r){Object(t.a)(this,e),this.resolver=r,this.auth=n.wrapped()}return Object(r.a)(e,[{key:"resolveSignIn",value:function(e){return P(A(this.auth),this.resolver.resolveSignIn(e))}},{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}}]),e}(),M=function(){function e(n){Object(t.a)(this,e),this._delegate=n,this.multiFactor=o.T(n)}return Object(r.a)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(this.auth,o.P(this._delegate,t)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Object(i.a)(c().mark(function e(t,n){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(this.auth,o.Q(this._delegate,t,n)));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(this.auth,o.R(this._delegate,t,C)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(o.q(this.auth));case 2:return e.abrupt("return",o.S(this._delegate,t,C));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(this.auth,o.U(this._delegate,t)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return R(this.auth,o.V(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return P(this.auth,o.W(this._delegate,e,C))}},{key:"reauthenticateWithRedirect",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(o.q(this.auth));case 2:return e.abrupt("return",o.X(this._delegate,t,C));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return o.Y(this._delegate,e)}},{key:"unlink",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.jb(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return o.kb(this._delegate,e)}},{key:"updatePassword",value:function(e){return o.lb(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return o.mb(this._delegate,e)}},{key:"updateProfile",value:function(e){return o.nb(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return o.ob(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();M.USER_MAP=new WeakMap;var F=o.p,U=function(){function e(n,r){if(Object(t.a)(this,e),this.app=n,r.isInitialized())return this._delegate=r.getImmediate(),void this.linkUnderlyingAuth();var i=n.options.apiKey;F(i,"invalid-api-key",{appName:n.name}),F(i,"invalid-api-key",{appName:n.name});var a="undefined"!==typeof window?C:void 0;this._delegate=r.initialize({options:{persistence:B(i,n.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(o.H),this.linkUnderlyingAuth()}return Object(r.a)(e,[{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){o.E(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return o.y(this._delegate,e)}},{key:"checkActionCode",value:function(e){return o.C(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return o.D(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Object(i.a)(c().mark(function e(t,n){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(this._delegate,o.G(this._delegate,t,n)));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return o.I(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return o.O(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Object(i.a)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(g(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,o.L(this._delegate,C);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",P(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){o.x(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=V(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=V(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return o.ab(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return o.Z(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Object(i.a)(c().mark(function e(t){var n,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j(this._delegate,t),e.t0=t,e.next=e.t0===_.SESSION?4:e.t0===_.LOCAL?6:e.t0===_.NONE?11:13;break;case 4:return n=o.B,e.abrupt("break",14);case 6:return e.next=8,o.t(o.N)._isAvailable();case 8:return r=e.sent,n=r?o.N:o.z,e.abrupt("break",14);case 11:return n=o.M,e.abrupt("break",14);case 13:return e.abrupt("return",o.r("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return P(this._delegate,o.bb(this._delegate))}},{key:"signInWithCredential",value:function(e){return P(this._delegate,o.cb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return P(this._delegate,o.db(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return P(this._delegate,o.eb(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return P(this._delegate,o.fb(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return R(this._delegate,o.gb(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(g(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",P(this._delegate,o.hb(this._delegate,t,C)));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Object(i.a)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(g(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,E(this._delegate);case 3:return e.abrupt("return",o.ib(this._delegate,t,C));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return o.pb(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}},{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?M.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}}]),e}();function V(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&M.getOrCreate(e))},error:t,complete:n}}function B(e,t){var n=function(e,t){var n=T();if(!n)return[];var r=o.w(x,e,t);switch(n.getItem(r)){case _.NONE:return[o.M];case _.LOCAL:return[o.N,o.B];case _.SESSION:return[o.B];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(o.N)||n.push(o.N),"undefined"!==typeof window)for(var r=0,i=[o.z,o.B];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(o.M)||n.push(o.M),n}U.Persistence=_;var z=function(){function e(){Object(t.a)(this,e),this.providerId="phone",this._delegate=new o.i(A(a.a.auth()))}return Object(r.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return o.i.credential(e,t)}}]),e}();z.PHONE_SIGN_IN_METHOD=o.i.PHONE_SIGN_IN_METHOD,z.PROVIDER_ID=o.i.PROVIDER_ID;var q,G=o.p,W=function(){function e(n,r){var i,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a.app();Object(t.a)(this,e),G(null===(i=u.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:u.name}),this._delegate=new o.l(n,r,u.auth()),this.type=this._delegate.type}return Object(r.a)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),K="auth-compat";(q=a.a).INTERNAL.registerComponent(new u.a(K,function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new U(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:o.a.EMAIL_SIGNIN,PASSWORD_RESET:o.a.PASSWORD_RESET,RECOVER_EMAIL:o.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:o.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:o.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:o.a.VERIFY_EMAIL}},EmailAuthProvider:o.c,FacebookAuthProvider:o.d,GithubAuthProvider:o.e,GoogleAuthProvider:o.f,OAuthProvider:o.h,SAMLAuthProvider:o.n,PhoneAuthProvider:z,PhoneMultiFactorGenerator:o.j,RecaptchaVerifier:W,TwitterAuthProvider:o.o,Auth:U,AuthCredential:o.b,Error:s.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion(l,f)}).call(this,n(46))},function(e,t,n){"use strict";var r=n(48),i=n(9),a=n(7),o=n(8),u=n(1),s=n(3),c=n(19),l=n(12),f=n(0),h=n(16);function d(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v="@firebase/firestore-compat",y="0.1.19";function m(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function g(){if("undefined"===typeof Uint8Array)throw new l.g("unimplemented","Uint8Arrays are not available in this environment.")}function b(){if(!Object(l.r)())throw new l.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var k=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"toBase64",value:function(){return b(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return g(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return b(),new e(l.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return g(),new e(l.b.fromUint8Array(t))}}]),e}();function w(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=d(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var _=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(l.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(l.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(l.x)(e._delegate)}}]),e}(),O=function(){function e(t,n,r){var i=this;Object(u.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof l.m||(this._appCompat=t)}return Object(s.a)(e,[{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(l.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(l.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(l.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(l.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(l.lb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(l.Y)(this._delegate,e)}},{key:"collection",value:function(e){try{return new M(this,Object(l.y)(this._delegate,e))}catch(t){throw I(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new T(this,Object(l.E)(this._delegate,e))}catch(t){throw I(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new R(this,Object(l.z)(this._delegate,e))}catch(t){throw I(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(l.db)(this._delegate,function(n){return e(new j(t,n))})}},{key:"batch",value:function(){var e=this;return Object(l.K)(this._delegate),new E(new l.l(this._delegate,function(t){return Object(l.L)(e._delegate,t)}))}},{key:"loadBundle",value:function(e){return Object(l.V)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(l.W)(this._delegate,e).then(function(e){return e?new R(t,e):null})}},{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"app",get:function(){if(!this._appCompat)throw new l.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}}]),e}(),x=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(i.a)(this,Object(a.a)(t).call(this))).firestore=e,n}return Object(o.a)(t,e),Object(s.a)(t,[{key:"convertBytes",value:function(e){return new k(new l.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return T.forKey(t,this.firestore,null)}}]),t}(l.a);var j=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new x(t)}return Object(s.a)(e,[{key:"get",value:function(e){var t=this,n=F(e);return this._delegate.get(n).then(function(e){return new N(t._firestore,new l.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})}},{key:"set",value:function(e,t,n){var r=F(e);return n?(m("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=F(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=F(e);return this._delegate.delete(t),this}}]),e}(),E=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"set",value:function(e,t,n){var r=F(e);return n?(m("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=F(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=F(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),S=function(){function e(t,n,r){Object(u.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(s.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new l.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new P(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new x(t),n),i.set(n,a)),a}}]),e}();S.INSTANCES=new WeakMap;var T=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new x(t)}return Object(s.a)(e,[{key:"collection",value:function(e){try{return new M(this.firestore,Object(l.y)(this._delegate,e))}catch(t){throw I(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(f.v)(e))instanceof l.d&&Object(l.cb)(this._delegate,e)}},{key:"set",value:function(e,t){t=m("DocumentReference.set",t);try{return t?Object(l.fb)(this._delegate,e,t):Object(l.fb)(this._delegate,e)}catch(n){throw I(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Object(l.kb)(this._delegate,e):l.kb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw I(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(l.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=C(n),a=A(n,function(t){return new N(e.firestore,new l.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return Object(l.X)(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.O)(this._delegate):Object(l.M)(this._delegate)).then(function(e){return new N(t.firestore,new l.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(S.getInstance(this.firestore,t)):this._delegate.withConverter(null))}},{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new M(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new l.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new l.d(n._delegate,r,new l.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new l.d(n._delegate,r,t))}}]),e}();function I(e,t,n){return e.message=e.message.replace(t,n),e}function C(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!w(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function A(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=w(e[0])?e[0]:w(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var N=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}},{key:"ref",get:function(){return new T(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}}]),e}(),P=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(l.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),t}(N),R=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new x(t)}return Object(s.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.mb)(t,n,r)))}catch(i){throw I(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.Z)(t,n)))}catch(r){throw I(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.T)(t)))}catch(n){throw I(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.U)(t)))}catch(n){throw I(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.jb.apply(void 0,arguments)))}catch(t){throw I(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.ib.apply(void 0,arguments)))}catch(t){throw I(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.J.apply(void 0,arguments)))}catch(t){throw I(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.I.apply(void 0,arguments)))}catch(t){throw I(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(l.bb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.R)(this._delegate):Object(l.P)(this._delegate)).then(function(e){return new D(t.firestore,new l.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=C(n),a=A(n,function(t){return new D(e.firestore,new l.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return Object(l.X)(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(S.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),L=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new P(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),D=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new L(t._firestore,e)})}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new P(n._firestore,r))})}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}},{key:"query",get:function(){return new R(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map(function(t){return new P(e._firestore,t)})}}]),e}(),M=function(e){function t(e,n){var r;return Object(u.a)(this,t),(r=Object(i.a)(this,Object(a.a)(t).call(this,e,n))).firestore=e,r._delegate=n,r}return Object(o.a)(t,e),Object(s.a)(t,[{key:"doc",value:function(e){try{return new T(this.firestore,void 0===e?Object(l.E)(this._delegate):Object(l.E)(this._delegate,e))}catch(t){throw I(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(l.u)(this._delegate,e).then(function(e){return new T(t.firestore,e)})}},{key:"isEqual",value:function(e){return Object(l.cb)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new t(this.firestore,e?this._delegate.withConverter(S.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new T(this.firestore,e):null}}]),t}(R);function F(e){return Object(l.p)(e,l.d)}var U=function(){function e(){Object(u.a)(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=Object(r.a)(l.f,n)}return Object(s.a)(e,[{key:"isEqual",value:function(e){return(e=Object(f.v)(e))instanceof l.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(l.o.keyField().canonicalString())}}]),e}(),V=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(l.eb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(l.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=l.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=l.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(l.S)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),B={Firestore:O,GeoPoint:l.h,Timestamp:l.k,Blob:k,Transaction:j,WriteBatch:E,DocumentReference:T,DocumentSnapshot:N,Query:R,QueryDocumentSnapshot:P,QuerySnapshot:D,CollectionReference:M,FieldPath:U,FieldValue:V,setLogLevel:function(e){Object(l.gb)(e)},CACHE_SIZE_UNLIMITED:l.c};!function(e){var t;t=function(e,t){return new O(e,t,new _)},e.INTERNAL.registerComponent(new h.a("firestore-compat",function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},B))),e.registerVersion(v,y)}(c.a)},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(19),o=n(17),u=n(2),s=n(14),c=n(9),l=n(7),f=n(8),h=n(28),d=n(10),p=n(0),v=n(16);function y(){y=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=d.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,o,u)},function(e){r("throw",e,o,u)}):t.resolve(f).then(function(e){l.value=e,o(l)},function(e){return r("throw",e,o,u)})}u(s.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(g,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,function(){return this}),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(g),u(g,o,"Generator"),u(g,i,function(){return this}),u(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function m(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b="firebasestorage.googleapis.com",k="storageBucket",w=12e4,_=6e5,O=function(e){function t(e,n){var i;return Object(r.a)(this,t),(i=Object(c.a)(this,Object(l.a)(t).call(this,x(e),"Firebase Storage: ".concat(n," (").concat(x(e),")")))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Object(h.a)(Object(h.a)(i)),t.prototype),i}return Object(f.a)(t,e),Object(i.a)(t,[{key:"_codeEquals",value:function(e){return x(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),t}(p.c);function x(e){return"storage/"+e}function j(){return new O("unknown","An unknown error occurred, please check the error payload for server response.")}function E(){return new O("canceled","User canceled the upload/download.")}function S(){return new O("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function T(e){return new O("invalid-argument",e)}function I(){return new O("app-deleted","The Firebase app was deleted.")}function C(e){return new O("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function A(e,t){return new O("invalid-format","String does not match format '"+e+"': "+t)}function N(e){throw new O("internal-error","Internal error: "+e)}var P,R=function(){function e(t,n){Object(r.a)(this,e),this.bucket=t,this.path_=n}return Object(i.a)(e,[{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}},{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new O("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null;var i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var o=n.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat("([A-Za-z0-9.\\-_]+)","/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(n===b?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat("([A-Za-z0-9.\\-_]+)","/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}],s=0;s<u.length;s++){var c=u[s],l=c.regex.exec(t);if(l){var f=l[c.indices.bucket],h=l[c.indices.path];h||(h=""),r=new e(f,h),c.postModify(r);break}}if(null==r)throw function(e){return new O("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),L=function(){function e(t){Object(r.a)(this,e),this.promise_=Promise.reject(t)}return Object(i.a)(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}]),e}();function D(e){return"string"===typeof e||e instanceof String}function M(e){return F()&&e instanceof Blob}function F(){return"undefined"!==typeof Blob}function U(e,t,n,r){if(r<t)throw T("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw T("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function V(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function B(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(P||(P={}));var z=function(){function e(t,n,i,a,o,u,s,c,l,f,h){var d=this;Object(r.a)(this,e),this.url_=t,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=s,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(function(e,t){d.resolve_=e,d.reject_=t,d.start_()})}return Object(i.a)(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());void 0!==o?r(o):r()}catch(s){i(s)}else if(null!==a){var u=j();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?I():E());else i(new O("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new q(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout(function(){i=null,e(d,s())},t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout(function(){o=!0,v(!0)},n),v}(function(t,n){if(n)t(!1,new q(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===P.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new q(o,r))}else{var u=r.getErrorCode()===P.ABORT;t(!1,new q(!1,null,u))}})}},t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),q=function e(t,n,i){Object(r.a)(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!i};function G(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var W={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},K=function e(t,n){Object(r.a)(this,e),this.data=t,this.contentType=n||null};function H(e,t){switch(e){case W.RAW:return new K(Q(t));case W.BASE64:case W.BASE64URL:return new K($(e,t));case W.DATA_URL:return new K(function(e){var t=new Y(e);return t.base64?$(W.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw A(W.DATA_URL,"Malformed data URL.")}return Q(t)}(t.rest)}(t),new Y(t).contentType)}throw j()}function Q(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function $(e,t){switch(e){case W.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw A(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case W.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw A(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw A(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var Y=function e(t){Object(r.a)(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw A(W.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;null!=i&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)};var J=function(){function e(t,n){Object(r.a)(this,e);var i=0,a="";M(t)?(this.data_=t,i=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=a}return Object(i.a)(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(M(this.data_)){var r=this.data_,i=(o=t,u=n,(a=r).webkitSlice?a.webkitSlice(o,u):a.mozSlice?a.mozSlice(o,u):a.slice?a.slice(o,u):null);return null===i?null:new e(i)}var a,o,u,s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(F()){var i=n.map(function(t){return t instanceof e?t.data_:t});return new e(function(){for(var e=G(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(F())return new Blob(n);throw new O("unsupported-environment","This browser doesn't seem to support creating Blobs")}.apply(null,i))}var a=n.map(function(e){return D(e)?H(W.RAW,e).data:e.data_}),o=0;a.forEach(function(e){o+=e.byteLength});var u=new Uint8Array(o),s=0;return a.forEach(function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]}),new e(u,!0)}}]),e}();function X(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function Z(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ee(e,t){return t}var te=function e(t,n,i,a){Object(r.a)(this,e),this.server=t,this.local=n||t,this.writable=!!i,this.xform=a||ee},ne=null;function re(){if(ne)return ne;var e=[];e.push(new te("bucket")),e.push(new te("generation")),e.push(new te("metageneration")),e.push(new te("name","fullPath",!0));var t=new te("name");t.xform=function(e,t){return function(e){return!D(e)||e.length<2?e:Z(e)}(t)},e.push(t);var n=new te("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new te("timeCreated")),e.push(new te("updated")),e.push(new te("md5Hash",null,!0)),e.push(new te("cacheControl",null,!0)),e.push(new te("contentDisposition",null,!0)),e.push(new te("contentEncoding",null,!0)),e.push(new te("contentLanguage",null,!0)),e.push(new te("contentType",null,!0)),e.push(new te("metadata","customMetadata",!0)),ne=e}function ie(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new R(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ae(e,t,n){var r=X(t);return null===r?null:ie(e,r,n)}function oe(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var ue="prefixes",se="items";function ce(e,t,n){var r=X(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ue]){var i,a=m(n[ue]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new R(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n[se]){var s,c=m(n[se]);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new R(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var le=function e(t,n,i,a){Object(r.a)(this,e),this.url=t,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function fe(e){if(!e)throw j()}function he(e,t){return function(n,r){var i=ae(e,r,t);return fe(null!==i),i}}function de(e,t){return function(n,r){var i=ae(e,r,t);return fe(null!==i),function(e,t,n,r){var i=X(t);if(null===i)return null;if(!D(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map(function(t){var i=e.bucket,a=e.fullPath;return V("/b/"+o(i)+"/o/"+o(a),n,r)+B({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function pe(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new O("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new O("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new O("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new O("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function ve(e){var t=pe(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new O("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ye(e,t,n){var r=V(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new le(r,"GET",he(e,n),i);return a.errorHandler=ve(t),a}function me(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=V(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new le(o,"GET",function(e,t){return function(n,r){var i=ce(e,t,r);return fe(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=pe(t),s}function ge(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function be(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=ge(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+oe(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=J.getBlob(c,r,l);if(null===f)throw S();var h={name:s.fullPath},d=V(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new le(d,"POST",he(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=pe(t),v}var ke=function e(t,n,i,a){Object(r.a)(this,e),this.current=t,this.total=n,this.finalized=!!i,this.metadata=a||null};function we(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){fe(!1)}return fe(!!n&&-1!==(t||["active"]).indexOf(n)),n}function _e(e,t,n,r,i,a,o,u){var s=new ke(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new O("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw S();var v=t.maxUploadRetryTime,y=new le(n,"POST",function(e,n){var i,o=we(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?he(t,a)(e,n):null,new ke(u,c,"final"===o,i)},v);return y.headers=d,y.body=p.uploadData(),y.progressCallback=u||null,y.errorHandler=pe(e),y}var Oe={STATE_CHANGED:"state_changed"},xe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function je(e){switch(e){case"running":case"pausing":case"canceling":return xe.RUNNING;case"paused":return xe.PAUSED;case"success":return xe.SUCCESS;case"canceled":return xe.CANCELED;case"error":default:return xe.ERROR}}var Ee=function e(t,n,i){if(Object(r.a)(this,e),"function"===typeof t||null!=n||null!=i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==i&&void 0!==i?i:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}};function Se(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then(function(){return e.apply(void 0,n)})}}var Te=null,Ie=function(){function e(){var t=this;Object(r.a)(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=P.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=P.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=P.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return Object(i.a)(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw N("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw N("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw N("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw N("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw N("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Ce=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),t}(Ie);function Ae(){return Te?Te():new Ce}var Ne=function(){function e(t,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(r.a)(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=a,this._mappings=re(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){i._request=void 0,i._chunkMultiplier=1,e._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=e,i._transition("error"))},this._metadataErrorHandler=function(e){i._request=void 0,e._codeEquals("canceled")?i.completeTransitions_():(i._error=e,i._transition("error"))},this._promise=new Promise(function(e,t){i._resolve=e,i._reject=t,i._start()}),this._promise.then(null,function(){})}return Object(i.a)(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=Object(s.a)(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})}},{key:"_createResumable",value:function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=ge(t,r,i),u={name:o.fullPath},s=V(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=oe(o,n),f=e.maxUploadRetryTime,h=new le(s,"POST",function(e){var t;we(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){fe(!1)}return fe(D(t)),t},f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=pe(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Ae,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken(function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new le(n,"POST",function(e){var t=we(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){fe(!1)}n||fe(!1);var i=Number(n);return fe(!isNaN(i)),new ke(i,r.size(),"final"===t)},i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=pe(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Ae,n,r);e._request=a,a.getPromise().then(function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})}},{key:"_continueUpload",value:function(){var e=this,t=262144*this._chunkMultiplier,n=new ke(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,a){var o;try{o=_e(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,Ae,i,a);e._request=u,u.getPromise().then(function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})}},{key:"_increaseMultiplier",value:function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken(function(t,n){var r=ye(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Ae,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._transition("success")},e._metadataErrorHandler)})}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken(function(t,n){var r=be(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Ae,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=E(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Ee(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(t){e._notifyObserver(t)})}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(je(this._state)){case xe.SUCCESS:Se(this._resolve.bind(null,this.snapshot))();break;case xe.CANCELED:case xe.ERROR:Se(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(je(this._state)){case xe.RUNNING:case xe.PAUSED:e.next&&Se(e.next.bind(e,this.snapshot))();break;case xe.SUCCESS:e.complete&&Se(e.complete.bind(e))();break;case xe.CANCELED:case xe.ERROR:e.error&&Se(e.error.bind(e,this._error))();break;default:e.error&&Se(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}},{key:"snapshot",get:function(){var e=je(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}}]),e}(),Pe=function(){function e(t,n){Object(r.a)(this,e),this._service=t,this._location=n instanceof R?n:R.makeFromUrl(n,t.host)}return Object(i.a)(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw C(e)}},{key:"root",get:function(){var e=new R(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Z(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new R(this._location.bucket,t);return new e(this._service,n)}}]),e}();function Re(e,t,n){return Le.apply(this,arguments)}function Le(){return(Le=Object(u.a)(y().mark(function e(t,n,r){var i,a,u,s;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u={pageToken:r},e.next=3,De(t,u);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,Object(o.a)(s.prefixes)),(a=n.items).push.apply(a,Object(o.a)(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,Re(t,n,s.nextPageToken);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function De(e,t){null!=t&&"number"===typeof t.maxResults&&U("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=me(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Ae)}function Me(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=V(t.fullServerUrl(),e.host,e._protocol),a=oe(n,r),o=e.maxOperationRetryTime,u=new le(i,"PATCH",he(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=ve(t),u}(e.storage,e._location,t,re());return e.storage.makeRequestWithTokens(n,Ae)}function Fe(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=V(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new le(r,"GET",de(e,n),i);return a.errorHandler=ve(t),a}(e.storage,e._location,re());return e.storage.makeRequestWithTokens(t,Ae).then(function(e){if(null===e)throw new O("no-download-url","The given file does not have any download URLs.");return e})}function Ue(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=V(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new le(n,"DELETE",function(e,t){},r);return i.successCodes=[200,204],i.errorHandler=ve(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Ae)}function Ve(e,t){var n=function(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new R(e._location.bucket,n);return new Pe(e.storage,r)}function Be(e,t){if(e instanceof Ge){var n=e;if(null==n._bucket)throw new O("no-default-bucket","No default bucket found. Did you set the '"+k+"' property when initializing the app?");var r=new Pe(n,n._bucket);return null!=t?Be(r,t):r}return void 0!==t?Ve(e,t):e}function ze(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ge)return new Pe(e,t);throw T("To use ref(service, url), the first argument must be a Storage instance.")}return Be(e,t)}function qe(e,t){var n=null===t||void 0===t?void 0:t[k];return null==n?null:R.makeFromBucketSpec(n,e)}var Ge=function(){function e(t,n,i,a,o){Object(r.a)(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=b,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=w,this._maxUploadRetryTime=_,this._requests=new Set,this._bucket=null!=a?R.makeFromBucketSpec(a,this._host):qe(this._host,this.app.options)}return Object(i.a)(e,[{key:"_getAuthToken",value:function(){var e=Object(u.a)(y().mark(function e(){var t,n;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Object(u.a)(y().mark(function e(){var t,n;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Pe(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new L(I());var a=function(e,t,n,r,i,a){var o=B(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new z(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(function(){return i._requests.delete(a)},function(){return i._requests.delete(a)}),a}},{key:"makeRequestWithTokens",value:function(){var e=Object(u.a)(y().mark(function e(t,n){var r,i,a,o;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=Object(s.a)(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=R.makeFromBucketSpec(this._url,e):this._bucket=qe(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){U("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){U("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}}]),e}(),We="@firebase/storage",Ke="0.9.7",He="storage";function Qe(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ne(e,new J(t),n)}(e=Object(p.v)(e),t,n)}function $e(e){return function(e){e._throwIfRoot("getMetadata");var t=ye(e.storage,e._location,re());return e.storage.makeRequestWithTokens(t,Ae)}(e=Object(p.v)(e))}function Ye(e){return function(e){var t={prefixes:[],items:[]};return Re(e,t).then(function(){return t})}(e=Object(p.v)(e))}function Je(e,t){return ze(e=Object(p.v)(e),t)}function Xe(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Object(p.n)(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Ze(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Ge(r,i,a,n,d.SDK_VERSION)}Object(d._registerComponent)(new v.a(He,Ze,"PUBLIC").setMultipleInstances(!0)),Object(d.registerVersion)(We,Ke,""),Object(d.registerVersion)(We,Ke,"esm2017");var et=function(){function e(t,n,i){Object(r.a)(this,e),this._delegate=t,this.task=n,this.ref=i}return Object(i.a)(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),tt=function(){function e(t,n){Object(r.a)(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object(i.a)(e,[{key:"then",value:function(e,t){var n=this;return this._delegate.then(function(t){if(e)return e(new et(t,n,n._ref))},t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new et(e,i,i._ref))}:{next:t.next?function(e){return t.next(new et(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}},{key:"snapshot",get:function(){return new et(this._delegate.snapshot,this,this._ref)}}]),e}(),nt=function(){function e(t,n){Object(r.a)(this,e),this._delegate=t,this._service=n}return Object(i.a)(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new rt(t,e._service)})}},{key:"items",get:function(){var e=this;return this._delegate.items.map(function(t){return new rt(t,e._service)})}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),rt=function(){function e(t,n){Object(r.a)(this,e),this._delegate=t,this.storage=n}return Object(i.a)(e,[{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){return new e(function(e,t){return Ve(e,t)}(this._delegate,t),this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new tt(Qe(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=H(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new tt(new Ne(this._delegate,new J(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Ye(this._delegate).then(function(t){return new nt(t,e.storage)})}},{key:"list",value:function(e){var t=this;return function(e,t){return De(e=Object(p.v)(e),t)}(this._delegate,e||void 0).then(function(e){return new nt(e,t.storage)})}},{key:"getMetadata",value:function(){return $e(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return Me(e=Object(p.v)(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return e=this._delegate,Fe(e=Object(p.v)(e));var e}},{key:"delete",value:function(){return this._throwIfRoot("delete"),e=this._delegate,Ue(e=Object(p.v)(e));var e}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw C(e)}},{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}}]),e}(),it=function(){function e(t,n){Object(r.a)(this,e),this.app=t,this._delegate=n}return Object(i.a)(e,[{key:"ref",value:function(e){if(at(e))throw T("ref() expected a child path but got a URL, use refFromURL instead.");return new rt(Je(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!at(e))throw T("refFromURL() expected a full URL but got a child path, use ref() instead.");try{R.makeFromUrl(e,this._delegate.host)}catch(t){throw T("refFromUrl() expected a valid full URL but got an invalid one.")}return new rt(Je(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Xe(this._delegate,e,t,n)}},{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}}]),e}();function at(e){return/^[A-Za-z]+:\/\//.test(e)}var ot="@firebase/storage-compat",ut="0.1.15",st="storage-compat";function ct(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new it(r,i)}!function(e){var t={TaskState:xe,TaskEvent:Oe,StringFormat:W,Storage:it,Reference:rt};e.INTERNAL.registerComponent(new v.a(st,ct,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(ot,ut)}(a.a)},function(e,t,n){"use strict";var r=n(44);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},,function(e,t,n){"use strict";var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}function b(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var w=k.prototype=new b;w.constructor=k,y(w,g.prototype),w.isPureReactComponent=!0;var _=Array.isArray,O=Object.prototype.hasOwnProperty,x={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)O.call(t,i)&&!j.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:r,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,n,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case r:case i:s=!0}}if(s)return o=o(s=e),e=""===a?"."+I(s,0):a,_(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),C(o,t,n,"",function(e){return e})):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var l=a+I(u=e[c],c);s+=C(u,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,l=a+I(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=u,t.PureComponent=k,t.StrictMode=o,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=y({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)O.call(t,c)&&!j.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:r,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},function(e,t,n){"use strict";var r=n(5),i=n(83);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,M=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case O:return"Fragment";case _:return"Portal";case j:return"Profiler";case x:return"StrictMode";case I:return"Suspense";case C:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case S:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case T:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case A:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case N:n=t._payload,t=t._init;try{return e(t(n))}catch(r){}}return null}(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Z(e,t.type,n):t.hasOwnProperty("defaultValue")&&Z(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Z(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ee=Array.isArray;function te(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(ee(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,ce,le=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach(function(e){de.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ge(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,_e=null,Oe=null;function xe(e){if(e=hi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=pi(t),we(e.stateNode,e.type,t))}}function je(e){_e?Oe?Oe.push(e):Oe=[e]:_e=e}function Ee(){if(_e){var e=_e,t=Oe;if(Oe=_e=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Se(e,t){return e(t)}function Te(){}var Ie=!1;function Ce(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Se(e,t,n)}finally{Ie=!1,(null!==_e||null!==Oe)&&(Te(),Ee())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=pi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ne=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){Ne=!1}var Re=!1,Le=null,De=!1,Me=null,Fe={onError:function(e){Re=!0,Le=e}};function Ue(e,t,n,r,i,a,o,u,s){Re=!1,Le=null,function(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(Ve(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ze(i),e;if(o===r)return ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var Ge=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,He=i.unstable_requestPaint,Qe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ye=i.unstable_ImmediatePriority,Je=i.unstable_UserBlockingPriority,Xe=i.unstable_NormalPriority,Ze=i.unstable_LowPriority,et=i.unstable_IdlePriority,tt=null,nt=null;var rt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(it(e)/at|0)|0},it=Math.log,at=Math.LN2;var ot=64,ut=4194304;function st(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=st(u):0!==(a&=o)&&(r=st(a))}else 0!==(o=n&~i)?r=st(o):0!==a&&(r=st(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-rt(t)),r|=e[n],t&=~i;return r}function lt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ot;return 0===(4194240&(ot<<=1))&&(ot=64),e}function dt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function mt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var gt,bt,kt,wt,_t,Ot=!1,xt=[],jt=null,Et=null,St=null,Tt=new Map,It=new Map,Ct=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Pt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=hi(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=fi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void _t(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=hi(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Dt(e,t,n){Lt(e)&&n.delete(t)}function Mt(){Ot=!1,null!==jt&&Lt(jt)&&(jt=null),null!==Et&&Lt(Et)&&(Et=null),null!==St&&Lt(St)&&(St=null),Tt.forEach(Dt),It.forEach(Dt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Mt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<xt.length){Ft(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Ft(jt,e),null!==Et&&Ft(Et,e),null!==St&&Ft(St,e),Tt.forEach(t),It.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Rt(n),null===n.blockedOn&&Ct.shift()}var Vt=k.ReactCurrentBatchConfig,Bt=!0;function zt(e,t,n,r){var i=yt,a=Vt.transition;Vt.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=i,Vt.transition=a}}function qt(e,t,n,r){var i=yt,a=Vt.transition;Vt.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=i,Vt.transition=a}}function Gt(e,t,n,r){if(Bt){var i=Kt(e,t,n,r);if(null===i)Mr(e,t,r,Wt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return jt=Pt(jt,e,t,n,r,i),!0;case"dragenter":return Et=Pt(Et,e,t,n,r,i),!0;case"mouseover":return St=Pt(St,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tt.set(a,Pt(Tt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,It.set(a,Pt(It.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var a=hi(i);if(null!==a&&gt(a),null===(a=Kt(e,t,n,r))&&Mr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Mr(e,t,r,null,n)}}var Wt=null;function Kt(e,t,n,r){if(Wt=null,null!==(e=fi(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Ht(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ye:return 1;case Je:return 4;case Xe:case Ze:return 16;case et:return 536870912;default:return 16}default:return 16}}var Qt=null,$t=null,Yt=null;function Jt(){if(Yt)return Yt;var e,t,n=$t,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Yt=i.slice(e,1<t?1-t:void 0)}function Xt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function en(){return!1}function tn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Zt:en,this.isPropagationStopped=en,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var nn,rn,an,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=tn(on),sn=M({},on,{view:0,detail:0}),cn=tn(sn),ln=M({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(nn=e.screenX-an.screenX,rn=e.screenY-an.screenY):rn=nn=0,an=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),fn=tn(ln),hn=tn(M({},ln,{dataTransfer:0})),dn=tn(M({},sn,{relatedTarget:0})),pn=tn(M({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=tn(M({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),yn=tn(M({},on,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function wn(){return kn}var _n=tn(M({},sn,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return"keypress"===e.type?Xt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),On=tn(M({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=tn(M({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn})),jn=tn(M({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=tn(M({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=[9,13,27,32],Tn=l&&"CompositionEvent"in window,In=null;l&&"documentMode"in document&&(In=document.documentMode);var Cn=l&&"TextEvent"in window&&!In,An=l&&(!Tn||In&&8<In&&11>=In),Nn=String.fromCharCode(32),Pn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Un(e,t,n,r){je(r),0<(t=Ur(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Bn=null;function zn(e){Ar(e,0)}function qn(e){if(K(di(e)))return e}function Gn(e,t){if("change"===e)return t}var Wn=!1;if(l){var Kn;if(l){var Hn="oninput"in document;if(!Hn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Hn="function"===typeof Qn.oninput}Kn=Hn}else Kn=!1;Wn=Kn&&(!document.documentMode||9<document.documentMode)}function $n(){Vn&&(Vn.detachEvent("onpropertychange",Yn),Bn=Vn=null)}function Yn(e){if("value"===e.propertyName&&qn(Bn)){var t=[];Un(t,Bn,e,ke(e)),Ce(zn,t)}}function Jn(e,t,n){"focusin"===e?($n(),Bn=n,(Vn=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&$n()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Bn)}function Zn(e,t){if("click"===e)return qn(t)}function er(e,t){if("input"===e||"change"===e)return qn(t)}var tr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function nr(e,t){if(tr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!tr(e[i],t[i]))return!1}return!0}function rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ir(e,t){var n,r=rr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rr(r)}}function ar(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ur(e){var t=ar(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&or(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ir(n,a);var o=ir(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sr=l&&"documentMode"in document&&11>=document.documentMode,cr=null,lr=null,fr=null,hr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;hr||null==cr||cr!==H(r)||("selectionStart"in(r=cr)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},fr&&nr(fr,r)||(fr=r,0<(r=Ur(lr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},yr={},mr={};function gr(e){if(yr[e])return yr[e];if(!vr[e])return e;var t,n=vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return yr[e]=n[t];return e}l&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);var br=gr("animationend"),kr=gr("animationiteration"),wr=gr("animationstart"),_r=gr("transitionend"),Or=new Map,xr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Or.set(e,t),s(t,[e])}for(var Er=0;Er<xr.length;Er++){var Sr=xr[Er];jr(Sr.toLowerCase(),"on"+(Sr[0].toUpperCase()+Sr.slice(1)))}jr(br,"onAnimationEnd"),jr(kr,"onAnimationIteration"),jr(wr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(a(198));var l=Le;Re=!1,Le=null,De||(De=!0,Me=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(De)throw e=Me,De=!1,Me=null,e}function Nr(e,t){var n=t[si];void 0===n&&(n=t[si]=new Set);var r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}function Pr(e,t,n){var r=0;t&&(r|=4),Dr(n,e,r,t)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[Rr]){e[Rr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Ir.has(t)||Pr(t,!1,e),Pr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Rr]||(t[Rr]=!0,Pr("selectionchange",!1,t))}}function Dr(e,t,n,r){switch(Ht(t)){case 1:var i=zt;break;case 4:i=qt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=fi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ce(function(){var r=a,i=ke(n),o=[];e:{var u=Or.get(e);if(void 0!==u){var s=un,c=e;switch(e){case"keypress":if(0===Xt(n))break e;case"keydown":case"keyup":s=_n;break;case"focusin":c="focus",s=dn;break;case"focusout":c="blur",s=dn;break;case"beforeblur":case"afterblur":s=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=xn;break;case br:case kr:case wr:s=pn;break;case _r:s=jn;break;case"scroll":s=cn;break;case"wheel":s=En;break;case"copy":case"cut":case"paste":s=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ae(p,h))&&l.push(Fr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!fi(c)&&!c[ui])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?fi(c):null)&&(c!==(f=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=fn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:di(s),d=null==c?u:di(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,fi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Vr(d))p++;for(d=0,v=h;v;v=Vr(v))d++;for(;0<p-d;)l=Vr(l),p--;for(;0<d-p;)h=Vr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Vr(l),h=Vr(h)}l=null}else l=null;null!==s&&Br(o,u,s,l,!1),null!==c&&null!==f&&Br(o,f,c,l,!0)}if("select"===(s=(u=r?di(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Gn;else if(Fn(u))if(Wn)y=er;else{y=Xn;var m=Jn}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=Zn);switch(y&&(y=y(e,r))?Un(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&Z(u,"number",u.value)),m=r?di(r):window,e){case"focusin":(Fn(m)||"true"===m.contentEditable)&&(cr=m,lr=r,fr=null);break;case"focusout":fr=lr=cr=null;break;case"mousedown":hr=!0;break;case"contextmenu":case"mouseup":case"dragend":hr=!1,dr(o,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":dr(o,n,i)}var g;if(Tn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Dn?Rn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(An&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Dn&&(g=Jt()):($t="value"in(Qt=i)?Qt.value:Qt.textContent,Dn=!0)),0<(m=Ur(r,b)).length&&(b=new yn(b,e,null,n,i),o.push({event:b,listeners:m}),g?b.data=g:null!==(g=Ln(n))&&(b.data=g))),(g=Cn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Pn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!Tn&&Rn(e,t)?(e=Jt(),Yt=$t=Qt=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)})}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Fr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Fr(e,a,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Br(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ae(n,a))&&o.unshift(Fr(n,s,u)):i||null!=(s=Ae(n,a))&&o.push(Fr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var zr=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Gr(e){return("string"===typeof e?e:""+e).replace(zr,"\n").replace(qr,"")}function Wr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(a(425))}function Kr(){}var Hr=null,Qr=null;function $r(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Yr="function"===typeof setTimeout?setTimeout:void 0,Jr="function"===typeof clearTimeout?clearTimeout:void 0,Xr="function"===typeof Promise?Promise:void 0,Zr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Xr?function(e){return Xr.resolve(null).then(e).catch(ei)}:Yr;function ei(e){setTimeout(function(){throw e})}function ti(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ni(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ri(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ii=Math.random().toString(36).slice(2),ai="__reactFiber$"+ii,oi="__reactProps$"+ii,ui="__reactContainer$"+ii,si="__reactEvents$"+ii,ci="__reactListeners$"+ii,li="__reactHandles$"+ii;function fi(e){var t=e[ai];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ui]||n[ai]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ri(e);null!==e;){if(n=e[ai])return n;e=ri(e)}return t}n=(e=n).parentNode}return null}function hi(e){return!(e=e[ai]||e[ui])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function di(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function pi(e){return e[oi]||null}var vi=[],yi=-1;function mi(e){return{current:e}}function gi(e){0>yi||(e.current=vi[yi],vi[yi]=null,yi--)}function bi(e,t){vi[++yi]=e.current,e.current=t}var ki={},wi=mi(ki),_i=mi(!1),Oi=ki;function xi(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ei(){gi(_i),gi(wi)}function Si(e,t,n){if(wi.current!==ki)throw Error(a(168));bi(wi,t),bi(_i,n)}function Ti(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return M({},n,r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Oi=wi.current,bi(wi,e),bi(_i,_i.current),!0}function Ci(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ti(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,gi(_i),gi(wi),bi(wi,e)):gi(_i),bi(_i,n)}var Ai=null,Ni=!1,Pi=!1;function Ri(e){null===Ai?Ai=[e]:Ai.push(e)}function Li(){if(!Pi&&null!==Ai){Pi=!0;var e=0,t=yt;try{var n=Ai;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ai=null,Ni=!1}catch(i){throw null!==Ai&&(Ai=Ai.slice(e+1)),Ge(Ye,Li),i}finally{yt=t,Pi=!1}}return null}var Di=[],Mi=0,Fi=null,Ui=0,Vi=[],Bi=0,zi=null,qi=1,Gi="";function Wi(e,t){Di[Mi++]=Ui,Di[Mi++]=Fi,Fi=e,Ui=t}function Ki(e,t,n){Vi[Bi++]=qi,Vi[Bi++]=Gi,Vi[Bi++]=zi,zi=e;var r=qi;e=Gi;var i=32-rt(r)-1;r&=~(1<<i),n+=1;var a=32-rt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qi=1<<32-rt(t)+i|n<<i|r,Gi=a+e}else qi=1<<a|n<<i|r,Gi=e}function Hi(e){null!==e.return&&(Wi(e,1),Ki(e,1,0))}function Qi(e){for(;e===Fi;)Fi=Di[--Mi],Di[Mi]=null,Ui=Di[--Mi],Di[Mi]=null;for(;e===zi;)zi=Vi[--Bi],Vi[Bi]=null,Gi=Vi[--Bi],Vi[Bi]=null,qi=Vi[--Bi],Vi[Bi]=null}var $i=null,Yi=null,Ji=!1,Xi=null;function Zi(e,t){var n=vc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ea(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,$i=e,Yi=ni(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,$i=e,Yi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==zi?{id:qi,overflow:Gi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=vc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,$i=e,Yi=null,!0);default:return!1}}function ta(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function na(e){if(Ji){var t=Yi;if(t){var n=t;if(!ea(e,t)){if(ta(e))throw Error(a(418));t=ni(n.nextSibling);var r=$i;t&&ea(e,t)?Zi(r,n):(e.flags=-4097&e.flags|2,Ji=!1,$i=e)}}else{if(ta(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ji=!1,$i=e}}}function ra(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;$i=e}function ia(e){if(e!==$i)return!1;if(!Ji)return ra(e),Ji=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!$r(e.type,e.memoizedProps)),t&&(t=Yi)){if(ta(e))throw aa(),Error(a(418));for(;t;)Zi(e,t),t=ni(t.nextSibling)}if(ra(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Yi=ni(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Yi=null}}else Yi=$i?ni(e.stateNode.nextSibling):null;return!0}function aa(){for(var e=Yi;e;)e=ni(e.nextSibling)}function oa(){Yi=$i=null,Ji=!1}function ua(e){null===Xi?Xi=[e]:Xi.push(e)}var sa=k.ReactCurrentBatchConfig;function ca(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var la=mi(null),fa=null,ha=null,da=null;function pa(){da=ha=fa=null}function va(e){var t=la.current;gi(la),e._currentValue=t}function ya(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ma(e,t){fa=e,da=ha=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(lu=!0),e.firstContext=null)}function ga(e){var t=e._currentValue;if(da!==e)if(e={context:e,memoizedValue:t,next:null},null===ha){if(null===fa)throw Error(a(308));ha=e,fa.dependencies={lanes:0,firstContext:e}}else ha=ha.next=e;return t}var ba=null;function ka(e){null===ba?ba=[e]:ba.push(e)}function wa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ka(t)):(n.next=i.next,i.next=n),t.interleaved=n,_a(e,r)}function _a(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oa=!1;function xa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ea(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ys)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_a(e,n)}return null===(i=r.interleaved)?(t.next=t,ka(r)):(t.next=i.next,i.next=t),r.interleaved=t,_a(e,n)}function Ta(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ca(e,t,n,r){var i=e.updateQueue;Oa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Oa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);xs|=o,e.lanes=o,e.memoizedState=f}}function Aa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Na=(new r.Component).refs;function Pa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ra={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=Ea(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Sa(e,a,i))&&(Gs(t,e,i,r),Ta(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=Ea(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Sa(e,a,i))&&(Gs(t,e,i,r),Ta(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zs(),r=qs(e),i=Ea(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Sa(e,i,r))&&(Gs(t,e,r,n),Ta(t,e,r))}};function La(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!nr(n,r)||!nr(i,a))}function Da(e,t,n){var r=!1,i=ki,a=t.contextType;return"object"===typeof a&&null!==a?a=ga(a):(i=ji(t)?Oi:wi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?xi(e,i):ki),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ra,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ra.enqueueReplaceState(t,t.state,null)}function Fa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Na,xa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ga(a):(a=ji(t)?Oi:wi.current,i.context=xi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Pa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ra.enqueueReplaceState(i,i.state,null),Ca(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===Na&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ba(e){return(0,e._init)(e._payload)}function za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=mc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=wc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===O?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Ba(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=gc(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=_c(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=bc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=wc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=gc(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case _:return(t=_c(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(ee(t)||L(t))return(t=bc(t,e.mode,n,null)).return=e,t;Va(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(ee(n)||L(n))return null!==i?null:f(e,t,n,r,null);Va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(ee(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Va(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),Ji&&Wi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Ji&&Wi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach(function(e){return t(i,e)}),Ji&&Wi(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),Ji&&Wi(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return Ji&&Wi(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach(function(e){return t(i,e)}),Ji&&Wi(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===O&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===O){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Ba(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ua(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===O?((a=bc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=gc(o.type,o.key,o.props,null,r.mode,s)).ref=Ua(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=_c(o,r.mode,s)).return=r,r=a}return u(r);case N:return e(r,a,(l=o._init)(o._payload),s)}if(ee(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);Va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=wc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=za(!0),Ga=za(!1),Wa={},Ka=mi(Wa),Ha=mi(Wa),Qa=mi(Wa);function $a(e){if(e===Wa)throw Error(a(174));return e}function Ya(e,t){switch(bi(Qa,t),bi(Ha,e),bi(Ka,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}gi(Ka),bi(Ka,t)}function Ja(){gi(Ka),gi(Ha),gi(Qa)}function Xa(e){$a(Qa.current);var t=$a(Ka.current),n=ue(t,e.type);t!==n&&(bi(Ha,e),bi(Ka,n))}function Za(e){Ha.current===e&&(gi(Ka),gi(Ha))}var eo=mi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=k.ReactCurrentDispatcher,ao=k.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Jo:Xo,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=Zo,e=n(r,i)}while(fo)}if(io.current=Yo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function ko(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,xs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,tr(r,t.memoizedState)||(lu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,xs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);tr(o,t.memoizedState)||(lu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xo(){}function jo(e,t){var n=uo,r=ko(),i=t(),o=!tr(r.memoizedState,i);if(o&&(r.memoizedState=i,lu=!0),r=r.queue,Mo(To.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,No(9,So.bind(null,n,r,i,t),void 0,null),null===ms)throw Error(a(349));0!==(30&oo)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function So(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&Co(e)}function To(e,t,n){return n(function(){Io(t)&&Co(e)})}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tr(e,n)}catch(r){return!0}}function Co(e){var t=_a(e,1);null!==t&&Gs(t,e,1,-1)}function Ao(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=function(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))Qo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,tr(u,o)){var s=t.interleaved;return null===s?(i.next=i,ka(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=wa(e,t,i,r))&&(i=zs(),Gs(n,e,r,i),$o(n,t,r))}}.bind(null,uo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return ko().memoizedState}function Ro(e,t,n,r){var i=bo();uo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&yo(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}uo.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Do(e,t){return Ro(8390656,8,e,t)}function Mo(e,t){return Lo(2048,8,e,t)}function Fo(e,t){return Lo(4,2,e,t)}function Uo(e,t){return Lo(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Vo.bind(null,t,e),n)}function zo(){}function qo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&oo)?(e.baseState&&(e.baseState=!1,lu=!0),e.memoizedState=n):(tr(n,t)||(n=ht(),uo.lanes|=n,xs|=n,e.baseState=!0),t)}function Ko(){return ko().memoizedState}function Ho(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Qo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Yo={readContext:ga,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Jo={readContext:ga,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:ga,useEffect:Do,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=function(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e)?Qo(t,n):null!==(n=wa(e,t,n,r))&&(Gs(n,e,r,zs()),$o(n,t,r))}.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Ao,useDebugValue:zo,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=function(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{yt=n,ao.transition=r}}.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=bo();if(Ji){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ms)throw Error(a(349));0!==(30&oo)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Do(To.bind(null,r,o,e),[e]),r.flags|=2048,No(9,So.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=ms.identifierPrefix;if(Ji){var n=Gi;t=":"+t+"R"+(n=(qi&~(1<<32-rt(qi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xo={readContext:ga,useCallback:qo,useContext:ga,useEffect:Mo,useImperativeHandle:Bo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:Go,useReducer:_o,useRef:Po,useState:function(){return _o(wo)},useDebugValue:zo,useDeferredValue:function(e){return Wo(ko(),so.memoizedState,e)},useTransition:function(){return[_o(wo)[0],ko().memoizedState]},useMutableSource:xo,useSyncExternalStore:jo,useId:Ko,unstable_isNewReconciler:!1},Zo={readContext:ga,useCallback:qo,useContext:ga,useEffect:Mo,useImperativeHandle:Bo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:Go,useReducer:Oo,useRef:Po,useState:function(){return Oo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=ko();return null===so?t.memoizedState=e:Wo(t,so.memoizedState,e)},useTransition:function(){return[Oo(wo)[0],ko().memoizedState]},useMutableSource:xo,useSyncExternalStore:jo,useId:Ko,unstable_isNewReconciler:!1};function eu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function tu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function nu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ru="function"===typeof WeakMap?WeakMap:Map;function iu(e,t,n){(n=Ea(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ns||(Ns=!0,Ps=r),nu(0,t)},n}function au(e,t,n){(n=Ea(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){nu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){nu(0,t),"function"!==typeof r&&(null===Rs?Rs=new Set([this]):Rs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ou(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ru;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=function(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=zs(),e.pingedLanes|=e.suspendedLanes&n,ms===e&&(bs&n)===n&&(4===_s||3===_s&&(130023424&bs)===bs&&500>Qe()-Is?Zs(e,0):Es|=n),Ws(e,t)}.bind(null,e,t,n),t.then(e,e))}function uu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function su(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ea(-1,1)).tag=2,Sa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var cu=k.ReactCurrentOwner,lu=!1;function fu(e,t,n,r){t.child=null===e?Ga(t,null,n,r):qa(t,e.child,n,r)}function hu(e,t,n,r,i){n=n.render;var a=t.ref;return ma(t,i),r=mo(e,t,n,r,a,i),n=go(),null===e||lu?(Ji&&n&&Hi(t),t.flags|=1,fu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lu(e,t,i))}function du(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||yc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=gc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,pu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:nr)(o,r)&&e.ref===t.ref)return Lu(e,t,i)}return t.flags|=1,(e=mc(a,r)).ref=t.ref,e.return=t,t.child=e}function pu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(nr(a,r)&&e.ref===t.ref){if(lu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Lu(e,t,i);0!==(131072&e.flags)&&(lu=!0)}}return mu(e,t,n,r,i)}function vu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bi(ws,ks),ks|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bi(ws,ks),ks|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,bi(ws,ks),ks|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bi(ws,ks),ks|=r;return fu(e,t,i,n),t.child}function yu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mu(e,t,n,r,i){var a=ji(n)?Oi:wi.current;return a=xi(t,a),ma(t,i),n=mo(e,t,n,r,a,i),r=go(),null===e||lu?(Ji&&r&&Hi(t),t.flags|=1,fu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lu(e,t,i))}function gu(e,t,n,r,i){if(ji(n)){var a=!0;Ii(t)}else a=!1;if(ma(t,i),null===t.stateNode)Ru(e,t),Da(t,n,r),Fa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ga(c):c=xi(t,c=ji(n)?Oi:wi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ma(t,o,r,c),Oa=!1;var h=t.memoizedState;o.state=h,Ca(t,r,o,i),s=t.memoizedState,u!==r||h!==s||_i.current||Oa?("function"===typeof l&&(Pa(t,n,l,r),s=t.memoizedState),(u=Oa||La(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ja(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ca(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=ga(s):s=xi(t,s=ji(n)?Oi:wi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ma(t,o,r,s),Oa=!1,h=t.memoizedState,o.state=h,Ca(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||_i.current||Oa?("function"===typeof d&&(Pa(t,n,d,r),p=t.memoizedState),(c=Oa||La(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return bu(e,t,n,r,a,i)}function bu(e,t,n,r,i,a){yu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ci(t,n,!1),Lu(e,t,a);r=t.stateNode,cu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):fu(e,t,u,a),t.memoizedState=r.state,i&&Ci(t,n,!0),t.child}function ku(e){var t=e.stateNode;t.pendingContext?Si(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Si(0,t.context,!1),Ya(e,t.containerInfo)}function wu(e,t,n,r,i){return oa(),ua(i),t.flags|=256,fu(e,t,n,r),t.child}var _u,Ou,xu,ju,Eu={dehydrated:null,treeContext:null,retryLane:0};function Su(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tu(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),bi(eo,1&o),null===e)return na(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=kc(s,i,0,null),e=bc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Su(n),t.memoizedState=Eu,e):Iu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,r=tu(Error(a(422))),Cu(e,t,u,r)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=kc({mode:"visible",children:r.children},i,0,null),(o=bc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&qa(t,e.child,null,u),t.child.memoizedState=Su(u),t.memoizedState=Eu,o);if(0===(1&t.mode))return Cu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,o=Error(a(419)),r=tu(o,r,void 0),Cu(e,t,u,r)}if(s=0!==(u&e.childLanes),lu||s){if(null!==(r=ms)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,_a(e,i),Gs(r,e,i,-1))}return nc(),r=tu(Error(a(421))),Cu(e,t,u,r)}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hc(e,n)}.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Yi=ni(i.nextSibling),$i=t,Ji=!0,Xi=null,null!==e&&(Vi[Bi++]=qi,Vi[Bi++]=Gi,Vi[Bi++]=zi,qi=e.id,Gi=e.overflow,zi=t),(t=Iu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=mc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=mc(r,u):(u=bc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Su(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Eu,i}return e=(u=e.child).sibling,i=mc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Iu(e,t){return(t=kc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Cu(e,t,n,r){return null!==r&&ua(r),qa(t,e.child,null,n),(e=Iu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Au(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ya(e.return,t,n)}function Nu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Pu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(fu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Au(e,n,t);else if(19===e.tag)Au(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(bi(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Nu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Nu(t,!0,n,null,a);break;case"together":Nu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ru(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),xs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Du(e,t){if(!Ji)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fu(e,t,n){var r=t.pendingProps;switch(Qi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mu(t),null;case 1:return ji(t.type)&&Ei(),Mu(t),null;case 3:return r=t.stateNode,Ja(),gi(_i),gi(wi),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ia(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xi&&(Hs(Xi),Xi=null))),Ou(e,t),Mu(t),null;case 5:Za(t);var i=$a(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)xu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Mu(t),null}if(e=$a(Ka.current),ia(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ai]=t,r[oi]=o,e=0!==(1&t.mode),n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(i=0;i<Tr.length;i++)Nr(Tr[i],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":$(r,o),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Nr("invalid",r);break;case"textarea":re(r,o),Nr("invalid",r)}for(var s in me(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Wr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Wr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Nr("scroll",r)}switch(n){case"input":W(r),X(r,o,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Kr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ai]=t,e[oi]=r,_u(e,t,!1,!1),t.stateNode=e;e:{switch(s=ge(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),i=r;break;case"iframe":case"object":case"embed":Nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Tr.length;i++)Nr(Tr[i],e);i=r;break;case"source":Nr("error",e),i=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),i=r;break;case"details":Nr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Nr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":re(e,r),i=ne(e,r),Nr("invalid",e);break;default:i=r}for(o in me(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ve(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&le(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Nr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":W(e),X(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?te(e,!!r.multiple,o,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Kr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Mu(t),null;case 6:if(e&&null!=t.stateNode)ju(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Qa.current),$a(Ka.current),ia(t)){if(r=t.stateNode,n=t.memoizedProps,r[ai]=t,(o=r.nodeValue!==n)&&null!==(e=$i))switch(e.tag){case 3:Wr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Wr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ai]=t,t.stateNode=r}return Mu(t),null;case 13:if(gi(eo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Ji&&null!==Yi&&0!==(1&t.mode)&&0===(128&t.flags))aa(),oa(),t.flags|=98560,o=!1;else if(o=ia(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[ai]=t}else oa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Mu(t),o=!1}else null!==Xi&&(Hs(Xi),Xi=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===_s&&(_s=3):nc())),null!==t.updateQueue&&(t.flags|=4),Mu(t),null);case 4:return Ja(),Ou(e,t),null===e&&Lr(t.stateNode.containerInfo),Mu(t),null;case 10:return va(t.type._context),Mu(t),null;case 17:return ji(t.type)&&Ei(),Mu(t),null;case 19:if(gi(eo),null===(o=t.memoizedState))return Mu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Du(o,!1);else{if(0!==_s||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,Du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bi(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Cs&&(t.flags|=128,r=!0,Du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Ji)return Mu(t),null}else 2*Qe()-o.renderingStartTime>Cs&&1073741824!==n&&(t.flags|=128,r=!0,Du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=eo.current,bi(eo,r?1&n|2:1&n),t):(Mu(t),null);case 22:case 23:return Xs(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ks)&&(Mu(t),6&t.subtreeFlags&&(t.flags|=8192)):Mu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Uu(e,t){switch(Qi(t),t.tag){case 1:return ji(t.type)&&Ei(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),gi(_i),gi(wi),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(gi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));oa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return gi(eo),null;case 4:return Ja(),null;case 10:return va(t.type._context),null;case 22:case 23:return Xs(),null;case 24:default:return null}}_u=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},xu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Ka.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=ne(e,i),r=ne(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Kr)}for(l in me(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Nr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ju=function(e,t,n,r){n!==r&&(t.flags|=4)};var Vu=!1,Bu=!1,zu="function"===typeof WeakSet?WeakSet:Set,qu=null;function Gu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){fc(e,t,r)}else n.current=null}function Wu(e,t,n){try{n()}catch(r){fc(e,t,r)}}var Ku=!1;function Hu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Wu(t,n,a)}i=i.next}while(i!==r)}}function Qu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $u(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}"function"===typeof t?t(e):t.current=e}}function Yu(e){var t=e.alternate;null!==t&&(e.alternate=null,Yu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ai],delete t[oi],delete t[si],delete t[ci],delete t[li])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ju(e){return 5===e.tag||3===e.tag||4===e.tag}function Xu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ju(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var Zu=null,es=!1;function ts(e,t,n){for(n=n.child;null!==n;)ns(e,t,n),n=n.sibling}function ns(e,t,n){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(tt,n)}catch(u){}switch(n.tag){case 5:Bu||Gu(n,t);case 6:var r=Zu,i=es;Zu=null,ts(e,t,n),es=i,null!==(Zu=r)&&(es?(e=Zu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Zu.removeChild(n.stateNode));break;case 18:null!==Zu&&(es?(e=Zu,n=n.stateNode,8===e.nodeType?ti(e.parentNode,n):1===e.nodeType&&ti(e,n),Ut(e)):ti(Zu,n.stateNode));break;case 4:r=Zu,i=es,Zu=n.stateNode.containerInfo,es=!0,ts(e,t,n),Zu=r,es=i;break;case 0:case 11:case 14:case 15:if(!Bu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)?Wu(n,t,o):0!==(4&a)&&Wu(n,t,o)),i=i.next}while(i!==r)}ts(e,t,n);break;case 1:if(!Bu&&(Gu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){fc(n,t,u)}ts(e,t,n);break;case 21:ts(e,t,n);break;case 22:1&n.mode?(Bu=(r=Bu)||null!==n.memoizedState,ts(e,t,n),Bu=r):ts(e,t,n);break;default:ts(e,t,n)}}function rs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new zu),t.forEach(function(t){var r=function(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),hc(e,n)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function is(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:Zu=s.stateNode,es=!1;break e;case 3:case 4:Zu=s.stateNode.containerInfo,es=!0;break e}s=s.return}if(null===Zu)throw Error(a(160));ns(o,u,i),Zu=null,es=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){fc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)as(t,e),t=t.sibling}function as(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(is(t,e),os(e),4&r){try{Hu(3,e,e.return),Qu(3,e)}catch(y){fc(e,e.return,y)}try{Hu(5,e,e.return)}catch(y){fc(e,e.return,y)}}break;case 1:is(t,e),os(e),512&r&&null!==n&&Gu(n,n.return);break;case 5:if(is(t,e),os(e),512&r&&null!==n&&Gu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(y){fc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ge(s,u);var l=ge(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ve(i,h):"dangerouslySetInnerHTML"===f?le(i,h):"children"===f?fe(i,h):b(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ie(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?te(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?te(i,!!o.multiple,o.defaultValue,!0):te(i,!!o.multiple,o.multiple?[]:"",!1))}i[oi]=o}catch(y){fc(e,e.return,y)}}break;case 6:if(is(t,e),os(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){fc(e,e.return,y)}}break;case 3:if(is(t,e),os(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(y){fc(e,e.return,y)}break;case 4:is(t,e),os(e);break;case 13:is(t,e),os(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Is=Qe())),4&r&&rs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Bu=(l=Bu)||f,is(t,e),Bu=l):is(t,e),os(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(qu=e,f=e.child;null!==f;){for(h=qu=f;null!==qu;){switch(p=(d=qu).child,d.tag){case 0:case 11:case 14:case 15:Hu(4,d,d.return);break;case 1:Gu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){fc(r,n,y)}}break;case 5:Gu(d,d.return);break;case 22:if(null!==d.memoizedState){cs(h);continue}}null!==p?(p.return=d,qu=p):cs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=pe("display",u))}catch(y){fc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){fc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:is(t,e),os(e),4&r&&rs(e);break;case 21:break;default:is(t,e),os(e)}}function os(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Ju(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Xu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Kr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Xu(e),o);break;default:throw Error(a(161))}}catch(u){fc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function us(e,t,n){qu=e,function e(t,n,r){for(var i=0!==(1&t.mode);null!==qu;){var a=qu,o=a.child;if(22===a.tag&&i){var u=null!==a.memoizedState||Vu;if(!u){var s=a.alternate,c=null!==s&&null!==s.memoizedState||Bu;s=Vu;var l=Bu;if(Vu=u,(Bu=c)&&!l)for(qu=a;null!==qu;)c=(u=qu).child,22===u.tag&&null!==u.memoizedState?ls(a):null!==c?(c.return=u,qu=c):ls(a);for(;null!==o;)qu=o,e(o,n,r),o=o.sibling;qu=a,Vu=s,Bu=l}ss(t)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,qu=o):ss(t)}}(e,t,n)}function ss(e){for(;null!==qu;){var t=qu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bu||Qu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ca(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Aa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Aa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ut(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Bu||512&t.flags&&$u(t)}catch(d){fc(t,t.return,d)}}if(t===e){qu=null;break}if(null!==(n=t.sibling)){n.return=t.return,qu=n;break}qu=t.return}}function cs(e){for(;null!==qu;){var t=qu;if(t===e){qu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qu=n;break}qu=t.return}}function ls(e){for(;null!==qu;){var t=qu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qu(4,t)}catch(s){fc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){fc(t,i,s)}}var a=t.return;try{$u(t)}catch(s){fc(t,a,s)}break;case 5:var o=t.return;try{$u(t)}catch(s){fc(t,o,s)}}}catch(s){fc(t,t.return,s)}if(t===e){qu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,qu=u;break}qu=t.return}}var fs,hs=Math.ceil,ds=k.ReactCurrentDispatcher,ps=k.ReactCurrentOwner,vs=k.ReactCurrentBatchConfig,ys=0,ms=null,gs=null,bs=0,ks=0,ws=mi(0),_s=0,Os=null,xs=0,js=0,Es=0,Ss=null,Ts=null,Is=0,Cs=1/0,As=null,Ns=!1,Ps=null,Rs=null,Ls=!1,Ds=null,Ms=0,Fs=0,Us=null,Vs=-1,Bs=0;function zs(){return 0!==(6&ys)?Qe():-1!==Vs?Vs:Vs=Qe()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==bs?bs&-bs:null!==sa.transition?(0===Bs&&(Bs=ht()),Bs):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Ht(e.type)}function Gs(e,t,n,r){if(50<Fs)throw Fs=0,Us=null,Error(a(185));pt(e,n,r),0!==(2&ys)&&e===ms||(e===ms&&(0===(2&ys)&&(js|=n),4===_s&&Qs(e,bs)),Ws(e,r),1===n&&0===ys&&0===(1&t.mode)&&(Cs=Qe()+500,Ni&&Li()))}function Ws(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-rt(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=lt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ct(e,e===ms?bs:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Ni=!0,Ri(e)}($s.bind(null,e)):Ri($s.bind(null,e)),Zr(function(){0===(6&ys)&&Li()}),n=null;else{switch(mt(r)){case 1:n=Ye;break;case 4:n=Je;break;case 16:n=Xe;break;case 536870912:n=et;break;default:n=Xe}n=dc(n,function e(t,n){Vs=-1;Bs=0;if(0!==(6&ys))throw Error(a(327));var r=t.callbackNode;if(cc()&&t.callbackNode!==r)return null;var i=ct(t,t===ms?bs:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||n)n=rc(t,i);else{n=i;var o=ys;ys|=2;var u=tc();for(ms===t&&bs===n||(As=null,Cs=Qe()+500,Zs(t,n));;)try{ac();break}catch(c){ec(t,c)}pa(),ds.current=u,ys=o,null!==gs?n=0:(ms=null,bs=0,n=_s)}if(0!==n){if(2===n&&(0!==(o=ft(t))&&(i=o,n=Ks(t,o))),1===n)throw r=Os,Zs(t,0),Qs(t,i),Ws(t,Qe()),r;if(6===n)Qs(t,i);else{if(o=t.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!tr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(n=rc(t,i))&&(0!==(u=ft(t))&&(i=u,n=Ks(t,u))),1===n))throw r=Os,Zs(t,0),Qs(t,i),Ws(t,Qe()),r;switch(t.finishedWork=o,t.finishedLanes=i,n){case 0:case 1:throw Error(a(345));case 2:sc(t,Ts,As);break;case 3:if(Qs(t,i),(130023424&i)===i&&10<(n=Is+500-Qe())){if(0!==ct(t,0))break;if(((o=t.suspendedLanes)&i)!==i){zs(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Yr(sc.bind(null,t,Ts,As),n);break}sc(t,Ts,As);break;case 4:if(Qs(t,i),(4194240&i)===i)break;for(n=t.eventTimes,o=-1;0<i;){var s=31-rt(i);u=1<<s,(s=n[s])>o&&(o=s),i&=~u}if(i=o,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*hs(i/1960))-i)){t.timeoutHandle=Yr(sc.bind(null,t,Ts,As),i);break}sc(t,Ts,As);break;case 5:sc(t,Ts,As);break;default:throw Error(a(329))}}}Ws(t,Qe());return t.callbackNode===r?e.bind(null,t):null}.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ks(e,t){var n=Ss;return e.current.memoizedState.isDehydrated&&(Zs(e,t).flags|=256),2!==(e=rc(e,t))&&(t=Ts,Ts=n,null!==t&&Hs(t)),e}function Hs(e){null===Ts?Ts=e:Ts.push.apply(Ts,e)}function Qs(e,t){for(t&=~Es,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function $s(e){if(0!==(6&ys))throw Error(a(327));cc();var t=ct(e,0);if(0===(1&t))return Ws(e,Qe()),null;var n=rc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=Ks(e,r))}if(1===n)throw n=Os,Zs(e,0),Qs(e,t),Ws(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sc(e,Ts,As),Ws(e,Qe()),null}function Ys(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Cs=Qe()+500,Ni&&Li())}}function Js(e){null!==Ds&&0===Ds.tag&&0===(6&ys)&&cc();var t=ys;ys|=1;var n=vs.transition,r=yt;try{if(vs.transition=null,yt=1,e)return e()}finally{yt=r,vs.transition=n,0===(6&(ys=t))&&Li()}}function Xs(){ks=ws.current,gi(ws)}function Zs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Jr(n)),null!==gs)for(n=gs.return;null!==n;){var r=n;switch(Qi(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ei();break;case 3:Ja(),gi(_i),gi(wi),ro();break;case 5:Za(r);break;case 4:Ja();break;case 13:case 19:gi(eo);break;case 10:va(r.type._context);break;case 22:case 23:Xs()}n=n.return}if(ms=e,gs=e=mc(e.current,null),bs=ks=t,_s=0,Os=null,Es=js=xs=0,Ts=Ss=null,null!==ba){for(t=0;t<ba.length;t++)if(null!==(r=(n=ba[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ba=null}return e}function ec(e,t){for(;;){var n=gs;try{if(pa(),io.current=Yo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,ps.current=null,null===n||null===n.return){_s=1,Os=t,gs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=bs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=uu(u);if(null!==p){p.flags&=-257,su(p,u,s,0,t),1&p.mode&&ou(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){ou(o,l,t),nc();break e}c=Error(a(426))}else if(Ji&&1&s.mode){var m=uu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),su(m,u,s,0,t),ua(eu(c,s));break e}}o=c=eu(c,s),4!==_s&&(_s=2),null===Ss?Ss=[o]:Ss.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ia(o,iu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Rs||!Rs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ia(o,au(o,s,t));break e}}o=o.return}while(null!==o)}uc(n)}catch(k){t=k,gs===n&&null!==n&&(gs=n=n.return);continue}break}}function tc(){var e=ds.current;return ds.current=Yo,null===e?Yo:e}function nc(){0!==_s&&3!==_s&&2!==_s||(_s=4),null===ms||0===(268435455&xs)&&0===(268435455&js)||Qs(ms,bs)}function rc(e,t){var n=ys;ys|=2;var r=tc();for(ms===e&&bs===t||(As=null,Zs(e,t));;)try{ic();break}catch(i){ec(e,i)}if(pa(),ys=n,ds.current=r,null!==gs)throw Error(a(261));return ms=null,bs=0,_s}function ic(){for(;null!==gs;)oc(gs)}function ac(){for(;null!==gs&&!Ke();)oc(gs)}function oc(e){var t=fs(e.alternate,e,ks);e.memoizedProps=e.pendingProps,null===t?uc(e):gs=t,ps.current=null}function uc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Fu(n,t,ks)))return void(gs=n)}else{if(null!==(n=Uu(n,t)))return n.flags&=32767,void(gs=n);if(null===e)return _s=6,void(gs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(gs=t);gs=t=e}while(null!==t);0===_s&&(_s=5)}function sc(e,t,n){var r=yt,i=vs.transition;try{vs.transition=null,yt=1,function(e,t,n,r){do{cc()}while(null!==Ds);if(0!==(6&ys))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===ms&&(gs=ms=null,bs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ls||(Ls=!0,dc(Xe,function(){return cc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=vs.transition,vs.transition=null;var u=yt;yt=1;var s=ys;ys|=4,ps.current=null,function(e,t){if(Hr=Bt,or(e=ar())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qr={focusedElem:e,selectionRange:n},Bt=!1,qu=t;null!==qu;)if(e=(t=qu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,qu=e;else for(;null!==qu;){t=qu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ca(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(w){fc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,qu=e;break}qu=t.return}v=Ku,Ku=!1}(e,n),as(n,e),ur(Qr),Bt=!!Hr,Qr=Hr=null,e.current=n,us(n,e,i),He(),ys=s,yt=u,vs.transition=o}else e.current=n;if(Ls&&(Ls=!1,Ds=e,Ms=i),0===(o=e.pendingLanes)&&(Rs=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(tt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Ws(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ns)throw Ns=!1,e=Ps,Ps=null,e;0!==(1&Ms)&&0!==e.tag&&cc(),0!==(1&(o=e.pendingLanes))?e===Us?Fs++:(Fs=0,Us=e):Fs=0,Li()}(e,t,n,r)}finally{vs.transition=i,yt=r}return null}function cc(){if(null!==Ds){var e=mt(Ms),t=vs.transition,n=yt;try{if(vs.transition=null,yt=16>e?16:e,null===Ds)var r=!1;else{if(e=Ds,Ds=null,Ms=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,qu=e.current;null!==qu;){var o=qu,u=o.child;if(0!==(16&qu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(qu=l;null!==qu;){var f=qu;switch(f.tag){case 0:case 11:case 15:Hu(8,f,o)}var h=f.child;if(null!==h)h.return=f,qu=h;else for(;null!==qu;){var d=(f=qu).sibling,p=f.return;if(Yu(f),f===l){qu=null;break}if(null!==d){d.return=p,qu=d;break}qu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}qu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,qu=u;else e:for(;null!==qu;){if(0!==(2048&(o=qu).flags))switch(o.tag){case 0:case 11:case 15:Hu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,qu=g;break e}qu=o.return}}var b=e.current;for(qu=b;null!==qu;){var k=(u=qu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,qu=k;else e:for(u=b;null!==qu;){if(0!==(2048&(s=qu).flags))try{switch(s.tag){case 0:case 11:case 15:Qu(9,s)}}catch(_){fc(s,s.return,_)}if(s===u){qu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,qu=w;break e}qu=s.return}}if(ys=i,Li(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(tt,e)}catch(_){}r=!0}return r}finally{yt=n,vs.transition=t}}return!1}function lc(e,t,n){e=Sa(e,t=iu(0,t=eu(n,t),1),1),t=zs(),null!==e&&(pt(e,1,t),Ws(e,t))}function fc(e,t,n){if(3===e.tag)lc(e,e,n);else for(;null!==t;){if(3===t.tag){lc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Rs||!Rs.has(r))){t=Sa(t,e=au(t,e=eu(n,e),1),1),e=zs(),null!==t&&(pt(t,1,e),Ws(t,e));break}}t=t.return}}function hc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=zs();null!==(e=_a(e,t))&&(pt(e,t,n),Ws(e,n))}function dc(e,t){return Ge(e,t)}function pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vc(e,t,n,r){return new pc(e,t,n,r)}function yc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function mc(e,t){var n=e.alternate;return null===n?((n=vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)yc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case O:return bc(n.children,i,o,t);case x:u=8,i|=8;break;case j:return(e=vc(12,n,t,2|i)).elementType=j,e.lanes=o,e;case I:return(e=vc(13,n,t,i)).elementType=I,e.lanes=o,e;case C:return(e=vc(19,n,t,i)).elementType=C,e.lanes=o,e;case P:return kc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case S:u=9;break e;case T:u=11;break e;case A:u=14;break e;case N:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=vc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function bc(e,t,n,r){return(e=vc(7,e,r,t)).lanes=n,e}function kc(e,t,n,r){return(e=vc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function wc(e,t,n){return(e=vc(6,e,null,t)).lanes=n,e}function _c(e,t,n){return(t=vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dt(0),this.expirationTimes=dt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xc(e,t,n,r,i,a,o,u,s){return e=new Oc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=vc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xa(a),e}function jc(e){if(!e)return ki;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(ji(n))return Ti(e,n,t)}return t}function Ec(e,t,n,r,i,a,o,u,s){return(e=xc(n,r,!0,e,0,a,0,u,s)).context=jc(null),n=e.current,(a=Ea(r=zs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,Sa(n,a,i),e.current.lanes=i,pt(e,i,r),Ws(e,r),e}function Sc(e,t,n,r){var i=t.current,a=zs(),o=qs(i);return n=jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ea(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Sa(i,t,o))&&(Gs(e,i,o,a),Ta(e,i,o)),o}function Tc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ic(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Cc(e,t){Ic(e,t),(e=e.alternate)&&Ic(e,t)}fs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)lu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return lu=!1,function(e,t,n){switch(t.tag){case 3:ku(t),oa();break;case 5:Xa(t);break;case 1:ji(t.type)&&Ii(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;bi(la,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(bi(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Tu(e,t,n):(bi(eo,1&eo.current),null!==(e=Lu(e,t,n))?e.sibling:null);bi(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Pu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),bi(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,vu(e,t,n)}return Lu(e,t,n)}(e,t,n);lu=0!==(131072&e.flags)}else lu=!1,Ji&&0!==(1048576&t.flags)&&Ki(t,Ui,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ru(e,t),e=t.pendingProps;var i=xi(t,wi.current);ma(t,n),i=mo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(o=!0,Ii(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,xa(t),i.updater=Ra,t.stateNode=i,i._reactInternals=t,Fa(t,r,e,n),t=bu(null,t,r,!0,o,n)):(t.tag=0,Ji&&o&&Hi(t),fu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ru(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return yc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=ca(r,e),i){case 0:t=mu(null,t,r,e,n);break e;case 1:t=gu(null,t,r,e,n);break e;case 11:t=hu(null,t,r,e,n);break e;case 14:t=du(null,t,r,ca(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,mu(e,t,r,i=t.elementType===r?i:ca(r,i),n);case 1:return r=t.type,i=t.pendingProps,gu(e,t,r,i=t.elementType===r?i:ca(r,i),n);case 3:e:{if(ku(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ja(e,t),Ca(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=wu(e,t,r,n,i=eu(Error(a(423)),t));break e}if(r!==i){t=wu(e,t,r,n,i=eu(Error(a(424)),t));break e}for(Yi=ni(t.stateNode.containerInfo.firstChild),$i=t,Ji=!0,Xi=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(oa(),r===i){t=Lu(e,t,n);break e}fu(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&na(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,$r(r,i)?u=null:null!==o&&$r(r,o)&&(t.flags|=32),yu(e,t),fu(e,t,u,n),t.child;case 6:return null===e&&na(t),null;case 13:return Tu(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):fu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,hu(e,t,r,i=t.elementType===r?i:ca(r,i),n);case 7:return fu(e,t,t.pendingProps,n),t.child;case 8:case 12:return fu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,bi(la,r._currentValue),r._currentValue=u,null!==o)if(tr(o.value,u)){if(o.children===i.children&&!_i.current){t=Lu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ea(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ya(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),ya(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}fu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ma(t,n),r=r(i=ga(i)),t.flags|=1,fu(e,t,r,n),t.child;case 14:return i=ca(r=t.type,t.pendingProps),du(e,t,r,i=ca(r.type,i),n);case 15:return pu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ca(r,i),Ru(e,t),t.tag=1,ji(r)?(e=!0,Ii(t)):e=!1,ma(t,n),Da(t,r,i),Fa(t,r,i,n),bu(null,t,r,!0,e,n);case 19:return Pu(e,t,n);case 22:return vu(e,t,n)}throw Error(a(156,t.tag))};var Ac="function"===typeof reportError?reportError:function(e){console.error(e)};function Nc(e){this._internalRoot=e}function Pc(e){this._internalRoot=e}function Rc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Lc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Dc(){}function Mc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Tc(o);u.call(e)}}Sc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Tc(o);a.call(e)}}var o=Ec(t,r,e,0,null,!1,0,"",Dc);return e._reactRootContainer=o,e[ui]=o.current,Lr(8===e.nodeType?e.parentNode:e),Js(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Tc(s);u.call(e)}}var s=xc(e,0,!1,null,0,!1,0,"",Dc);return e._reactRootContainer=s,e[ui]=s.current,Lr(8===e.nodeType?e.parentNode:e),Js(function(){Sc(t,s,n,r)}),s}(n,t,e,i,r);return Tc(o)}Pc.prototype.render=Nc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Sc(e,t,null,null)},Pc.prototype.unmount=Nc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Js(function(){Sc(null,e,null,null)}),t[ui]=null}},Pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&0!==t&&t<Ct[n].priority;n++);Ct.splice(n,0,e),0===n&&Rt(e)}},gt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=st(t.pendingLanes);0!==n&&(vt(t,1|n),Ws(t,Qe()),0===(6&ys)&&(Cs=Qe()+500,Li()))}break;case 13:Js(function(){var t=_a(e,1);if(null!==t){var n=zs();Gs(t,e,1,n)}}),Cc(e,1)}},bt=function(e){if(13===e.tag){var t=_a(e,134217728);if(null!==t)Gs(t,e,134217728,zs());Cc(e,134217728)}},kt=function(e){if(13===e.tag){var t=qs(e),n=_a(e,t);if(null!==n)Gs(n,e,t,zs());Cc(e,t)}},wt=function(){return yt},_t=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=pi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&te(e,!!n.multiple,t,!1)}},Se=Ys,Te=Js;var Fc={usingClientEntryPoint:!1,Events:[hi,di,pi,je,Ee,Ys]},Uc={findFiberByHostInstance:fi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Vc={bundleType:Uc.bundleType,version:Uc.version,rendererPackageName:Uc.rendererPackageName,rendererConfig:Uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:Uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{tt=Bc.inject(Vc),nt=Bc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Rc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Rc(e))throw Error(a(299));var n=!1,r="",i=Ac;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=xc(e,1,!1,null,0,n,0,r,i),e[ui]=t.current,Lr(8===e.nodeType?e.parentNode:e),new Nc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return Js(e)},t.hydrate=function(e,t,n){if(!Lc(t))throw Error(a(200));return Mc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Rc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Ac;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Ec(t,null,e,1,null!=n?n:null,i,0,o,u),e[ui]=t.current,Lr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Pc(t)},t.render=function(e,t,n){if(!Lc(t))throw Error(a(200));return Mc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Lc(e))throw Error(a(40));return!!e._reactRootContainer&&(Js(function(){Mc(null,null,e,!1,function(){e._reactRootContainer=null,e[ui]=null})}),!0)},t.unstable_batchedUpdates=Ys,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Lc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Mc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},function(e,t,n){"use strict";e.exports=n(84)},function(e,t,n){"use strict";(function(e){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof e?e:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,k(e),!v)if(null!==r(c))v=!0,P(_);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(E),E=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O,x=!1,j=null,E=-1,S=5,T=-1;function I(){return!(t.unstable_now()-T<S)}function C(){if(null!==j){var e=t.unstable_now();T=e;var n=!0;try{n=j(!0,e)}finally{n?O():(x=!1,j=null)}}else x=!1}if("function"===typeof b)O=function(){b(C)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=C,O=function(){N.postMessage(null)}}else O=function(){m(C,0)};function P(e){j=e,x||(x=!0,O())}function R(e,n){E=m(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(E),E=-1):y=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}).call(this,n(85).setImmediate)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(86),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(46))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,a={},o=!1,u=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return a[i]=o,r(i),i++},s.clearImmediate=c}function c(e){delete a[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(46),n(69))},,,,,,,function(e,t,n){"use strict";n(75)},function(e,t,n){"use strict";n(76)},function(e,t,n){"use strict";n(78)},function(e,t,n){"use strict";var r=n(5),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(19);n.d(t,"a",function(){return r.a});r.a.registerVersion("firebase","9.8.3","app-compat")},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return le});var r=n(27),i=n.n(r),a=n(101),o=n.n(a),u=n(102),s=n.n(u),c=n(45),l=n.n(c),f=n(71),h=n.n(f),d="bodyAttributes",p="htmlAttributes",v="titleAttributes",y={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},m=(Object.keys(y).map(function(e){return y[e]}),"charset"),g="cssText",b="href",k="http-equiv",w="innerHTML",_="itemprop",O="name",x="property",j="rel",E="src",S="target",T={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},I="defaultTitle",C="defer",A="encodeSpecialCharacters",N="onChangeClientState",P="titleTemplate",R=Object.keys(T).reduce(function(e,t){return e[T[t]]=t,e},{}),L=[y.NOSCRIPT,y.SCRIPT,y.STYLE],D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},B=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},z=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},q=function(e){var t=Q(e,y.TITLE),n=Q(e,P);if(n&&t)return n.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var r=Q(e,I);return t||r||void 0},G=function(e){return Q(e,N)||function(){}},W=function(e,t){return t.filter(function(t){return"undefined"!==typeof t[e]}).map(function(t){return t[e]}).reduce(function(e,t){return U({},e,t)},{})},K=function(e,t){return t.filter(function(e){return"undefined"!==typeof e[y.BASE]}).map(function(e){return e[y.BASE]}).reverse().reduce(function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=r[i].toLowerCase();if(-1!==e.indexOf(a)&&n[a])return t.concat(n)}return t},[])},H=function(e,t,n){var r={};return n.filter(function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&Z("Helmet: "+e+' should be of type "Array". Instead found type "'+D(t[e])+'"'),!1)}).map(function(t){return t[e]}).reverse().reduce(function(e,n){var i={};n.filter(function(e){for(var n=void 0,a=Object.keys(e),o=0;o<a.length;o++){var u=a[o],s=u.toLowerCase();-1===t.indexOf(s)||n===j&&"canonical"===e[n].toLowerCase()||s===j&&"stylesheet"===e[s].toLowerCase()||(n=s),-1===t.indexOf(u)||u!==w&&u!==g&&u!==_||(n=u)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][c]&&(i[n][c]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var a=Object.keys(i),o=0;o<a.length;o++){var u=a[o],s=h()({},r[u],i[u]);r[u]=s}return e},[]).reverse()},Q=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},$=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){$(t)},0)}}(),Y=function(e){return clearTimeout(e)},J="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||$:e.requestAnimationFrame||$,X="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Y:e.cancelAnimationFrame||Y,Z=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},ee=null,te=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,u=e.noscriptTags,s=e.onChangeClientState,c=e.scriptTags,l=e.styleTags,f=e.title,h=e.titleAttributes;ie(y.BODY,r),ie(y.HTML,i),re(f,h);var d={baseTag:ae(y.BASE,n),linkTags:ae(y.LINK,a),metaTags:ae(y.META,o),noscriptTags:ae(y.NOSCRIPT,u),scriptTags:ae(y.SCRIPT,c),styleTags:ae(y.STYLE,l)},p={},v={};Object.keys(d).forEach(function(e){var t=d[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(v[e]=d[e].oldTags)}),t&&t(),s(e,p,v)},ne=function(e){return Array.isArray(e)?e.join(""):e},re=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=ne(e)),ie(y.TITLE,t)},ie=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute("data-react-helmet"),i=r?r.split(","):[],a=[].concat(i),o=Object.keys(t),u=0;u<o.length;u++){var s=o[u],c=t[s]||"";n.getAttribute(s)!==c&&n.setAttribute(s,c),-1===i.indexOf(s)&&i.push(s);var l=a.indexOf(s);-1!==l&&a.splice(l,1)}for(var f=a.length-1;f>=0;f--)n.removeAttribute(a[f]);i.length===a.length?n.removeAttribute("data-react-helmet"):n.getAttribute("data-react-helmet")!==o.join(",")&&n.setAttribute("data-react-helmet",o.join(","))}},ae=function(e,t){var n=document.head||document.querySelector(y.HEAD),r=n.querySelectorAll(e+"[data-react-helmet]"),i=Array.prototype.slice.call(r),a=[],o=void 0;return t&&t.length&&t.forEach(function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===w)n.innerHTML=t.innerHTML;else if(r===g)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var u="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,u)}n.setAttribute("data-react-helmet","true"),i.some(function(e,t){return o=t,n.isEqualNode(e)})?i.splice(o,1):a.push(n)}),i.forEach(function(e){return e.parentNode.removeChild(e)}),a.forEach(function(e){return n.appendChild(e)}),{oldTags:i,newTags:a}},oe=function(e){return Object.keys(e).reduce(function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[T[n]||n]=e[n],t},t)},se=function(e,t,n){switch(e){case y.TITLE:return{toComponent:function(){return function(e,t,n){var r,i=((r={key:t})["data-react-helmet"]=!0,r),a=ue(n,i);return[l.a.createElement(y.TITLE,a,t)]}(0,t.title,t.titleAttributes)},toString:function(){return function(e,t,n,r){var i=oe(n),a=ne(t);return i?"<"+e+' data-react-helmet="true" '+i+">"+z(a,r)+"</"+e+">":"<"+e+' data-react-helmet="true">'+z(a,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case d:case p:return{toComponent:function(){return ue(t)},toString:function(){return oe(t)}};default:return{toComponent:function(){return function(e,t){return t.map(function(t,n){var r,i=((r={key:n})["data-react-helmet"]=!0,r);return Object.keys(t).forEach(function(e){var n=T[e]||e;if(n===w||n===g){var r=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=t[e]}),l.a.createElement(e,i)})}(e,t)},toString:function(){return function(e,t,n){return t.reduce(function(t,r){var i=Object.keys(r).filter(function(e){return!(e===w||e===g)}).reduce(function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+z(r[t],n)+'"';return e?e+" "+i:i},""),a=r.innerHTML||r.cssText||"",o=-1===L.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+i+(o?"/>":">"+a+"</"+e+">")},"")}(e,t,n)}}}},ce=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,u=e.noscriptTags,s=e.scriptTags,c=e.styleTags,l=e.title,f=void 0===l?"":l,h=e.titleAttributes;return{base:se(y.BASE,t,r),bodyAttributes:se(d,n,r),htmlAttributes:se(p,i,r),link:se(y.LINK,a,r),meta:se(y.META,o,r),noscript:se(y.NOSCRIPT,u,r),script:se(y.SCRIPT,s,r),style:se(y.STYLE,c,r),title:se(y.TITLE,{title:f,titleAttributes:h},r)}},le=function(e){var t,n;return n=t=function(t){function n(){return M(this,n),B(this,t.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.shouldComponentUpdate=function(e){return!s()(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case y.SCRIPT:case y.NOSCRIPT:return{innerHTML:t};case y.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,a=e.nestedChildren;return U({},r,((t={})[n.type]=[].concat(r[n.type]||[],[U({},i,this.mapNestedChildrenToProps(n,a))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,a=e.newChildProps,o=e.nestedChildren;switch(r.type){case y.TITLE:return U({},i,((t={})[r.type]=o,t.titleAttributes=U({},a),t));case y.BODY:return U({},i,{bodyAttributes:U({},a)});case y.HTML:return U({},i,{htmlAttributes:U({},a)})}return U({},i,((n={})[r.type]=U({},a),n))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=U({},t);return Object.keys(e).forEach(function(t){var r;n=U({},n,((r={})[t]=e[t],r))}),n},n.prototype.warnOnInvalidChildren=function(e,t){return!0},n.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return l.a.Children.forEach(e,function(e){if(e&&e.props){var i=e.props,a=i.children,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[R[n]||n]=e[n],t},t)}(V(i,["children"]));switch(n.warnOnInvalidChildren(e,a),e.type){case y.LINK:case y.META:case y.NOSCRIPT:case y.SCRIPT:case y.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:o,nestedChildren:a});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:o,nestedChildren:a})}}}),t=this.mapArrayTypeChildrenToProps(r,t)},n.prototype.render=function(){var t=this.props,n=t.children,r=V(t,["children"]),i=U({},r);return n&&(i=this.mapChildrenToProps(n,i)),l.a.createElement(e,i)},F(n,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(l.a.Component),t.propTypes={base:i.a.object,bodyAttributes:i.a.object,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),defaultTitle:i.a.string,defer:i.a.bool,encodeSpecialCharacters:i.a.bool,htmlAttributes:i.a.object,link:i.a.arrayOf(i.a.object),meta:i.a.arrayOf(i.a.object),noscript:i.a.arrayOf(i.a.object),onChangeClientState:i.a.func,script:i.a.arrayOf(i.a.object),style:i.a.arrayOf(i.a.object),title:i.a.string,titleAttributes:i.a.object,titleTemplate:i.a.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=ce({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},n}(o()(function(e){return{baseTag:K([b,S],e),bodyAttributes:W(d,e),defer:Q(e,C),encode:Q(e,A),htmlAttributes:W(p,e),linkTags:H(y.LINK,[j,b],e),metaTags:H(y.META,[O,m,k,x,_],e),noscriptTags:H(y.NOSCRIPT,[w],e),onChangeClientState:G(e),scriptTags:H(y.SCRIPT,[E,w],e),styleTags:H(y.STYLE,[g],e),title:q(e),titleAttributes:W(v,e)}},function(e){ee&&X(ee),e.defer?ee=J(function(){te(e,function(){ee=null})}):(te(e),ee=null)},ce)(function(){return null}));le.renderStatic=le.rewind}).call(this,n(46))},function(e,t,n){"use strict";var r,i=n(45),a=(r=i)&&"object"===typeof r&&"default"in r?r.default:r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var s,c=[];function l(){s=e(c.map(function(e){return e.props})),f.canUseDOM?t(s):n&&(s=n(s))}var f=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return s},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=s;return s=void 0,c=[],e};var o=i.prototype;return o.UNSAFE_componentWillMount=function(){c.push(this),l()},o.componentDidUpdate=function(){l()},o.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),l()},o.render=function(){return a.createElement(r,this.props)},i}(i.PureComponent);return o(f,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),o(f,"canUseDOM",u),f}}},function(e,t){var n="undefined"!==typeof Element,r="function"===typeof Map,i="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var u,s,c,l;if(Array.isArray(t)){if((u=t.length)!=o.length)return!1;for(s=u;0!==s--;)if(!e(t[s],o[s]))return!1;return!0}if(r&&t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(l=t.entries();!(s=l.next()).done;)if(!o.has(s.value[0]))return!1;for(l=t.entries();!(s=l.next()).done;)if(!e(s.value[1],o.get(s.value[0])))return!1;return!0}if(i&&t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(l=t.entries();!(s=l.next()).done;)if(!o.has(s.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(o)){if((u=t.length)!=o.length)return!1;for(s=u;0!==s--;)if(t[s]!==o[s])return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((u=(c=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(s=u;0!==s--;)if(!Object.prototype.hasOwnProperty.call(o,c[s]))return!1;if(n&&t instanceof Element)return!1;for(s=u;0!==s--;)if(("_owner"!==c[s]&&"__v"!==c[s]&&"__o"!==c[s]||!t.$$typeof)&&!e(t[c[s]],o[c[s]]))return!1;return!0}return t!==t&&o!==o}(e,t)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}}},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(7),i=n(47);var a=n(48);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)})(e)}n.d(t,"a",function(){return o})},,,,,,function(e,t,n){"use strict";e.exports=n(113)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,k=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case s:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case y:case c:return e;default:return t}}case a:return t}}}function O(e){return _(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=y,t.Portal=a,t.Profiler=s,t.StrictMode=u,t.Suspense=p,t.isAsyncMode=function(e){return O(e)||_(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===y},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===u},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===k||e.$$typeof===w||e.$$typeof===g)},t.typeOf=_},,,function(e,t,n){"use strict";var r=n(71),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var b=g.prototype=new m;b.constructor=g,r(b,y.prototype),b.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:k.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var j=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+E(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(j,"$&/")+"/"),S(o,t,n,"",function(e){return e})):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(j,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(u=e[c],c);s+=S(u,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=S(u=u.value,t,n,l=r+E(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function T(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var C={current:null};function A(){var e=C.current;if(null===e)throw Error(d(321));return e}var N={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!x(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(118);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach(function(i){r[i]=e[i].reduce(function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e},[]).join(" ")}),r}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(162);function i(e,t){var n={};return t.forEach(function(t){n[t]=Object(r.a)(e,t)}),n}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(97);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(6);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?Object(r.a)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach(function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])}),o}},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return f});var r=n(97);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(function(e){return e+e})),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3}).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Object(r.a)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error(Object(r.a)(10,i))}else o=o.split(",");return{type:n,values:o=o.map(function(e){return parseFloat(e)}),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map(function(e,t){return t<3?parseInt(e,10):e}):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map(function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(6);function i(e,t){var n=Object(r.a)({},t);return Object.keys(e).forEach(function(t){void 0===n[t]&&(n[t]=e[t])}),n}},function(e,t,n){"use strict";var r=n(6),i=n(155),a=n(66);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(e,Object(r.a)({defaultTheme:a.a},t))}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(6),i=n(57);function a(e){return e&&"object"===Object(i.a)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach(function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])}),i}},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";var r=n(22),i=n(6),a=n(5),o=n.n(a),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="object"===("undefined"===typeof window?"undefined":u(window))&&"object"===("undefined"===typeof document?"undefined":u(document))&&9===document.nodeType;var c=n(50),l=n(59),f=n(58),h=n(20),d={}.constructor;function p(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==d)return e;var t={};for(var n in e)t[n]=p(e[n]);return t}function v(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=p(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var y=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},m=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=y(e[r]," ");else n=y(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function g(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function b(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function k(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=g(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=b(h+":"+c+m(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=b(p+":"+c+m(v)+";",a))}for(var y in t){var k=t[y];null!=k&&"fallbacks"!==y&&(r&&(r+=s),r+=b(y+":"+c+m(k)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),b(""+e+c+"{"+r,--a)+b("}",a)):r}var w=/([[\].#*$><+~=|^:(),"'`\s])/g,_="undefined"!==typeof CSS&&CSS.escape,O=function(e){return _?_(e):e.replace(w,"\\$1")},x=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),j=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(Object(f.a)(Object(f.a)(i)),u),i.selectorText="."+O(i.id)),i}Object(l.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=m(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return k(this.selectorText,this.style,n)},Object(c.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(x),E={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new j(e,t,n)}},S={indent:1,children:!0},T=/@([\w-]+)/,I=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(T);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new X(Object(i.a)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=S);var t=g(e).linebreak;if(null==e.indent&&(e.indent=S.indent),null==e.children&&(e.children=S.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),C=/@media|@supports\s+/,A={onCreateRule:function(e,t,n){return C.test(e)?new I(e,t,n):null}},N={indent:1,children:!0},P=/@keyframes\s+([\w-]+)/,R=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(P);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,u=n.generateId;for(var s in this.id=!1===a?this.name:O(u(this,o)),this.rules=new X(Object(i.a)({},n,{parent:this})),t)this.rules.add(s,t[s],Object(i.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=N);var t=g(e).linebreak;if(null==e.indent&&(e.indent=N.indent),null==e.children&&(e.children=N.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),L=/@keyframes\s+/,D=/\$([\w-]+)/g,M=function(e,t){return"string"===typeof e?e.replace(D,function(e,n){return n in t?t[n]:e}):e},F=function(e,t,n){var r=e[t],i=M(r,n);i!==r&&(e[t]=i)},U={onCreateRule:function(e,t,n){return"string"===typeof e&&L.test(e)?new R(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&F(e,"animation-name",n.keyframes),"animation"in e&&F(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return M(e,r.keyframes);default:return e}}},V=function(e){function t(){return e.apply(this,arguments)||this}return Object(l.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return k(this.key,this.style,n)},t}(x),B={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new V(e,t,n):null}},z=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=g(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=k(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return k(this.at,this.style,e)},e}(),q=/@font-face/,G={onCreateRule:function(e,t,n){return q.test(e)?new z(e,t,n):null}},W=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return k(this.key,this.style,e)},e}(),K={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new W(e,t,n):null}},H=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Q={"@charset":!0,"@import":!0,"@namespace":!0},$=[E,A,U,B,G,K,{onCreateRule:function(e,t,n){return e in Q?new H(e,t,n):null}}],Y={process:!0},J={force:!0,process:!0},X=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,u=r.jss,s=r.Renderer,c=r.generateId,l=r.scoped,f=Object(i.a)({classes:this.classes,parent:a,sheet:o,jss:u,Renderer:s,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+O(this.classes[h]));var d=v(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),a=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==a&&(o=Object(i.a)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof j?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof R&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof j?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof R&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Y);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,J)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,J)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=g(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),Z=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new X(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(h.a)(t,["attached"]),i=g(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},Object(c.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),re="2f1acc6c3a606b082e5eef5e54414ffb";null==ne[re]&&(ne[re]=0);var ie=ne[re]++,ae=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ie+i+t:a+n.key+"-"+ie+(i?"-"+i:"")+"-"+t}},oe=function(e){var t;return function(){return t||(t=e()),t}},ue=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},se=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=m(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},ce=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},le=function(e,t){return e.selectorText=t,e.selectorText===t},fe=oe(function(){return document.querySelector("head")});function he(e){var t=te.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=fe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var de=oe(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),pe=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},ve=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ye=function(){var e=document.createElement("style");return e.textContent="\n",e},me=function(){function e(e){this.getPropertyValue=ue,this.setProperty=se,this.removeProperty=ce,this.setSelector=le,this.hasInsertedRules=!1,this.cssRules=[],e&&te.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||ye(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=de();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=he(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else fe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=ve(n,t);if(!1===(i=pe(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=ve(n,t),s=pe(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Z&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ge=0,be=function(){function e(e){this.id=ge++,this.version="10.9.0",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:ae,Renderer:s?me:null,plugins:[]},this.generateId=ae({minify:!1});for(var t=0;t<$.length;t++)this.plugins.use($[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(i.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===te.index?0:te.index+1);var r=new Z(e,Object(i.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),te.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=Object(i.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=v(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e.plugins.use(t)}),this},e}(),ke=function(e){return new be(e)},we="object"===typeof CSS&&null!=CSS&&"number"in CSS;ke();function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=Object(i.a)({},t);return Object.keys(n).forEach(function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))}),r}var Oe={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},xe=n(161),je="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Ee=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Se=Date.now(),Te="fnValues"+Se,Ie="fnStyle"+ ++Se,Ce=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=v(e,{},n);return r[Ie]=t,r},onProcessStyle:function(e,t){if(Te in t||Ie in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Te]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Ie];a&&(i.style=a(e)||{});var o=i[Te];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Ae="@global",Ne="@global ",Pe=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ae,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new X(Object(i.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Re=function(){function e(e,t,n){this.type="global",this.at=Ae,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Ne.length);this.rule=n.jss.createRule(r,t,Object(i.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Le=/\s*,\s*/g;function De(e,t){for(var n=e.split(Le),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Me=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ae)return new Pe(e,t,n);if("@"===e[0]&&e.substr(0,Ne.length)===Ne)return new Re(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[Ae]:null;if(a){for(var o in a)t.addRule(o,a[o],Object(i.a)({},n,{selector:De(o,e.selector)}));delete r[Ae]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,Ae.length)===Ae){var o=De(a.substr(Ae.length),e.selector);t.addRule(o,r[a],Object(i.a)({},n,{selector:o})),delete r[a]}}(e,t))}}},Fe=/\s*,\s*/g,Ue=/&/g,Ve=/\$([\w-]+)/g;var Be=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Fe),r=e.split(Fe),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(Ue,o):o+" "+s}return i}function n(e,t,n){if(n)return Object(i.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=Object(i.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var u,s,c=a,l=c.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(u=n(c,l,u),h){var p=t(f,c.selector);s||(s=e(l,o)),p=p.replace(Ve,s);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],Object(i.a)({},u,{selector:p})):l.addRule(v,r[f],Object(i.a)({},u,{selector:p}))}else d&&l.addRule(f,{},u).addRule(c.key,r[f],{selector:c.selector});delete r[f]}}return r}}},ze=/[A-Z]/g,qe=/^ms-/,Ge={};function We(e){return"-"+e.toLowerCase()}var Ke=function(e){if(Ge.hasOwnProperty(e))return Ge[e];var t=e.replace(ze,We);return Ge[e]=qe.test(t)?"-"+t:t};function He(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ke(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(He):t.fallbacks=He(e.fallbacks)),t}var Qe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=He(e[t]);return e}return He(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ke(t);return t===r?e:(n.prop(r,e),null)}}},$e=we&&CSS?CSS.px:"px",Ye=we&&CSS?CSS.ms:"ms",Je=we&&CSS?CSS.percent:"%";function Xe(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Ze=Xe({"animation-delay":Ye,"animation-duration":Ye,"background-position":$e,"background-position-x":$e,"background-position-y":$e,"background-size":$e,border:$e,"border-bottom":$e,"border-bottom-left-radius":$e,"border-bottom-right-radius":$e,"border-bottom-width":$e,"border-left":$e,"border-left-width":$e,"border-radius":$e,"border-right":$e,"border-right-width":$e,"border-top":$e,"border-top-left-radius":$e,"border-top-right-radius":$e,"border-top-width":$e,"border-width":$e,"border-block":$e,"border-block-end":$e,"border-block-end-width":$e,"border-block-start":$e,"border-block-start-width":$e,"border-block-width":$e,"border-inline":$e,"border-inline-end":$e,"border-inline-end-width":$e,"border-inline-start":$e,"border-inline-start-width":$e,"border-inline-width":$e,"border-start-start-radius":$e,"border-start-end-radius":$e,"border-end-start-radius":$e,"border-end-end-radius":$e,margin:$e,"margin-bottom":$e,"margin-left":$e,"margin-right":$e,"margin-top":$e,"margin-block":$e,"margin-block-end":$e,"margin-block-start":$e,"margin-inline":$e,"margin-inline-end":$e,"margin-inline-start":$e,padding:$e,"padding-bottom":$e,"padding-left":$e,"padding-right":$e,"padding-top":$e,"padding-block":$e,"padding-block-end":$e,"padding-block-start":$e,"padding-inline":$e,"padding-inline-end":$e,"padding-inline-start":$e,"mask-position-x":$e,"mask-position-y":$e,"mask-size":$e,height:$e,width:$e,"min-height":$e,"max-height":$e,"min-width":$e,"max-width":$e,bottom:$e,left:$e,top:$e,right:$e,inset:$e,"inset-block":$e,"inset-block-end":$e,"inset-block-start":$e,"inset-inline":$e,"inset-inline-end":$e,"inset-inline-start":$e,"box-shadow":$e,"text-shadow":$e,"column-gap":$e,"column-rule":$e,"column-rule-width":$e,"column-width":$e,"font-size":$e,"font-size-delta":$e,"letter-spacing":$e,"text-decoration-thickness":$e,"text-indent":$e,"text-stroke":$e,"text-stroke-width":$e,"word-spacing":$e,motion:$e,"motion-offset":$e,outline:$e,"outline-offset":$e,"outline-width":$e,perspective:$e,"perspective-origin-x":Je,"perspective-origin-y":Je,"transform-origin":Je,"transform-origin-x":Je,"transform-origin-y":Je,"transform-origin-z":Je,"transition-delay":Ye,"transition-duration":Ye,"vertical-align":$e,"flex-basis":$e,"shape-margin":$e,size:$e,gap:$e,grid:$e,"grid-gap":$e,"row-gap":$e,"grid-row-gap":$e,"grid-column-gap":$e,"grid-template-rows":$e,"grid-template-columns":$e,"grid-auto-rows":$e,"grid-auto-columns":$e,"box-shadow-x":$e,"box-shadow-y":$e,"box-shadow-blur":$e,"box-shadow-spread":$e,"font-line-height":$e,"text-shadow-x":$e,"text-shadow-y":$e,"text-shadow-blur":$e});function et(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=et(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=et(i,t[i],n);else for(var a in t)t[a]=et(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||Ze[e];return!o||0===t&&o===$e?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var tt=function(e){void 0===e&&(e={});var t=Xe(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=et(r,e[r],t);return e},onChangeValue:function(e,n){return et(n,e,t)}}},nt=n(49),rt="",it="",at="",ot="",ut=s&&"ontouchstart"in document.documentElement;if(s){var st={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ct=document.createElement("p").style;for(var lt in st)if(lt+"Transform"in ct){rt=lt,it=st[lt];break}"Webkit"===rt&&"msHyphens"in ct&&(rt="ms",it=st.ms,ot="edge"),"Webkit"===rt&&"-apple-trailing-word"in ct&&(at="apple")}var ft={js:rt,css:it,vendor:at,browser:ot,isTouch:ut};var ht={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ft.js?"-webkit-"+e:ft.css+e)}},dt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ft.js?ft.css+"print-"+e:e)}},pt=/[-\s]+(.)?/g;function vt(e,t){return t?t.toUpperCase():""}function yt(e){return e.replace(pt,vt)}function mt(e){return yt("-"+e)}var gt,bt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ft.js){if(yt("mask-image")in t)return e;if(ft.js+mt("mask-image")in t)return ft.css+e}return e}},kt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ft.vendor||ft.isTouch?e:ft.css+e)}},wt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ft.css+e)}},_t={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ft.css+e)}},Ot={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ft.js||"ms"===ft.js&&"edge"!==ft.browser?ft.css+e:e)}},xt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ft.js||"ms"===ft.js||"apple"===ft.vendor?ft.css+e:e)}},jt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ft.js?"WebkitColumn"+mt(e)in t&&ft.css+"column-"+e:"Moz"===ft.js&&("page"+mt(e)in t&&"page-"+e))}},Et={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ft.js)return e;var n=e.replace("-inline","");return ft.js+mt(n)in t&&ft.css+n}},St={supportedProperty:function(e,t){return yt(e)in t&&e}},Tt={supportedProperty:function(e,t){var n=mt(e);return"-"===e[0]?e:"-"===e[0]&&"-"===e[1]?e:ft.js+n in t?ft.css+e:"Webkit"!==ft.js&&"Webkit"+n in t&&"-webkit-"+e}},It={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ft.js?""+ft.css+e:e)}},Ct={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ft.js?ft.css+"scroll-chaining":e)}},At={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Nt={supportedProperty:function(e,t){var n=At[e];return!!n&&(ft.js+mt(n)in t&&ft.css+n)}},Pt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Rt=Object.keys(Pt),Lt=function(e){return ft.css+e},Dt=[ht,dt,bt,kt,wt,_t,Ot,xt,jt,Et,St,Tt,It,Ct,Nt,{supportedProperty:function(e,t,n){var r=n.multiple;if(Rt.indexOf(e)>-1){var i=Pt[e];if(!Array.isArray(i))return ft.js+mt(i)in t&&ft.css+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(ft.js+mt(i[0])in t))return!1;return i.map(Lt)}return!1}}],Mt=Dt.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),Ft=Dt.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,Object(nt.a)(t.noPrefill)),e},[]),Ut={};if(s){gt=document.createElement("p");var Vt=window.getComputedStyle(document.documentElement,"");for(var Bt in Vt)isNaN(Bt)||(Ut[Vt[Bt]]=Vt[Bt]);Ft.forEach(function(e){return delete Ut[e]})}function zt(e,t){if(void 0===t&&(t={}),!gt)return e;if(null!=Ut[e])return Ut[e];"transition"!==e&&"transform"!==e||(t[e]=e in gt.style);for(var n=0;n<Mt.length&&(Ut[e]=Mt[n](e,gt.style,t),!Ut[e]);n++);try{gt.style[e]=""}catch(r){return!1}return Ut[e]}var qt,Gt={},Wt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Kt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Ht(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?zt(t):", "+zt(n);return r||(t||n)}function Qt(e,t){var n=t;if(!qt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Gt[r])return Gt[r];try{qt.style[e]=n}catch(i){return Gt[r]=!1,!1}if(Wt[e])n=n.replace(Kt,Ht);else if(""===qt.style[e]&&("-ms-flex"===(n=ft.css+n)&&(qt.style[e]="-ms-flexbox"),qt.style[e]=n,""===qt.style[e]))return Gt[r]=!1,!1;return qt.style[e]="",Gt[r]=n,Gt[r]}s&&(qt=document.createElement("p"));var $t=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=zt(n);a&&a!==n&&(i=!0);var o=!1,u=Qt(a,m(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]?n:"ms"===ft.js?n:"@"+ft.css+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Qt(t,m(e))||e}}};var Yt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};function Jt(){return{plugins:[Ce(),Me(),Be(),Qe(),tt(),"undefined"===typeof window?null:$t(),Yt()]}}var Xt=ke(Jt()),Zt={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ee.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[je]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),jss:Xt,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},en=o.a.createContext(Zt);var tn=-1e9;n(57);var nn=n(151);var rn={};function an(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,u=e.name;if(!a.disableGeneration){var s=Oe.get(a.sheetsManager,o,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Oe.set(a.sheetsManager,o,r,s));var c=Object(i.a)({},o.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=a.sheetsRegistry;if(0===s.refs){var f;a.sheetsCache&&(f=Oe.get(a.sheetsCache,o,r));var h=o.create(r,u);f||((f=a.jss.createStyleSheet(h,Object(i.a)({link:!1},c))).attach(),a.sheetsCache&&Oe.set(a.sheetsCache,o,r,f)),l&&l.add(f),s.staticSheet=f,s.dynamicStyles=function e(t){var n=null;for(var r in t){var i=t[r],a=typeof i;if("function"===a)n||(n={}),n[r]=i;else if("object"===a&&null!==i&&!Array.isArray(i)){var o=e(i);o&&(n||(n={}),n[r]=o)}}return n}(h)}if(s.dynamicStyles){var d=a.jss.createStyleSheet(s.dynamicStyles,Object(i.a)({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=_e({baseClasses:s.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=s.staticSheet.classes;s.refs+=1}}function on(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=t.classNamePrefix,u=t.Component,s=t.defaultTheme,c=void 0===s?rn:s,l=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),f=function(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],u=Object(i.a)({},a);return Object.keys(o).forEach(function(e){u[e]=Object(nn.a)(u[e],o[e])}),u},options:{}}}(e),h=n||a||"makeStyles";f.options={index:tn+=1,name:n,meta:h,classNamePrefix:h};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(xe.a)()||c,r=Object(i.a)({},o.a.useContext(en),l),a=o.a.useRef(),s=o.a.useRef();return function(e,t){var n,r=o.a.useRef([]),i=o.a.useMemo(function(){return{}},t);r.current!==i&&(r.current=i,n=e()),o.a.useEffect(function(){return function(){n&&n()}},[i])}(function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return an(i,e),s.current=!1,a.current=i,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Oe.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Oe.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}(i)}},[t,f]),o.a.useEffect(function(){s.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(a.current,e),s.current=!0}),function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=_e({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(a.current,e.classes,u)}}n.d(t,"a",function(){return on})},function(e,t,n){"use strict";var r=n(4),i=n(20),a=n(6),o=n(5),u=n.n(o),s=n(25),c=n(149),l=n(144),f=n(148),h=n(33),d=n(40),p=n(14);function v(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var y=function(e,t){return o.useMemo(function(){return null==e&&null==t?null:function(n){v(e,n),v(t,n)}},[e,t])},m="undefined"!==typeof window?o.useLayoutEffect:o.useEffect;var g,b=function(e){var t=o.useRef(e);return m(function(){t.current=e}),o.useCallback(function(){return t.current.apply(void 0,arguments)},[])},k=!0,w=!1,_={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function O(e){e.metaKey||e.altKey||e.ctrlKey||(k=!0)}function x(){k=!1}function j(){"hidden"===this.visibilityState&&w&&(k=!0)}function E(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return k||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!_[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var S=function(){var e=o.useCallback(function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",O,!0),t.addEventListener("mousedown",x,!0),t.addEventListener("pointerdown",x,!0),t.addEventListener("touchstart",x,!0),t.addEventListener("visibilitychange",j,!0))},[]),t=o.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!E(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(w=!0,window.clearTimeout(g),g=window.setTimeout(function(){w=!1},100),t.current=!1,!0)},ref:e}},T=n(17);function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var C=n(58),A=n(59),N=u.a.createContext(null);function P(e,t){var n=Object.create(null);return e&&o.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)}),n}function R(e,t,n){return null!=n[t]?n[t]:e.props[t]}function L(e,t,n){var r=P(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(i).forEach(function(a){var u=i[a];if(Object(o.isValidElement)(u)){var s=a in t,c=a in r,l=t[a],f=Object(o.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&Object(o.isValidElement)(l)&&(i[a]=Object(o.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:R(u,"exit",e),enter:R(u,"enter",e)})):i[a]=Object(o.cloneElement)(u,{in:!1}):i[a]=Object(o.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:R(u,"exit",e),enter:R(u,"enter",e)})}}),i}var D=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},M=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(C.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(A.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,P(n.children,function(e){return Object(o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:R(e,"appear",n),enter:R(e,"enter",n),exit:R(e,"exit",n)})})):L(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=P(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=Object(a.a)({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(i.a)(e,["component","childFactory"]),a=this.state.contextValue,o=D(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?u.a.createElement(N.Provider,{value:a},o):u.a.createElement(N.Provider,{value:a},u.a.createElement(t,r,o))},t}(u.a.Component);M.propTypes={},M.defaultProps={component:"div",childFactory:function(e){return e}};var F=M,U=n(26),V=n(21);var B=function(e){var t=e.className,n=e.classes,r=e.pulsate,i=void 0!==r&&r,a=e.rippleX,u=e.rippleY,c=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,d=o.useState(!1),v=Object(p.a)(d,2),y=v[0],m=v[1],g=Object(s.a)(t,n.ripple,n.rippleVisible,i&&n.ripplePulsate),b={width:c,height:c,top:-c/2+u,left:-c/2+a},k=Object(s.a)(n.child,y&&n.childLeaving,i&&n.childPulsate);return l||y||m(!0),o.useEffect(function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}},[f,l,h]),Object(V.jsx)("span",{className:g,style:b,children:Object(V.jsx)("span",{className:k})})},z=n(162),q=n(145);var G,W,K,H,Q,$,Y,J,X=Object(q.a)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Z=["center","classes","className"],ee=function(e){return e},te=Object(U.a)(Q||(Q=ee(G||(G=I(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))))),ne=Object(U.a)($||($=ee(W||(W=I(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))))),re=Object(U.a)(Y||(Y=ee(K||(K=I(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))))),ie=Object(h.a)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ae=Object(h.a)(B,{name:"MuiTouchRipple",slot:"Ripple"})(J||(J=ee(H||(H=I(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])))),X.rippleVisible,te,550,function(e){return e.theme.transitions.easing.easeInOut},X.ripplePulsate,function(e){return e.theme.transitions.duration.shorter},X.child,X.childLeaving,ne,550,function(e){return e.theme.transitions.easing.easeInOut},X.childPulsate,re,function(e){return e.theme.transitions.easing.easeInOut}),oe=o.forwardRef(function(e,t){var n=Object(d.a)({props:e,name:"MuiTouchRipple"}),r=n.center,u=void 0!==r&&r,c=n.classes,l=void 0===c?{}:c,f=n.className,h=Object(i.a)(n,Z),v=o.useState([]),y=Object(p.a)(v,2),m=y[0],g=y[1],b=o.useRef(0),k=o.useRef(null);o.useEffect(function(){k.current&&(k.current(),k.current=null)},[m]);var w=o.useRef(!1),_=o.useRef(null),O=o.useRef(null),x=o.useRef(null);o.useEffect(function(){return function(){clearTimeout(_.current)}},[]);var j=o.useCallback(function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;g(function(e){return[].concat(Object(T.a)(e),[Object(V.jsx)(ae,{classes:{ripple:Object(s.a)(l.ripple,X.ripple),rippleVisible:Object(s.a)(l.rippleVisible,X.rippleVisible),ripplePulsate:Object(s.a)(l.ripplePulsate,X.ripplePulsate),child:Object(s.a)(l.child,X.child),childLeaving:Object(s.a)(l.childLeaving,X.childLeaving),childPulsate:Object(s.a)(l.childPulsate,X.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},b.current)])}),b.current+=1,k.current=a},[l]),E=o.useCallback(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,o=void 0===a?u||t.pulsate:a,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&w.current)w.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(w.current=!0);var l,f,h,d=c?null:x.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,y=v.clientX,m=v.clientY;l=Math.round(y-p.left),f=Math.round(m-p.top)}if(o)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,b=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(b,2))}null!=e&&e.touches?null===O.current&&(O.current=function(){j({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},_.current=setTimeout(function(){O.current&&(O.current(),O.current=null)},80)):j({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}},[u,j]),S=o.useCallback(function(){E({},{pulsate:!0})},[E]),I=o.useCallback(function(e,t){if(clearTimeout(_.current),"touchend"===(null==e?void 0:e.type)&&O.current)return O.current(),O.current=null,void(_.current=setTimeout(function(){I(e,t)}));O.current=null,g(function(e){return e.length>0?e.slice(1):e}),k.current=t},[]);return o.useImperativeHandle(t,function(){return{pulsate:S,start:E,stop:I}},[S,E,I]),Object(V.jsx)(ie,Object(a.a)({className:Object(s.a)(l.root,X.root,f),ref:x},h,{children:Object(V.jsx)(F,{component:null,exit:!0,children:m})}))});function ue(e){return Object(z.a)("MuiButtonBase",e)}var se,ce=Object(q.a)("MuiButtonBase",["root","disabled","focusVisible"]),le=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],fe=Object(h.a)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((se={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},Object(r.a)(se,"&.".concat(ce.disabled),{pointerEvents:"none",cursor:"default"}),Object(r.a)(se,"@media print",{colorAdjust:"exact"}),se)),he=o.forwardRef(function(e,t){var n=Object(d.a)({props:e,name:"MuiButtonBase"}),r=n.action,u=n.centerRipple,c=void 0!==u&&u,f=n.children,h=n.className,v=n.component,m=void 0===v?"button":v,g=n.disabled,k=void 0!==g&&g,w=n.disableRipple,_=void 0!==w&&w,O=n.disableTouchRipple,x=void 0!==O&&O,j=n.focusRipple,E=void 0!==j&&j,T=n.LinkComponent,I=void 0===T?"a":T,C=n.onBlur,A=n.onClick,N=n.onContextMenu,P=n.onDragLeave,R=n.onFocus,L=n.onFocusVisible,D=n.onKeyDown,M=n.onKeyUp,F=n.onMouseDown,U=n.onMouseLeave,B=n.onMouseUp,z=n.onTouchEnd,q=n.onTouchMove,G=n.onTouchStart,W=n.tabIndex,K=void 0===W?0:W,H=n.TouchRippleProps,Q=n.touchRippleRef,$=n.type,Y=Object(i.a)(n,le),J=o.useRef(null),X=o.useRef(null),Z=y(X,Q),ee=S(),te=ee.isFocusVisibleRef,ne=ee.onFocus,re=ee.onBlur,ie=ee.ref,ae=o.useState(!1),se=Object(p.a)(ae,2),ce=se[0],he=se[1];k&&ce&&he(!1),o.useImperativeHandle(r,function(){return{focusVisible:function(){he(!0),J.current.focus()}}},[]);var de=o.useState(!1),pe=Object(p.a)(de,2),ve=pe[0],ye=pe[1];o.useEffect(function(){ye(!0)},[]);var me=ve&&!_&&!k;function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;return b(function(r){return t&&t(r),!n&&X.current&&X.current[e](r),!0})}o.useEffect(function(){ce&&E&&!_&&ve&&X.current.pulsate()},[_,E,ce,ve]);var be=ge("start",F),ke=ge("stop",N),we=ge("stop",P),_e=ge("stop",B),Oe=ge("stop",function(e){ce&&e.preventDefault(),U&&U(e)}),xe=ge("start",G),je=ge("stop",z),Ee=ge("stop",q),Se=ge("stop",function(e){re(e),!1===te.current&&he(!1),C&&C(e)},!1),Te=b(function(e){J.current||(J.current=e.currentTarget),ne(e),!0===te.current&&(he(!0),L&&L(e)),R&&R(e)}),Ie=function(){var e=J.current;return m&&"button"!==m&&!("A"===e.tagName&&e.href)},Ce=o.useRef(!1),Ae=b(function(e){E&&!Ce.current&&ce&&X.current&&" "===e.key&&(Ce.current=!0,X.current.stop(e,function(){X.current.start(e)})),e.target===e.currentTarget&&Ie()&&" "===e.key&&e.preventDefault(),D&&D(e),e.target===e.currentTarget&&Ie()&&"Enter"===e.key&&!k&&(e.preventDefault(),A&&A(e))}),Ne=b(function(e){E&&" "===e.key&&X.current&&ce&&!e.defaultPrevented&&(Ce.current=!1,X.current.stop(e,function(){X.current.pulsate(e)})),M&&M(e),A&&e.target===e.currentTarget&&Ie()&&" "===e.key&&!e.defaultPrevented&&A(e)}),Pe=m;"button"===Pe&&(Y.href||Y.to)&&(Pe=I);var Re={};"button"===Pe?(Re.type=void 0===$?"button":$,Re.disabled=k):(Y.href||Y.to||(Re.role="button"),k&&(Re["aria-disabled"]=k));var Le=y(ie,J),De=y(t,Le);var Me=Object(a.a)({},n,{centerRipple:c,component:m,disabled:k,disableRipple:_,disableTouchRipple:x,focusRipple:E,tabIndex:K,focusVisible:ce}),Fe=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=Object(l.a)(a,ue,i);return n&&r&&(o.root+=" ".concat(r)),o}(Me);return Object(V.jsxs)(fe,Object(a.a)({as:Pe,className:Object(s.a)(Fe.root,h),ownerState:Me,onBlur:Se,onClick:A,onContextMenu:ke,onFocus:Te,onKeyDown:Ae,onKeyUp:Ne,onMouseDown:be,onMouseLeave:Oe,onMouseUp:_e,onDragLeave:we,onTouchEnd:je,onTouchMove:Ee,onTouchStart:xe,ref:De,tabIndex:k?-1:K,type:$},Re,Y,{children:[f,me?Object(V.jsx)(oe,Object(a.a)({ref:Z,center:c},H)):null]}))}),de=n(35);function pe(e){return Object(z.a)("MuiButton",e)}var ve=Object(q.a)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var ye=o.createContext({}),me=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ge=function(e){return Object(a.a)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},be=Object(h.a)(he,{shouldForwardProp:function(e){return Object(h.b)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Object(de.a)(n.color))],t["size".concat(Object(de.a)(n.size))],t["".concat(n.variant,"Size").concat(Object(de.a)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(function(e){var t,n,i,o=e.theme,u=e.ownerState;return Object(a.a)({},o.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(o.vars||o).shape.borderRadius,transition:o.transitions.create(["background-color","box-shadow","border-color","color"],{duration:o.transitions.duration.short}),"&:hover":Object(a.a)({textDecoration:"none",backgroundColor:o.vars?"rgba(".concat(o.vars.palette.text.primaryChannel," / ").concat(o.vars.palette.action.hoverOpacity,")"):Object(f.a)(o.palette.text.primary,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===u.variant&&"inherit"!==u.color&&{backgroundColor:o.vars?"rgba(".concat(o.vars.palette[u.color].mainChannel," / ").concat(o.vars.palette.action.hoverOpacity,")"):Object(f.a)(o.palette[u.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===u.variant&&"inherit"!==u.color&&{border:"1px solid ".concat((o.vars||o).palette[u.color].main),backgroundColor:o.vars?"rgba(".concat(o.vars.palette[u.color].mainChannel," / ").concat(o.vars.palette.action.hoverOpacity,")"):Object(f.a)(o.palette[u.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===u.variant&&{backgroundColor:(o.vars||o).palette.grey.A100,boxShadow:(o.vars||o).shadows[4],"@media (hover: none)":{boxShadow:(o.vars||o).shadows[2],backgroundColor:(o.vars||o).palette.grey[300]}},"contained"===u.variant&&"inherit"!==u.color&&{backgroundColor:(o.vars||o).palette[u.color].dark,"@media (hover: none)":{backgroundColor:(o.vars||o).palette[u.color].main}}),"&:active":Object(a.a)({},"contained"===u.variant&&{boxShadow:(o.vars||o).shadows[8]})},Object(r.a)(t,"&.".concat(ve.focusVisible),Object(a.a)({},"contained"===u.variant&&{boxShadow:(o.vars||o).shadows[6]})),Object(r.a)(t,"&.".concat(ve.disabled),Object(a.a)({color:(o.vars||o).palette.action.disabled},"outlined"===u.variant&&{border:"1px solid ".concat((o.vars||o).palette.action.disabledBackground)},"outlined"===u.variant&&"secondary"===u.color&&{border:"1px solid ".concat((o.vars||o).palette.action.disabled)},"contained"===u.variant&&{color:(o.vars||o).palette.action.disabled,boxShadow:(o.vars||o).shadows[0],backgroundColor:(o.vars||o).palette.action.disabledBackground})),t),"text"===u.variant&&{padding:"6px 8px"},"text"===u.variant&&"inherit"!==u.color&&{color:(o.vars||o).palette[u.color].main},"outlined"===u.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===u.variant&&"inherit"!==u.color&&{color:(o.vars||o).palette[u.color].main,border:o.vars?"1px solid rgba(".concat(o.vars.palette[u.color].mainChannel," / 0.5)"):"1px solid ".concat(Object(f.a)(o.palette[u.color].main,.5))},"contained"===u.variant&&{color:o.vars?o.vars.palette.text.primary:null==(n=(i=o.palette).getContrastText)?void 0:n.call(i,o.palette.grey[300]),backgroundColor:(o.vars||o).palette.grey[300],boxShadow:(o.vars||o).shadows[2]},"contained"===u.variant&&"inherit"!==u.color&&{color:(o.vars||o).palette[u.color].contrastText,backgroundColor:(o.vars||o).palette[u.color].main},"inherit"===u.color&&{color:"inherit",borderColor:"currentColor"},"small"===u.size&&"text"===u.variant&&{padding:"4px 5px",fontSize:o.typography.pxToRem(13)},"large"===u.size&&"text"===u.variant&&{padding:"8px 11px",fontSize:o.typography.pxToRem(15)},"small"===u.size&&"outlined"===u.variant&&{padding:"3px 9px",fontSize:o.typography.pxToRem(13)},"large"===u.size&&"outlined"===u.variant&&{padding:"7px 21px",fontSize:o.typography.pxToRem(15)},"small"===u.size&&"contained"===u.variant&&{padding:"4px 10px",fontSize:o.typography.pxToRem(13)},"large"===u.size&&"contained"===u.variant&&{padding:"8px 22px",fontSize:o.typography.pxToRem(15)},u.fullWidth&&{width:"100%"})},function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},Object(r.a)(t,"&.".concat(ve.focusVisible),{boxShadow:"none"}),Object(r.a)(t,"&:active",{boxShadow:"none"}),Object(r.a)(t,"&.".concat(ve.disabled),{boxShadow:"none"}),t)}),ke=Object(h.a)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Object(de.a)(n.size))]]}})(function(e){var t=e.ownerState;return Object(a.a)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},ge(t))}),we=Object(h.a)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Object(de.a)(n.size))]]}})(function(e){var t=e.ownerState;return Object(a.a)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},ge(t))}),_e=o.forwardRef(function(e,t){var n=o.useContext(ye),r=Object(c.a)(n,e),u=Object(d.a)({props:r,name:"MuiButton"}),f=u.children,h=u.color,p=void 0===h?"primary":h,v=u.component,y=void 0===v?"button":v,m=u.className,g=u.disabled,b=void 0!==g&&g,k=u.disableElevation,w=void 0!==k&&k,_=u.disableFocusRipple,O=void 0!==_&&_,x=u.endIcon,j=u.focusVisibleClassName,E=u.fullWidth,S=void 0!==E&&E,T=u.size,I=void 0===T?"medium":T,C=u.startIcon,A=u.type,N=u.variant,P=void 0===N?"text":N,R=Object(i.a)(u,me),L=Object(a.a)({},u,{color:p,component:y,disabled:b,disableElevation:w,disableFocusRipple:O,fullWidth:S,size:I,type:A,variant:P}),D=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,o=e.variant,u=e.classes,s={root:["root",o,"".concat(o).concat(Object(de.a)(t)),"size".concat(Object(de.a)(i)),"".concat(o,"Size").concat(Object(de.a)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Object(de.a)(i))],endIcon:["endIcon","iconSize".concat(Object(de.a)(i))]},c=Object(l.a)(s,pe,u);return Object(a.a)({},u,c)}(L),M=C&&Object(V.jsx)(ke,{className:D.startIcon,ownerState:L,children:C}),F=x&&Object(V.jsx)(we,{className:D.endIcon,ownerState:L,children:x});return Object(V.jsxs)(be,Object(a.a)({ownerState:L,className:Object(s.a)(m,n.className),component:y,disabled:b,focusRipple:!O,focusVisibleClassName:Object(s.a)(D.focusVisible,j),ref:t,type:A},R,{classes:D,children:[M,f,F]}))});t.a=_e},function(e,t,n){"use strict";var r=n(22),i=n(6),a=n(5),o=n(44),u=n(161),s=n(153);function c(e){return e&&e.ownerDocument||document}var l=n(51),f=n(39);var h="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;var d=a.forwardRef(function(e,t){var n=e.children,r=e.container,i=e.disablePortal,u=void 0!==i&&i,s=e.onRendered,c=a.useState(null),d=c[0],p=c[1],v=Object(f.a)(a.isValidElement(n)?n.ref:null,t);return h(function(){u||p(function(e){return e="function"===typeof e?e():e,o.findDOMNode(e)}(r)||document.body)},[r,u]),h(function(){if(d&&!u)return Object(l.a)(t,d),function(){Object(l.a)(t,null)}},[t,d,u]),h(function(){s&&(d||u)&&s()},[s,d,u]),u?a.isValidElement(n)?a.cloneElement(n,{ref:v}):n:d?o.createPortal(n,d):d});function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}},function(){})}var v="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;function y(e){var t=a.useRef(e);return v(function(){t.current=e}),a.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var m=n(65);var g=n(50),b=n(49);function k(e){var t,n=c(e);return n.body===e?(t=n,c(t).defaultView||window).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function w(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function _(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(Object(b.a)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&w(e,i)})}function x(e,t){var n=-1;return e.some(function(e,r){return!!t(e)&&(n=r,!0)}),n}function j(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(k(a)){var o=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(_(a)+o,"px"),n=c(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(_(e)+o,"px")})}var u=a.parentElement,s="HTML"===u.nodeName&&"scroll"===window.getComputedStyle(u)["overflow-y"]?u:a;r.push({value:s.style.overflow,key:"overflow",el:s}),s.style.overflow="hidden"}return function(){n&&[].forEach.call(n,function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")}),r.forEach(function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return Object(g.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&w(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);O(t,e.mountNode,e.modalRef,r,!0);var i=x(this.containers,function(e){return e.container===t});return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=x(this.containers,function(t){return-1!==t.modals.indexOf(e)}),r=this.containers[n];r.restore||(r.restore=j(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=x(this.containers,function(t){return-1!==t.modals.indexOf(e)}),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&w(e.modalRef,!0),O(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&w(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var S=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,u=void 0!==i&&i,s=e.disableRestoreFocus,l=void 0!==s&&s,h=e.getDoc,d=e.isEnabled,p=e.open,v=a.useRef(),y=a.useRef(null),m=a.useRef(null),g=a.useRef(),b=a.useRef(null),k=a.useCallback(function(e){b.current=o.findDOMNode(e)},[]),w=Object(f.a)(t.ref,k),_=a.useRef();return a.useEffect(function(){_.current=p},[p]),!_.current&&p&&"undefined"!==typeof window&&(g.current=h().activeElement),a.useEffect(function(){if(p){var e=c(b.current);r||!b.current||b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),b.current.focus());var t=function(){null!==b.current&&(e.hasFocus()&&!u&&d()&&!v.current?b.current&&!b.current.contains(e.activeElement)&&b.current.focus():v.current=!1)},n=function(t){!u&&d()&&9===t.keyCode&&e.activeElement===b.current&&(v.current=!0,t.shiftKey?m.current.focus():y.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval(function(){t()},50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),l||(g.current&&g.current.focus&&g.current.focus(),g.current=null)}}},[r,u,l,d,p]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:y,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:w}),a.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"}))},T={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},I=a.forwardRef(function(e,t){var n=e.invisible,o=void 0!==n&&n,u=e.open,s=Object(r.a)(e,["invisible","open"]);return u?a.createElement("div",Object(i.a)({"aria-hidden":!0,ref:t},s,{style:Object(i.a)({},T.root,o?T.invisible:{},s.style)})):null});var C=new E,A=a.forwardRef(function(e,t){var n=Object(u.a)(),l=Object(s.a)({name:"MuiModal",props:Object(i.a)({},e),theme:n}),h=l.BackdropComponent,v=void 0===h?I:h,g=l.BackdropProps,b=l.children,k=l.closeAfterTransition,_=void 0!==k&&k,O=l.container,x=l.disableAutoFocus,j=void 0!==x&&x,E=l.disableBackdropClick,T=void 0!==E&&E,A=l.disableEnforceFocus,N=void 0!==A&&A,P=l.disableEscapeKeyDown,R=void 0!==P&&P,L=l.disablePortal,D=void 0!==L&&L,M=l.disableRestoreFocus,F=void 0!==M&&M,U=l.disableScrollLock,V=void 0!==U&&U,B=l.hideBackdrop,z=void 0!==B&&B,q=l.keepMounted,G=void 0!==q&&q,W=l.manager,K=void 0===W?C:W,H=l.onBackdropClick,Q=l.onClose,$=l.onEscapeKeyDown,Y=l.onRendered,J=l.open,X=Object(r.a)(l,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Z=a.useState(!0),ee=Z[0],te=Z[1],ne=a.useRef({}),re=a.useRef(null),ie=a.useRef(null),ae=Object(f.a)(ie,t),oe=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(l),ue=function(){return c(re.current)},se=function(){return ne.current.modalRef=ie.current,ne.current.mountNode=re.current,ne.current},ce=function(){K.mount(se(),{disableScrollLock:V}),ie.current.scrollTop=0},le=y(function(){var e=function(e){return e="function"===typeof e?e():e,o.findDOMNode(e)}(O)||ue().body;K.add(se(),e),ie.current&&ce()}),fe=a.useCallback(function(){return K.isTopModal(se())},[K]),he=y(function(e){re.current=e,e&&(Y&&Y(),J&&fe()?ce():w(ie.current,!0))}),de=a.useCallback(function(){K.remove(se())},[K]);if(a.useEffect(function(){return function(){de()}},[de]),a.useEffect(function(){J?le():oe&&_||de()},[J,de,oe,_,le]),!G&&!J&&(!oe||ee))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:m.a}),ve={};return void 0===b.props.tabIndex&&(ve.tabIndex=b.props.tabIndex||"-1"),oe&&(ve.onEnter=p(function(){te(!1)},b.props.onEnter),ve.onExited=p(function(){te(!0),_&&de()},b.props.onExited)),a.createElement(d,{ref:he,container:O,disablePortal:D},a.createElement("div",Object(i.a)({ref:ae,onKeyDown:function(e){"Escape"===e.key&&fe()&&($&&$(e),R||(e.stopPropagation(),Q&&Q(e,"escapeKeyDown")))},role:"presentation"},X,{style:Object(i.a)({},pe.root,!J&&ee?pe.hidden:{},X.style)}),z?null:a.createElement(v,Object(i.a)({open:J,onClick:function(e){e.target===e.currentTarget&&(H&&H(e),!T&&Q&&Q(e,"backdropClick"))}},g)),a.createElement(S,{disableEnforceFocus:N,disableAutoFocus:j,disableRestoreFocus:F,getDoc:ue,isEnabled:fe,open:J},a.cloneElement(b,ve))))});t.a=A},function(e,t,n){"use strict";var r=n(6),i=n(22),a=n(5),o=n.n(a),u=n(25),s=n(152);var c=a.createContext();var l=c,f=n(56),h=n.n(f),d=n(155),p=n(153),v=n(161),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,u=t.withTheme,s=void 0!==u&&u,c=t.name,l=Object(i.a)(t,["defaultTheme","withTheme","name"]),f=c,y=Object(d.a)(e,Object(r.a)({defaultTheme:a,Component:n,name:c||n.displayName,classNamePrefix:f},l)),m=o.a.forwardRef(function(e,t){e.classes;var u,l=e.innerRef,f=Object(i.a)(e,["classes","innerRef"]),h=y(Object(r.a)({},n.defaultProps,e)),d=f;return("string"===typeof c||s)&&(u=Object(v.a)()||a,c&&(d=Object(p.a)({theme:u,name:c,props:f})),s&&!d.theme&&(d.theme=u)),o.a.createElement(n,Object(r.a)({ref:l||t,classes:h},d))});return h()(m,n),m}},m=n(66);var g=function(e,t){return y(e,Object(r.a)({defaultTheme:m.a},t))};function b(e){if("string"!==typeof e)throw new Error(Object(s.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}var k=n(39);function w(e,t){return parseInt(e[t],10)||0}var _="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,O={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},x=a.forwardRef(function(e,t){var n=e.onChange,o=e.rows,u=e.rowsMax,s=e.rowsMin,c=e.maxRows,l=e.minRows,f=void 0===l?1:l,h=e.style,d=e.value,p=Object(i.a)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),v=c||u,y=o||s||f,m=a.useRef(null!=d).current,g=a.useRef(null),b=Object(k.a)(t,g),x=a.useRef(null),j=a.useRef(0),E=a.useState({}),S=E[0],T=E[1],I=a.useCallback(function(){var t=g.current,n=window.getComputedStyle(t),r=x.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=w(n,"padding-bottom")+w(n,"padding-top"),o=w(n,"border-bottom-width")+w(n,"border-top-width"),u=r.scrollHeight-a;r.value="x";var s=r.scrollHeight-a,c=u;y&&(c=Math.max(Number(y)*s,c)),v&&(c=Math.min(Number(v)*s,c));var l=(c=Math.max(c,s))+("border-box"===i?a+o:0),f=Math.abs(c-u)<=1;T(function(e){return j.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(j.current+=1,{overflow:f,outerHeightStyle:l}):e})},[v,y,e.placeholder]);a.useEffect(function(){var e=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this;clearTimeout(t),t=setTimeout(function(){e.apply(o,i)},n)}return r.clear=function(){clearTimeout(t)},r}(function(){j.current=0,I()});return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}},[I]),_(function(){I()}),a.useEffect(function(){j.current=0},[d]);return a.createElement(a.Fragment,null,a.createElement("textarea",Object(r.a)({value:d,onChange:function(e){j.current=0,m||I(),n&&n(e)},ref:b,rows:y,style:Object(r.a)({height:S.outerHeightStyle,overflow:S.overflow?"hidden":null},h)},p)),a.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:x,tabIndex:-1,style:Object(r.a)({},O,h)}))});function j(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}var E="undefined"===typeof window?a.useEffect:a.useLayoutEffect,S=a.forwardRef(function(e,t){var n=e["aria-describedby"],o=e.autoComplete,f=e.autoFocus,h=e.classes,d=e.className,p=(e.color,e.defaultValue),v=e.disabled,y=e.endAdornment,m=(e.error,e.fullWidth),g=void 0!==m&&m,w=e.id,_=e.inputComponent,O=void 0===_?"input":_,S=e.inputProps,T=void 0===S?{}:S,I=e.inputRef,C=(e.margin,e.multiline),A=void 0!==C&&C,N=e.name,P=e.onBlur,R=e.onChange,L=e.onClick,D=e.onFocus,M=e.onKeyDown,F=e.onKeyUp,U=e.placeholder,V=e.readOnly,B=e.renderSuffix,z=e.rows,q=e.rowsMax,G=e.rowsMin,W=e.maxRows,K=e.minRows,H=e.startAdornment,Q=e.type,$=void 0===Q?"text":Q,Y=e.value,J=Object(i.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),X=null!=T.value?T.value:Y,Z=a.useRef(null!=X).current,ee=a.useRef(),te=a.useCallback(function(e){0},[]),ne=Object(k.a)(T.ref,te),re=Object(k.a)(I,ne),ie=Object(k.a)(ee,re),ae=a.useState(!1),oe=ae[0],ue=ae[1],se=a.useContext(c);var ce=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce(function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e},{})}({props:e,muiFormControl:se,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});ce.focused=se?se.focused:oe,a.useEffect(function(){!se&&v&&oe&&(ue(!1),P&&P())},[se,v,oe,P]);var le=se&&se.onFilled,fe=se&&se.onEmpty,he=a.useCallback(function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(j(e.value)&&""!==e.value||t&&j(e.defaultValue)&&""!==e.defaultValue)}(e)?fe&&fe():le&&le()},[le,fe]);E(function(){Z&&he({value:X})},[X,he,Z]);a.useEffect(function(){he(ee.current)},[]);var de=O,pe=Object(r.a)({},T,{ref:ie});"string"!==typeof de?pe=Object(r.a)({inputRef:ie,type:$},pe,{ref:null}):A?!z||W||K||q||G?(pe=Object(r.a)({minRows:z||K,rowsMax:q,maxRows:W},pe),de=x):de="textarea":pe=Object(r.a)({type:$},pe);return a.useEffect(function(){se&&se.setAdornedStart(Boolean(H))},[se,H]),a.createElement("div",Object(r.a)({className:Object(u.a)(h.root,h["color".concat(b(ce.color||"primary"))],d,ce.disabled&&h.disabled,ce.error&&h.error,g&&h.fullWidth,ce.focused&&h.focused,se&&h.formControl,A&&h.multiline,H&&h.adornedStart,y&&h.adornedEnd,"dense"===ce.margin&&h.marginDense),onClick:function(e){ee.current&&e.currentTarget===e.target&&ee.current.focus(),L&&L(e)},ref:t},J),H,a.createElement(l.Provider,{value:null},a.createElement(de,Object(r.a)({"aria-invalid":ce.error,"aria-describedby":n,autoComplete:o,autoFocus:f,defaultValue:p,disabled:ce.disabled,id:w,onAnimationStart:function(e){he("mui-auto-fill-cancel"===e.animationName?ee.current:{value:"x"})},name:N,placeholder:U,readOnly:V,required:ce.required,rows:z,value:X,onKeyDown:M,onKeyUp:F},pe,{className:Object(u.a)(h.input,T.className,ce.disabled&&h.disabled,A&&h.inputMultiline,ce.hiddenLabel&&h.inputHiddenLabel,H&&h.inputAdornedStart,y&&h.inputAdornedEnd,"search"===$&&h.inputTypeSearch,"dense"===ce.margin&&h.inputMarginDense),onBlur:function(e){P&&P(e),T.onBlur&&T.onBlur(e),se&&se.onBlur?se.onBlur(e):ue(!1)},onChange:function(e){if(!Z){var t=e.target||ee.current;if(null==t)throw new Error(Object(s.a)(1));he({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];T.onChange&&T.onChange.apply(T,[e].concat(r)),R&&R.apply(void 0,[e].concat(r))},onFocus:function(e){ce.disabled?e.stopPropagation():(D&&D(e),T.onFocus&&T.onFocus(e),se&&se.onFocus?se.onFocus(e):ue(!0))}}))),y,B?B(Object(r.a)({},ce,{startAdornment:H})):null)}),T=g(function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},a={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(r.a)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},{name:"MuiInputBase"})(S),I=a.forwardRef(function(e,t){var n=e.disableUnderline,o=e.classes,s=e.fullWidth,c=void 0!==s&&s,l=e.inputComponent,f=void 0===l?"input":l,h=e.multiline,d=void 0!==h&&h,p=e.type,v=void 0===p?"text":p,y=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(T,Object(r.a)({classes:Object(r.a)({},o,{root:Object(u.a)(o.root,!n&&o.underline),underline:null}),fullWidth:c,inputComponent:f,multiline:d,ref:t,type:v},y))});I.muiName="Input";t.a=g(function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},{name:"MuiInput"})(I)},function(e,t,n){"use strict";var r=n(14),i=n(20),a=n(6),o=n(5),u=n(25),s=n(144),c=n(33),l=n(40),f=n(35),h=n(162),d=n(145);function p(e){return Object(h.a)("MuiSvgIcon",e)}Object(d.a)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var v=n(21),y=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=Object(c.a)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Object(f.a)(n.color))],t["fontSize".concat(Object(f.a)(n.fontSize))]]}})(function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,y,m,g=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)?void 0:null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)?void 0:null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)?void 0:null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)?void 0:null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)?void 0:null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[b.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)?void 0:null==(d=h[b.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)?void 0:null==(v=p.action)?void 0:v.active,disabled:null==(y=(g.vars||g).palette)?void 0:null==(m=y.action)?void 0:m.disabled,inherit:void 0}[b.color]}}),g=o.forwardRef(function(e,t){var n=Object(l.a)({props:e,name:"MuiSvgIcon"}),r=n.children,o=n.className,c=n.color,h=void 0===c?"inherit":c,d=n.component,g=void 0===d?"svg":d,b=n.fontSize,k=void 0===b?"medium":b,w=n.htmlColor,_=n.inheritViewBox,O=void 0!==_&&_,x=n.titleAccess,j=n.viewBox,E=void 0===j?"0 0 24 24":j,S=Object(i.a)(n,y),T=Object(a.a)({},n,{color:h,component:g,fontSize:k,instanceFontSize:e.fontSize,inheritViewBox:O,viewBox:E}),I={};O||(I.viewBox=E);var C=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat(Object(f.a)(t)),"fontSize".concat(Object(f.a)(n))]};return Object(s.a)(i,p,r)}(T);return Object(v.jsxs)(m,Object(a.a)({as:g,className:Object(u.a)(C.root,o),ownerState:T,focusable:"false",color:w,"aria-hidden":!x||void 0,role:x?"img":void 0,ref:t},I,S,{children:[r,x?Object(v.jsx)("title",{children:x}):null]}))});g.muiName="SvgIcon";var b=g;var k=function(e,t){var n=function(n,r){return Object(v.jsx)(b,Object(a.a)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=b.muiName,o.memo(o.forwardRef(n))}(Object(v.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function w(e){return Object(h.a)("MuiAvatar",e)}Object(d.a)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var _=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],O=Object(c.a)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:t.shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})}),x=Object(c.a)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),j=Object(c.a)(k,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var E=o.forwardRef(function(e,t){var n=Object(l.a)({props:e,name:"MuiAvatar"}),c=n.alt,f=n.children,h=n.className,d=n.component,p=void 0===d?"div":d,y=n.imgProps,m=n.sizes,g=n.src,b=n.srcSet,k=n.variant,E=void 0===k?"circular":k,S=Object(i.a)(n,_),T=null,I=function(e){var t=e.crossOrigin,n=e.referrerPolicy,i=e.src,a=e.srcSet,u=o.useState(!1),s=Object(r.a)(u,2),c=s[0],l=s[1];return o.useEffect(function(){if(i||a){l(!1);var e=!0,r=new Image;return r.onload=function(){e&&l("loaded")},r.onerror=function(){e&&l("error")},r.crossOrigin=t,r.referrerPolicy=n,r.src=i,a&&(r.srcset=a),function(){e=!1}}},[t,n,i,a]),c}(Object(a.a)({},y,{src:g,srcSet:b})),C=g||b,A=C&&"error"!==I,N=Object(a.a)({},n,{colorDefault:!A,component:p,variant:E}),P=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return Object(s.a)(n,w,t)}(N);return T=A?Object(v.jsx)(x,Object(a.a)({alt:c,src:g,srcSet:b,sizes:m,ownerState:N,className:P.img},y)):null!=f?f:C&&c?c[0]:Object(v.jsx)(j,{className:P.fallback}),Object(v.jsx)(O,Object(a.a)({as:p,ownerState:N,className:Object(u.a)(P.root,h),ref:t},S,{children:T}))});t.a=E},function(e,t,n){"use strict";var r=n(6),i=n(20),a=n(147),o=n(4),u=["values","unit","step"],s=function(e){var t=Object.keys(e).map(function(t){return{key:t,val:e[t]}})||[];return t.sort(function(e,t){return e.val-t.val}),t.reduce(function(e,t){return Object(r.a)({},e,Object(o.a)({},t.key,t.val))},{})};var c={borderRadius:4},l=n(37);var f=["breakpoints","palette","spacing","shape"];t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,h=void 0===o?{}:o,d=e.spacing,p=e.shape,v=void 0===p?{}:p,y=Object(i.a)(e,f),m=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,o=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=Object(i.a)(e,u),h=s(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(o,")")}function y(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(o,")")}return Object(r.a)({keys:d,values:h,up:p,down:v,between:y,only:function(e){return d.indexOf(e)+1<d.length?y(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):y(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:o},f)}(n),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(l.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}(d),b=Object(a.a)({breakpoints:m,direction:"ltr",components:{},palette:Object(r.a)({mode:"light"},h),spacing:g,shape:Object(r.a)({},c,v)},y),k=arguments.length,w=new Array(k>1?k-1:0),_=1;_<k;_++)w[_-1]=arguments[_];return b=w.reduce(function(e,t){return Object(a.a)(e,t)},b)}},function(e,t,n){"use strict";var r=n(5),i=n.n(r);var a=i.a.createContext(null);function o(){return i.a.useContext(a)}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();n.d(t,"a",function(){return o});var a={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function o(e,t){return a[t]||"".concat(i.generate(e),"-").concat(t)}}]]);
//# sourceMappingURL=2.11a9af54.chunk.js.map